import{$ as io,$a as $n,$b as B1,A as Xe,Aa as zi,Ab as _t,B as ii,Ba as pi,Bb as wt,Bc as q1,C as Ne,Ca as Zi,Cb as mi,D as wi,Da as Mn,Db as Rt,E as Ii,Ea as Cn,Eb as ai,F as Ki,Fa as x1,Fb as I1,G as p1,Ga as P1,Gb as Wt,Gc as G1,H as eo,Ha as A1,Hb as Ye,I as Xt,Ia as T1,Ib as Ai,J as li,Ja as E1,Jb as Rr,K as hi,Ka as k1,Kb as co,L as di,La as D1,Lb as lo,M as Mi,Ma as xi,Mb as zn,N as to,Na as O1,Nb as ho,O as f1,Oa as L1,Ob as Hr,P as m1,Pa as Wn,Pb as lt,Q as g1,Qa as Te,Qb as R1,R as ni,Ra as oe,Rb as Ht,S as St,Sa as ao,Sb as uo,T as fe,Ta as It,Tb as H1,U as v1,Ua as Fr,Ub as N1,V as ut,Va as oo,Vb as Le,W as Qe,Wa as Zt,Wb as po,X as ue,Xa as yt,Xb as xn,Y as Pe,Ya as Vr,Yb as Y1,Z as y1,Za as He,Zb as Nr,_ as xe,_a as ri,_b as Yr,a as he,aa as ae,ab as Qi,ac as rn,b as Be,ba as me,bb as Ji,bc as j1,c as Ka,ca as Un,cb as F1,cc as U1,d as _i,da as we,db as V1,dc as Br,e as l1,ea as Ie,eb as Ir,ec as jr,f as ce,fa as Ae,fb as je,fc as Nt,g as ti,ga as Je,gb as Sn,gc as Ue,h as h1,ha as ui,hb as De,hc as ye,i as _n,ia as b1,ib as en,ic as Yt,j as Xa,ja as _1,jb as ot,jc as qe,k as Za,ka as wn,kb as ct,kc as fo,l as ve,la as Ci,lb as qn,lc as mo,m as it,ma as Ze,mb as Gn,n as si,na as gt,nb as Se,o as tt,oa as vt,ob as Oe,p as dt,pa as Xi,pb as $e,q as be,qa as w1,qb as tn,r as jn,ra as Si,rb as nn,rc as W1,s as Lr,sa as no,sb as Ft,sc as Kn,t as d1,ta as M1,tb as so,tc as Ur,u as Qa,ua as C1,ub as nt,v as Me,va as Re,vb as ze,w as ci,wa as ke,wb as Dt,x as Vt,xa as S1,xb as bt,y as u1,ya as ro,yb as fi,yc as $1,z as Ja,za as z1,zb as Pi,zc as Wr}from"./chunk-J2V2FYKD.js";var Ua=_i(()=>{"use strict"});var y2=_i((_m,v2)=>{"use strict";var nd="bold|bolder|lighter|[1-9]00",rd="italic|oblique",ad="small-caps",od="ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",sd="px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q",g2=`'([^']+)'|"([^"]+)"|[\\w\\s-]+`,cd=new RegExp(`(${nd}) +`,"i"),ld=new RegExp(`(${rd}) +`,"i"),hd=new RegExp(`(${ad}) +`,"i"),dd=new RegExp(`(${od}) +`,"i"),ud=new RegExp(`([\\d\\.]+)(${sd}) *((?:${g2})( *, *(?:${g2}))*)`),i1={},pd=16;v2.exports=i=>{if(i1[i])return i1[i];let e=ud.exec(i);if(!e)return;let r={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")},t,n,a,o,l=i.substring(0,e.index);switch((t=cd.exec(l))&&(r.weight=t[1]),(n=ld.exec(l))&&(r.style=n[1]),(a=hd.exec(l))&&(r.variant=a[1]),(o=dd.exec(l))&&(r.stretch=o[1]),r.unit){case"pt":r.size/=.75;break;case"pc":r.size*=16;break;case"in":r.size*=96;break;case"cm":r.size*=96/2.54;break;case"mm":r.size*=96/25.4;break;case"%":break;case"em":case"rem":r.size*=pd/.75;break;case"q":r.size*=96/25.4/4;break}return i1[i]=r}});var b2=_i(Tr=>{"use strict";var fd=y2();Tr.parseFont=fd;Tr.createCanvas=function(i,e){return Object.assign(document.createElement("canvas"),{width:i,height:e})};Tr.createImageData=function(i,e,r){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(i);case 2:return new ImageData(i,e);default:return new ImageData(i,e,r)}};Tr.loadImage=function(i,e){return new Promise(function(r,t){let n=Object.assign(document.createElement("img"),e);function a(){n.onload=null,n.onerror=null}n.onload=function(){a(),r(n)},n.onerror=function(){a(),t(new Error('Failed to load the image "'+i+'"'))},n.src=i})}});var _2=_i(()=>{"use strict"});var n1=_i(()=>{"use strict"});var r1=_i(()=>{"use strict"});var w2=_i(()=>{"use strict"});var M2=_i((exports,module)=>{"use strict";(function(e,r){typeof exports=="object"&&typeof module=="object"?module.exports=e.pdfjsLib=r():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],()=>e.pdfjsLib=r()):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=e.pdfjsLib=r():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=r()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=C,e.bytesToString=j,e.createValidAbsoluteUrl=P,e.getModificationDate=ft,e.getUuid=Kt,e.getVerbosityLevel=R,e.info=B,e.isArrayBuffer=Fe,e.isArrayEqual=kt,e.isNodeJS=void 0,e.normalizeUnicode=Nn,e.objectFromMap=U,e.objectSize=Q,e.setVerbosityLevel=K,e.shadow=V,e.string32=ie,e.stringToBytes=q,e.stringToPDFString=pe,e.stringToUTF8String=ge,e.unreachable=_,e.utf8StringToString=_e,e.warn=k;let r=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=r;let t=[1,0,0,1,0,0];e.IDENTITY_MATRIX=t;let n=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=n;let a=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=a;let o=1.35;e.LINE_FACTOR=o;let l=.35;e.LINE_DESCENT_FACTOR=l;let m=l/o;e.BASELINE_FACTOR=m;let d={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=d;let h={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=h;let s="pdfjs_internal_editor_";e.AnnotationEditorPrefix=s;let c={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=c;let f={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=f;let p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=p;let u={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=u;let y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=y;let v={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=v;let z={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=z;let g={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=g;let b={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=b;let M={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=M;let x={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=x;let A={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=A;let D={O:"PageOpen",C:"PageClose"};e.PageActionEventType=D;let O={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=O;let Y={NONE:0,BINARY:1};e.CMapCompressionType=Y;let W={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=W;let $={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=$;let Z=O.WARNINGS;function K(re){Number.isInteger(re)&&(Z=re)}function R(){return Z}function B(re){Z>=O.INFOS&&console.log(`Info: ${re}`)}function k(re){Z>=O.WARNINGS&&console.log(`Warning: ${re}`)}function _(re){throw new Error(re)}function C(re,te){re||_(te)}function S(re){switch(re?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function P(re,te=null,ee=null){if(!re)return null;try{if(ee&&typeof re=="string"&&(ee.addDefaultProtocol&&re.startsWith("www.")&&re.match(/\./g)?.length>=2&&(re=`http://${re}`),ee.tryConvertEncoding))try{re=ge(re)}catch{}let de=te?new URL(re,te):new URL(re);if(S(de))return de}catch{}return null}function V(re,te,ee,de=!1){return Object.defineProperty(re,te,{value:ee,enumerable:!de,configurable:!0,writable:!1}),ee}let L=function(){function te(ee,de){this.constructor===te&&_("Cannot initialize BaseException."),this.message=ee,this.name=de}return te.prototype=new Error,te.constructor=te,te}();e.BaseException=L;class N extends L{constructor(te,ee){super(te,"PasswordException"),this.code=ee}}e.PasswordException=N;class I extends L{constructor(te,ee){super(te,"UnknownErrorException"),this.details=ee}}e.UnknownErrorException=I;class w extends L{constructor(te){super(te,"InvalidPDFException")}}e.InvalidPDFException=w;class T extends L{constructor(te){super(te,"MissingPDFException")}}e.MissingPDFException=T;class E extends L{constructor(te,ee){super(te,"UnexpectedResponseException"),this.status=ee}}e.UnexpectedResponseException=E;class F extends L{constructor(te){super(te,"FormatError")}}e.FormatError=F;class H extends L{constructor(te){super(te,"AbortException")}}e.AbortException=H;function j(re){(typeof re!="object"||re?.length===void 0)&&_("Invalid argument for bytesToString");let te=re.length,ee=8192;if(te<ee)return String.fromCharCode.apply(null,re);let de=[];for(let Ve=0;Ve<te;Ve+=ee){let st=Math.min(Ve+ee,te),at=re.subarray(Ve,st);de.push(String.fromCharCode.apply(null,at))}return de.join("")}function q(re){typeof re!="string"&&_("Invalid argument for stringToBytes");let te=re.length,ee=new Uint8Array(te);for(let de=0;de<te;++de)ee[de]=re.charCodeAt(de)&255;return ee}function ie(re){return String.fromCharCode(re>>24&255,re>>16&255,re>>8&255,re&255)}function Q(re){return Object.keys(re).length}function U(re){let te=Object.create(null);for(let[ee,de]of re)te[ee]=de;return te}function X(){let re=new Uint8Array(4);return re[0]=1,new Uint32Array(re.buffer,0,1)[0]===1}function G(){try{return new Function(""),!0}catch{return!1}}class J{static get isLittleEndian(){return V(this,"isLittleEndian",X())}static get isEvalSupported(){return V(this,"isEvalSupported",G())}static get isOffscreenCanvasSupported(){return V(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?V(this,"platform",{isWin:!1,isMac:!1}):V(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return V(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}e.FeatureTest=J;let ne=[...Array(256).keys()].map(re=>re.toString(16).padStart(2,"0"));class se{static makeHexColor(te,ee,de){return`#${ne[te]}${ne[ee]}${ne[de]}`}static scaleMinMax(te,ee){let de;te[0]?(te[0]<0&&(de=ee[0],ee[0]=ee[1],ee[1]=de),ee[0]*=te[0],ee[1]*=te[0],te[3]<0&&(de=ee[2],ee[2]=ee[3],ee[3]=de),ee[2]*=te[3],ee[3]*=te[3]):(de=ee[0],ee[0]=ee[2],ee[2]=de,de=ee[1],ee[1]=ee[3],ee[3]=de,te[1]<0&&(de=ee[2],ee[2]=ee[3],ee[3]=de),ee[2]*=te[1],ee[3]*=te[1],te[2]<0&&(de=ee[0],ee[0]=ee[1],ee[1]=de),ee[0]*=te[2],ee[1]*=te[2]),ee[0]+=te[4],ee[1]+=te[4],ee[2]+=te[5],ee[3]+=te[5]}static transform(te,ee){return[te[0]*ee[0]+te[2]*ee[1],te[1]*ee[0]+te[3]*ee[1],te[0]*ee[2]+te[2]*ee[3],te[1]*ee[2]+te[3]*ee[3],te[0]*ee[4]+te[2]*ee[5]+te[4],te[1]*ee[4]+te[3]*ee[5]+te[5]]}static applyTransform(te,ee){let de=te[0]*ee[0]+te[1]*ee[2]+ee[4],Ve=te[0]*ee[1]+te[1]*ee[3]+ee[5];return[de,Ve]}static applyInverseTransform(te,ee){let de=ee[0]*ee[3]-ee[1]*ee[2],Ve=(te[0]*ee[3]-te[1]*ee[2]+ee[2]*ee[5]-ee[4]*ee[3])/de,st=(-te[0]*ee[1]+te[1]*ee[0]+ee[4]*ee[1]-ee[5]*ee[0])/de;return[Ve,st]}static getAxialAlignedBoundingBox(te,ee){let de=this.applyTransform(te,ee),Ve=this.applyTransform(te.slice(2,4),ee),st=this.applyTransform([te[0],te[3]],ee),at=this.applyTransform([te[2],te[1]],ee);return[Math.min(de[0],Ve[0],st[0],at[0]),Math.min(de[1],Ve[1],st[1],at[1]),Math.max(de[0],Ve[0],st[0],at[0]),Math.max(de[1],Ve[1],st[1],at[1])]}static inverseTransform(te){let ee=te[0]*te[3]-te[1]*te[2];return[te[3]/ee,-te[1]/ee,-te[2]/ee,te[0]/ee,(te[2]*te[5]-te[4]*te[3])/ee,(te[4]*te[1]-te[5]*te[0])/ee]}static singularValueDecompose2dScale(te){let ee=[te[0],te[2],te[1],te[3]],de=te[0]*ee[0]+te[1]*ee[2],Ve=te[0]*ee[1]+te[1]*ee[3],st=te[2]*ee[0]+te[3]*ee[2],at=te[2]*ee[1]+te[3]*ee[3],Oi=(de+at)/2,Li=Math.sqrt((de+at)**2-4*(de*at-st*Ve))/2,bi=Oi+Li||1,Ct=Oi-Li||1;return[Math.sqrt(bi),Math.sqrt(Ct)]}static normalizeRect(te){let ee=te.slice(0);return te[0]>te[2]&&(ee[0]=te[2],ee[2]=te[0]),te[1]>te[3]&&(ee[1]=te[3],ee[3]=te[1]),ee}static intersect(te,ee){let de=Math.max(Math.min(te[0],te[2]),Math.min(ee[0],ee[2])),Ve=Math.min(Math.max(te[0],te[2]),Math.max(ee[0],ee[2]));if(de>Ve)return null;let st=Math.max(Math.min(te[1],te[3]),Math.min(ee[1],ee[3])),at=Math.min(Math.max(te[1],te[3]),Math.max(ee[1],ee[3]));return st>at?null:[de,st,Ve,at]}static bezierBoundingBox(te,ee,de,Ve,st,at,Oi,Li){let bi=[],Ct=[[],[]],Fi,Vi,kr,mt,Dr,Or,$a,qa;for(let Ga=0;Ga<2;++Ga){if(Ga===0?(Vi=6*te-12*de+6*st,Fi=-3*te+9*de-9*st+3*Oi,kr=3*de-3*te):(Vi=6*ee-12*Ve+6*at,Fi=-3*ee+9*Ve-9*at+3*Li,kr=3*Ve-3*ee),Math.abs(Fi)<1e-12){if(Math.abs(Vi)<1e-12)continue;mt=-kr/Vi,0<mt&&mt<1&&bi.push(mt);continue}$a=Vi*Vi-4*kr*Fi,qa=Math.sqrt($a),!($a<0)&&(Dr=(-Vi+qa)/(2*Fi),0<Dr&&Dr<1&&bi.push(Dr),Or=(-Vi-qa)/(2*Fi),0<Or&&Or<1&&bi.push(Or))}let Yn=bi.length,Ut,Bn=Yn;for(;Yn--;)mt=bi[Yn],Ut=1-mt,Ct[0][Yn]=Ut*Ut*Ut*te+3*Ut*Ut*mt*de+3*Ut*mt*mt*st+mt*mt*mt*Oi,Ct[1][Yn]=Ut*Ut*Ut*ee+3*Ut*Ut*mt*Ve+3*Ut*mt*mt*at+mt*mt*mt*Li;return Ct[0][Bn]=te,Ct[1][Bn]=ee,Ct[0][Bn+1]=Oi,Ct[1][Bn+1]=Li,Ct[0].length=Ct[1].length=Bn+2,[Math.min(...Ct[0]),Math.min(...Ct[1]),Math.max(...Ct[0]),Math.max(...Ct[1])]}}e.Util=se;let le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function pe(re){if(re[0]>="\xEF"){let ee;if(re[0]==="\xFE"&&re[1]==="\xFF"?ee="utf-16be":re[0]==="\xFF"&&re[1]==="\xFE"?ee="utf-16le":re[0]==="\xEF"&&re[1]==="\xBB"&&re[2]==="\xBF"&&(ee="utf-8"),ee)try{let de=new TextDecoder(ee,{fatal:!0}),Ve=q(re);return de.decode(Ve)}catch(de){k(`stringToPDFString: "${de}".`)}}let te=[];for(let ee=0,de=re.length;ee<de;ee++){let Ve=le[re.charCodeAt(ee)];te.push(Ve?String.fromCharCode(Ve):re.charAt(ee))}return te.join("")}function ge(re){return decodeURIComponent(escape(re))}function _e(re){return unescape(encodeURIComponent(re))}function Fe(re){return typeof re=="object"&&re?.byteLength!==void 0}function kt(re,te){if(re.length!==te.length)return!1;for(let ee=0,de=re.length;ee<de;ee++)if(re[ee]!==te[ee])return!1;return!0}function ft(re=new Date){return[re.getUTCFullYear().toString(),(re.getUTCMonth()+1).toString().padStart(2,"0"),re.getUTCDate().toString().padStart(2,"0"),re.getUTCHours().toString().padStart(2,"0"),re.getUTCMinutes().toString().padStart(2,"0"),re.getUTCSeconds().toString().padStart(2,"0")].join("")}class Gt{#e=!1;constructor(){this.promise=new Promise((te,ee)=>{this.resolve=de=>{this.#e=!0,te(de)},this.reject=de=>{this.#e=!0,ee(de)}})}get settled(){return this.#e}}e.PromiseCapability=Gt;let ht=null,ei=null;function Nn(re){return ht||(ht=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ei=new Map([["\uFB05","\u017Ft"]])),re.replaceAll(ht,(te,ee,de)=>ee?ee.normalize("NFKC"):ei.get(de))}function Kt(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let re=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(re);else for(let te=0;te<32;te++)re[te]=Math.floor(Math.random()*255);return j(re)}let Mt="pdfjs_internal_id_";e.AnnotationPrefix=Mt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(i){if(typeof i=="string"||i instanceof URL?i={url:i}:(0,_util.isArrayBuffer)(i)&&(i={data:i}),typeof i!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!i.url&&!i.data&&!i.range)throw new Error("Invalid parameter object: need either .data, .range or .url");let e=new PDFDocumentLoadingTask,{docId:r}=e,t=i.url?getUrlProp(i.url):null,n=i.data?getDataProp(i.data):null,a=i.httpHeaders||null,o=i.withCredentials===!0,l=i.password??null,m=i.range instanceof PDFDataRangeTransport?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE,h=i.worker instanceof PDFWorker?i.worker:null,s=i.verbosity,c=typeof i.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(i.docBaseUrl)?i.docBaseUrl:null,f=typeof i.cMapUrl=="string"?i.cMapUrl:null,p=i.cMapPacked!==!1,u=i.CMapReaderFactory||DefaultCMapReaderFactory,y=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,v=i.StandardFontDataFactory||DefaultStandardFontDataFactory,z=i.stopAtErrors!==!0,g=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,b=i.isEvalSupported!==!1,M=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!_util.isNodeJS,x=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,A=typeof i.disableFontFace=="boolean"?i.disableFontFace:_util.isNodeJS,D=i.fontExtraProperties===!0,O=i.enableXfa===!0,Y=i.ownerDocument||globalThis.document,W=i.disableRange===!0,$=i.disableStream===!0,Z=i.disableAutoFetch===!0,K=i.pdfBug===!0,R=m?m.length:i.length??NaN,B=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!_util.isNodeJS&&!A,k=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:u===_display_utils.DOMCMapReaderFactory&&v===_display_utils.DOMStandardFontDataFactory&&f&&y&&(0,_display_utils.isValidFetchUrl)(f,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(y,document.baseURI),_=i.canvasFactory||new DefaultCanvasFactory({ownerDocument:Y}),C=i.filterFactory||new DefaultFilterFactory({docId:r,ownerDocument:Y}),S=null;(0,_util.setVerbosityLevel)(s);let P={canvasFactory:_,filterFactory:C};if(k||(P.cMapReaderFactory=new u({baseUrl:f,isCompressed:p}),P.standardFontDataFactory=new v({baseUrl:y})),!h){let N={verbosity:s,port:_worker_options.GlobalWorkerOptions.workerPort};h=N.port?PDFWorker.fromPort(N):new PDFWorker(N),e._worker=h}let V={docId:r,apiVersion:"3.11.174",data:n,password:l,disableAutoFetch:Z,rangeChunkSize:d,length:R,docBaseUrl:c,enableXfa:O,evaluatorOptions:{maxImageSize:g,disableFontFace:A,ignoreErrors:z,isEvalSupported:b,isOffscreenCanvasSupported:M,canvasMaxAreaInBytes:x,fontExtraProperties:D,useSystemFonts:B,cMapUrl:k?f:null,standardFontDataUrl:k?y:null}},L={ignoreErrors:z,isEvalSupported:b,disableFontFace:A,fontExtraProperties:D,enableXfa:O,ownerDocument:Y,disableAutoFetch:Z,pdfBug:K,styleElement:S};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");let N=_fetchDocument(h,V),I=new Promise(function(w){let T;m?T=new _transport_stream.PDFDataTransportStream({length:R,initialData:m.initialData,progressiveDone:m.progressiveDone,contentDispositionFilename:m.contentDispositionFilename,disableRange:W,disableStream:$},m):n||(T=(F=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(F):(0,_display_utils.isValidFetchUrl)(F.url)?new _displayFetch_stream.PDFFetchStream(F):new _displayNetwork.PDFNetworkStream(F))({url:t,length:R,httpHeaders:a,withCredentials:o,rangeChunkSize:d,disableRange:W,disableStream:$})),w(T)});return Promise.all([N,I]).then(function([w,T]){if(e.destroyed)throw new Error("Loading aborted");let E=new _message_handler.MessageHandler(r,w,h.port),F=new WorkerTransport(E,e,T,L,P);e._transport=F,E.send("Ready",null)})}).catch(e._capability.reject),e}function _fetchDocument(i,e){return ce(this,null,function*(){if(i.destroyed)throw new Error("Worker was destroyed");let r=yield i.messageHandler.sendWithPromise("GetDocRequest",e,e.data?[e.data.buffer]:null);if(i.destroyed)throw new Error("Worker was destroyed");return r})}function getUrlProp(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(_util.isNodeJS&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(i){if(_util.isNodeJS&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return(0,_util.stringToBytes)(i);if(typeof i=="object"&&!isNaN(i?.length)||(0,_util.isArrayBuffer)(i))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return ce(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,r,t=!1,n=null){this.length=e,this.initialData=r,this.progressiveDone=t,this.contentDispositionFilename=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,r){for(let t of this._rangeListeners)t(e,r)}onDataProgress(e,r){this._readyCapability.promise.then(()=>{for(let t of this._progressListeners)t(e,r)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let r of this._progressiveReadListeners)r(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,r){this._pdfInfo=e,this._transport=r,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(t=>{if(!t)return t;let n=[];for(let a in t)n.push(...t[a]);return n}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(e,r,t,n=!1){this._pageIndex=e,this._pageInfo=r,this._transport=t,this._stats=n?new _display_utils.StatTimer:null,this._pdfBug=n,this.commonObjs=t.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:t=0,offsetY:n=0,dontFlip:a=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:r,offsetX:t,offsetY:n,dontFlip:a})}getAnnotations({intent:e="display"}={}){let r=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return ce(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:r,intent:t="display",annotationMode:n=_util.AnnotationMode.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:m=null,pageColors:d=null,printAnnotationStorage:h=null}){this._stats?.time("Overall");let s=this._transport.getRenderingIntent(t,n,h);this.#t=!1,this.#n(),l||(l=this._transport.getOptionalContentConfig());let c=this._intentStates.get(s.cacheKey);c||(c=Object.create(null),this._intentStates.set(s.cacheKey,c)),c.streamReaderCancelTimeout&&(clearTimeout(c.streamReaderCancelTimeout),c.streamReaderCancelTimeout=null);let f=!!(s.renderingIntent&_util.RenderingIntentFlag.PRINT);c.displayReadyCapability||(c.displayReadyCapability=new _util.PromiseCapability,c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s));let p=v=>{c.renderTasks.delete(u),(this._maybeCleanupAfterRender||f)&&(this.#t=!0),this.#i(!f),v?(u.capability.reject(v),this._abortOperatorList({intentState:c,reason:v instanceof Error?v:new Error(v)})):u.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},u=new InternalRenderTask({callback:p,params:{canvasContext:e,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:m,operatorList:c.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!f,pdfBug:this._pdfBug,pageColors:d});(c.renderTasks||=new Set).add(u);let y=u.task;return Promise.all([c.displayReadyCapability.promise,l]).then(([v,z])=>{if(this.destroyed){p();return}this._stats?.time("Rendering"),u.initializeGraphics({transparency:v,optionalContentConfig:z}),u.operatorListChanged()}).catch(p),y}getOperatorList({intent:e="display",annotationMode:r=_util.AnnotationMode.ENABLE,printAnnotationStorage:t=null}={}){function n(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}let a=this._transport.getRenderingIntent(e,r,t,!0),o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=n,o.opListReadCapability=new _util.PromiseCapability,(o.renderTasks||=new Set).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(n){return n.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(t=>_xfa_text.XfaText.textContent(t));let r=this.streamTextContent(e);return new Promise(function(t,n){function a(){o.read().then(function({value:m,done:d}){if(d){t(l);return}Object.assign(l.styles,m.styles),l.items.push(...m.items),a()},n)}let o=r.getReader(),l={items:[],styles:Object.create(null)};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(let t of r.renderTasks)e.push(t.completed),t.cancel();return this.objs.clear(),this.#t=!1,this.#n(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let r=this.#i(!1);return e&&r&&(this._stats&&=new _display_utils.StatTimer),r}#i(e=!1){if(this.#n(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#i(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(let{renderTasks:r,operatorList:t}of this._intentStates.values())if(r.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#n(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,r){let t=this._intentStates.get(r);t&&(this._stats?.timeEnd("Page Request"),t.displayReadyCapability?.resolve(e))}_renderPageChunk(e,r){for(let t=0,n=e.length;t<n;t++)r.operatorList.fnArray.push(e.fnArray[t]),r.operatorList.argsArray.push(e.argsArray[t]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(let t of r.renderTasks)t.operatorListChanged();e.lastChunk&&this.#i(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:t}){let{map:n,transfers:a}=t,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:n},a).getReader(),m=this._intentStates.get(r);m.streamReader=l;let d=()=>{l.read().then(({value:h,done:s})=>{if(s){m.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,m),d())},h=>{if(m.streamReader=null,!this._transport.destroyed){if(m.operatorList){m.operatorList.lastChunk=!0;for(let s of m.renderTasks)s.operatorListChanged();this.#i(!0)}if(m.displayReadyCapability)m.displayReadyCapability.reject(h);else if(m.opListReadCapability)m.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:r,force:t=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!t){if(e.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException){let n=RENDERING_CANCELLED_TIMEOUT;r.extraDelay>0&&r.extraDelay<1e3&&(n+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},n);return}}if(e.streamReader.cancel(new _util.AbortException(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[n,a]of this._intentStates)if(a===e){this._intentStates.delete(n);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(e,r){let t={data:structuredClone(e,r?{transfer:r}:null)};this.#t.then(()=>{for(let n of this.#e)n.call(this,t)})}addEventListener(e,r){this.#e.add(r)}removeEventListener(e,r){this.#e.delete(r)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof Ka=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let i=document?.currentScript?.src;i&&(PDFWorkerUtil.fallbackWorkerSrc=i.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(i,e){let r;try{if(r=new URL(i),!r.origin||r.origin==="null")return!1}catch{return!1}let t=new URL(e,r);return r.origin===t.origin},PDFWorkerUtil.createCDNWrapper=function(i){let e=`importScripts("${i}");`;return URL.createObjectURL(new Blob([e]))}}class PDFWorker{static#workerPorts;constructor({name:i=null,port:e=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(this.name=i,this.destroyed=!1,this.verbosity=r,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,e){if(PDFWorker.#workerPorts?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(i){this._port=i,this._messageHandler=new _message_handler.MessageHandler("main","worker",i),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:i}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,i)||(i=PDFWorkerUtil.createCDNWrapper(new URL(i,window.location).href));let e=new Worker(i),r=new _message_handler.MessageHandler("main","worker",e),t=()=>{e.removeEventListener("error",n),r.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},n=()=>{this._webWorker||t()};e.addEventListener("error",n),r.on("test",o=>{if(e.removeEventListener("error",n),this.destroyed){t();return}o?(this._messageHandler=r,this._port=e,this._webWorker=e,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),e.terminate())}),r.on("ready",o=>{if(e.removeEventListener("error",n),this.destroyed){t();return}try{a()}catch{this._setupFakeWorker()}});let a=()=>{let o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(i=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let e=new LoopbackPort;this._port=e;let r=`fake${PDFWorkerUtil.fakeWorkerId++}`,t=new _message_handler.MessageHandler(r+"_worker",r,e);i.setup(t,e);let n=new _message_handler.MessageHandler(r,r+"_worker",e);this._messageHandler=n,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})}).catch(i=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${i.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(i){if(!i?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let e=this.#workerPorts?.get(i.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new PDFWorker(i)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=()=>ce(this,null,function*(){let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof Ka=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#i=new Map;#n=null;constructor(e,r,t,n,a){this.messageHandler=e,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:n.ownerDocument,styleElement:n.styleElement}),this._params=n,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=t,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#s(e,r=null){let t=this.#e.get(e);if(t)return t;let n=this.messageHandler.sendWithPromise(e,r);return this.#e.set(e,n),n}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e,r=_util.AnnotationMode.ENABLE,t=null,n=!1){let a=_util.RenderingIntentFlag.DISPLAY,o=_annotation_storage.SerializableEmpty;switch(e){case"any":a=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":a=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(r){case _util.AnnotationMode.DISABLE:a+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:a+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:a+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=(a&_util.RenderingIntentFlag.PRINT&&t instanceof _annotation_storage.PrintAnnotationStorage?t:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return n&&(a+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:a,cacheKey:`${a}_${o.hash}`,annotationStorageSerializable:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#n?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let t of this.#t.values())e.push(t._destroy());this.#t.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(t,n)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},n.onPull=()=>{this._fullReader.read().then(function({value:a,done:o}){if(o){n.close();return}(0,_util.assert)(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{n.error(a)})},n.onCancel=a=>{this._fullReader.cancel(a),n.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",t=>{let n=new _util.PromiseCapability,a=this._fullReader;return a.headersReady.then(()=>{(!a.isStreamingSupported||!a.isRangeSupported)&&(this._lastProgress&&r.onProgress?.(this._lastProgress),a.onProgress=o=>{r.onProgress?.({loaded:o.loaded,total:o.total})}),n.resolve({isStreamingSupported:a.isStreamingSupported,isRangeSupported:a.isRangeSupported,contentLength:a.contentLength})},n.reject),n.promise}),e.on("GetRangeReader",(t,n)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let a=this._networkStream.getRangeReader(t.begin,t.end);if(!a){n.close();return}n.onPull=()=>{a.read().then(function({value:o,done:l}){if(l){n.close();return}(0,_util.assert)(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{n.error(o)})},n.onCancel=o=>{a.cancel(o),n.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:t})=>{this._numPages=t.numPages,this._htmlForXfa=t.htmlForXfa,delete t.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(t,this))}),e.on("DocException",function(t){let n;switch(t.name){case"PasswordException":n=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":n=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(n)}),e.on("PasswordRequest",t=>{if(this.#n=new _util.PromiseCapability,r.onPassword){let n=a=>{a instanceof Error?this.#n.reject(a):this.#n.resolve({password:a})};try{r.onPassword(n,t.code)}catch(a){this.#n.reject(a)}}else this.#n.reject(new _util.PasswordException(t.message,t.code));return this.#n.promise}),e.on("DataLoaded",t=>{r.onProgress?.({loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)}),e.on("StartRenderPage",t=>{if(this.destroyed)return;this.#t.get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)}),e.on("commonobj",([t,n,a])=>{if(!this.destroyed&&!this.commonObjs.has(t))switch(n){case"Font":let o=this._params;if("error"in a){let d=a.error;(0,_util.warn)(`Error during font loading: ${d}`),this.commonObjs.resolve(t,d);break}let l=o.pdfBug&&globalThis.FontInspector?.enabled?(d,h)=>globalThis.FontInspector.fontAdded(d,h):null,m=new _font_loader.FontFaceObject(a,{isEvalSupported:o.isEvalSupported,disableFontFace:o.disableFontFace,ignoreErrors:o.ignoreErrors,inspectFont:l});this.fontLoader.bind(m).catch(d=>e.sendWithPromise("FontFallback",{id:t})).finally(()=>{!o.fontExtraProperties&&m.data&&(m.data=null),this.commonObjs.resolve(t,m)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(t,a);break;default:throw new Error(`Got unknown common object type ${n}`)}}),e.on("obj",([t,n,a,o])=>{if(this.destroyed)return;let l=this.#t.get(n);if(!l.objs.has(t))switch(a){case"Image":if(l.objs.resolve(t,o),o){let m;if(o.bitmap){let{width:d,height:h}=o;m=d*h*4}else m=o.data?.length||0;m>_util.MAX_IMAGE_SIZE_TO_CACHE&&(l._maybeCleanupAfterRender=!0)}break;case"Pattern":l.objs.resolve(t,o);break;default:throw new Error(`Got unknown object type ${a}`)}}),e.on("DocProgress",t=>{this.destroyed||r.onProgress?.({loaded:t.loaded,total:t.total})}),e.on("FetchBuiltInCMap",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfers:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let r=e-1,t=this.#i.get(r);if(t)return t;let n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");let o=new PDFPageProxy(r,a,this,this._params.pdfBug);return this.#t.set(r,o),o});return this.#i.set(r,n),n}getPageIndex(e){return typeof e!="object"||e===null||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",r=this.#e.get(e);if(r)return r;let t=this.messageHandler.sendWithPromise(e,null).then(n=>({info:n[0],metadata:n[1]?new _metadata.Metadata(n[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,t),t}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return ce(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let r of this.#t.values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}})}get loadingParams(){let{disableAutoFetch:e,enableXfa:r}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:r})}}class PDFObjects{#e=Object.create(null);#t(e){return this.#e[e]||={capability:new _util.PromiseCapability,data:null}}get(e,r=null){if(r){let n=this.#t(e);return n.capability.promise.then(()=>r(n.data)),null}let t=this.#e[e];if(!t?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return t.data}has(e){return this.#e[e]?.capability.settled||!1}resolve(e,r=null){let t=this.#t(e);t.data=r,t.capability.resolve()}clear(){for(let e in this.#e){let{data:r}=this.#e[e];r?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:r}=this.#e;return e.form||e.canvas&&r?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:e,params:r,objs:t,commonObjs:n,annotationCanvasMap:a,operatorList:o,pageIndex:l,canvasFactory:m,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:s=!1,pageColors:c=null}){this.callback=e,this.params=r,this.objs=t,this.commonObjs=n,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=m,this.filterFactory=d,this._pdfBug=s,this.pageColors=c,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:t,viewport:n,transform:a,background:o}=this.params;this.gfx=new _canvas.CanvasGraphics(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:n,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,r=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,r))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return ce(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))})}}let version="3.11.174";exports.version=version;let build="ce8716743";exports.build=build},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var t=r(1),n=r(4),a=r(8);let o=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=o;class l{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(h,s){let c=this.#t.get(h);return c===void 0?s:Object.assign(s,c)}getRawValue(h){return this.#t.get(h)}remove(h){if(this.#t.delete(h),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let s of this.#t.values())if(s instanceof n.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(h,s){let c=this.#t.get(h),f=!1;if(c!==void 0)for(let[p,u]of Object.entries(s))c[p]!==u&&(f=!0,c[p]=u);else f=!0,this.#t.set(h,s);f&&this.#i(),s instanceof n.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(s.constructor._type)}has(h){return this.#t.has(h)}getAll(){return this.#t.size>0?(0,t.objectFromMap)(this.#t):null}setAll(h){for(let[s,c]of Object.entries(h))this.setValue(s,c)}get size(){return this.#t.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new m(this)}get serializable(){if(this.#t.size===0)return o;let h=new Map,s=new a.MurmurHash3_64,c=[],f=Object.create(null),p=!1;for(let[u,y]of this.#t){let v=y instanceof n.AnnotationEditor?y.serialize(!1,f):y;v&&(h.set(u,v),s.update(`${u}:${JSON.stringify(v)}`),p||=!!v.bitmap)}if(p)for(let u of h.values())u.bitmap&&c.push(u.bitmap);return h.size>0?{map:h,hash:s.hexdigest(),transfers:c}:o}}e.AnnotationStorage=l;class m extends l{#e;constructor(h){super();let{map:s,hash:c,transfers:f}=h.serializable,p=structuredClone(s,f?{transfer:f}:null);this.#e={map:p,hash:c,transfers:f}}get print(){(0,t.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}e.PrintAnnotationStorage=m},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var t=r(5),n=r(1),a=r(6);class o{#e="";#t=!1;#i=null;#n=null;#s=null;#a=!1;#o=null;#c=this.focusin.bind(this);#l=this.focusout.bind(this);#r=!1;#h=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#p=!1;#f=o._zIndex++;static _borderLineWidth=-1;static _colorManager=new t.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(d){this.constructor===o&&(0,n.unreachable)("Cannot initialize AnnotationEditor."),this.parent=d.parent,this.id=d.id,this.width=this.height=null,this.pageIndex=d.parent.pageIndex,this.name=d.name,this.div=null,this._uiManager=d.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=d.isCentered,this._structTreeParentId=null;let{rotation:h,rawDims:{pageWidth:s,pageHeight:c,pageX:f,pageY:p}}=this.parent.viewport;this.rotation=h,this.pageRotation=(360+h-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,c],this.pageTranslation=[f,p];let[u,y]=this.parentDimensions;this.x=d.x/u,this.y=d.y/y,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,n.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(d){let h=new l({id:d.parent.getNextId(),parent:d.parent,uiManager:d._uiManager});h.annotationElementId=d.annotationElementId,h.deleted=!0,h._uiManager.addToAnnotationStorage(h)}static initialize(d,h=null){if(o._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(c=>[c,d.get(c)])),h?.strings)for(let c of h.strings)o._l10nPromise.set(c,d.get(c));if(o._borderLineWidth!==-1)return;let s=getComputedStyle(document.documentElement);o._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(d,h){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(d){return!1}static paste(d,h){(0,n.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#p}set _isDraggable(d){this.#p=d,this.div?.classList.toggle("draggable",d)}center(){let[d,h]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*h/(d*2),this.y+=this.width*d/(h*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*h/(d*2),this.y-=this.width*d/(h*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(d){this._uiManager.addCommands(d)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#f}setParent(d){d!==null&&(this.pageIndex=d.pageIndex,this.pageDimensions=d.pageDimensions),this.parent=d}focusin(d){this._focusEventsAllowed&&(this.#r?this.#r=!1:this.parent.setSelected(this))}focusout(d){!this._focusEventsAllowed||!this.isAttachedToDOM||d.relatedTarget?.closest(`#${this.id}`)||(d.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(d,h,s,c){let[f,p]=this.parentDimensions;[s,c]=this.screenToPageTranslation(s,c),this.x=(d+s)/f,this.y=(h+c)/p,this.fixAndSetPosition()}#m([d,h],s,c){[s,c]=this.screenToPageTranslation(s,c),this.x+=s/d,this.y+=c/h,this.fixAndSetPosition()}translate(d,h){this.#m(this.parentDimensions,d,h)}translateInPage(d,h){this.#m(this.pageDimensions,d,h),this.div.scrollIntoView({block:"nearest"})}drag(d,h){let[s,c]=this.parentDimensions;if(this.x+=d/s,this.y+=h/c,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:v,y:z}=this.div.getBoundingClientRect();this.parent.findNewParent(this,v,z)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:f,y:p}=this,[u,y]=this.#g();f+=u,p+=y,this.div.style.left=`${(100*f).toFixed(2)}%`,this.div.style.top=`${(100*p).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){let[d,h]=this.parentDimensions,{_borderLineWidth:s}=o,c=s/d,f=s/h;switch(this.rotation){case 90:return[-c,f];case 180:return[c,f];case 270:return[c,-f];default:return[-c,-f]}}fixAndSetPosition(){let[d,h]=this.pageDimensions,{x:s,y:c,width:f,height:p}=this;switch(f*=d,p*=h,s*=d,c*=h,this.rotation){case 0:s=Math.max(0,Math.min(d-f,s)),c=Math.max(0,Math.min(h-p,c));break;case 90:s=Math.max(0,Math.min(d-p,s)),c=Math.min(h,Math.max(f,c));break;case 180:s=Math.min(d,Math.max(f,s)),c=Math.min(h,Math.max(p,c));break;case 270:s=Math.min(d,Math.max(p,s)),c=Math.max(0,Math.min(h-f,c));break}this.x=s/=d,this.y=c/=h;let[u,y]=this.#g();s+=u,c+=y;let{style:v}=this.div;v.left=`${(100*s).toFixed(2)}%`,v.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#v(d,h,s){switch(s){case 90:return[h,-d];case 180:return[-d,-h];case 270:return[-h,d];default:return[d,h]}}screenToPageTranslation(d,h){return o.#v(d,h,this.parentRotation)}pageTranslationToScreen(d,h){return o.#v(d,h,360-this.parentRotation)}#u(d){switch(d){case 90:{let[h,s]=this.pageDimensions;return[0,-h/s,s/h,0]}case 180:return[-1,0,0,-1];case 270:{let[h,s]=this.pageDimensions;return[0,h/s,-s/h,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:d,pageDimensions:[h,s]}=this,c=h*d,f=s*d;return n.FeatureTest.isCSSRoundSupported?[Math.round(c),Math.round(f)]:[c,f]}setDims(d,h){let[s,c]=this.parentDimensions;this.div.style.width=`${(100*d/s).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*h/c).toFixed(2)}%`),this.#i?.classList.toggle("small",d<o.SMALL_EDITOR_SIZE||h<o.SMALL_EDITOR_SIZE)}fixDims(){let{style:d}=this.div,{height:h,width:s}=d,c=s.endsWith("%"),f=!this.#a&&h.endsWith("%");if(c&&f)return;let[p,u]=this.parentDimensions;c||(d.width=`${(100*parseFloat(s)/p).toFixed(2)}%`),!this.#a&&!f&&(d.height=`${(100*parseFloat(h)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#y(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");let d=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||d.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(let h of d){let s=document.createElement("div");this.#o.append(s),s.classList.add("resizer",h),s.addEventListener("pointerdown",this.#S.bind(this,h)),s.addEventListener("contextmenu",a.noContextMenu)}this.div.prepend(this.#o)}#S(d,h){h.preventDefault();let{isMac:s}=n.FeatureTest.platform;if(h.button!==0||h.ctrlKey&&s)return;let c=this.#_.bind(this,d),f=this._isDraggable;this._isDraggable=!1;let p={passive:!0,capture:!0};window.addEventListener("pointermove",c,p);let u=this.x,y=this.y,v=this.width,z=this.height,g=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(h.target).cursor;let M=()=>{this._isDraggable=f,window.removeEventListener("pointerup",M),window.removeEventListener("blur",M),window.removeEventListener("pointermove",c,p),this.parent.div.style.cursor=g,this.div.style.cursor=b;let x=this.x,A=this.y,D=this.width,O=this.height;x===u&&A===y&&D===v&&O===z||this.addCommands({cmd:()=>{this.width=D,this.height=O,this.x=x,this.y=A;let[Y,W]=this.parentDimensions;this.setDims(Y*D,W*O),this.fixAndSetPosition()},undo:()=>{this.width=v,this.height=z,this.x=u,this.y=y;let[Y,W]=this.parentDimensions;this.setDims(Y*v,W*z),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",M),window.addEventListener("blur",M)}#_(d,h){let[s,c]=this.parentDimensions,f=this.x,p=this.y,u=this.width,y=this.height,v=o.MIN_SIZE/s,z=o.MIN_SIZE/c,g=I=>Math.round(I*1e4)/1e4,b=this.#u(this.rotation),M=(I,w)=>[b[0]*I+b[2]*w,b[1]*I+b[3]*w],x=this.#u(360-this.rotation),A=(I,w)=>[x[0]*I+x[2]*w,x[1]*I+x[3]*w],D,O,Y=!1,W=!1;switch(d){case"topLeft":Y=!0,D=(I,w)=>[0,0],O=(I,w)=>[I,w];break;case"topMiddle":D=(I,w)=>[I/2,0],O=(I,w)=>[I/2,w];break;case"topRight":Y=!0,D=(I,w)=>[I,0],O=(I,w)=>[0,w];break;case"middleRight":W=!0,D=(I,w)=>[I,w/2],O=(I,w)=>[0,w/2];break;case"bottomRight":Y=!0,D=(I,w)=>[I,w],O=(I,w)=>[0,0];break;case"bottomMiddle":D=(I,w)=>[I/2,w],O=(I,w)=>[I/2,0];break;case"bottomLeft":Y=!0,D=(I,w)=>[0,w],O=(I,w)=>[I,0];break;case"middleLeft":W=!0,D=(I,w)=>[0,w/2],O=(I,w)=>[I,w/2];break}let $=D(u,y),Z=O(u,y),K=M(...Z),R=g(f+K[0]),B=g(p+K[1]),k=1,_=1,[C,S]=this.screenToPageTranslation(h.movementX,h.movementY);if([C,S]=A(C/s,S/c),Y){let I=Math.hypot(u,y);k=_=Math.max(Math.min(Math.hypot(Z[0]-$[0]-C,Z[1]-$[1]-S)/I,1/u,1/y),v/u,z/y)}else W?k=Math.max(v,Math.min(1,Math.abs(Z[0]-$[0]-C)))/u:_=Math.max(z,Math.min(1,Math.abs(Z[1]-$[1]-S)))/y;let P=g(u*k),V=g(y*_);K=M(...O(P,V));let L=R-K[0],N=B-K[1];this.width=P,this.height=V,this.x=L,this.y=N,this.setDims(s*P,c*V),this.fixAndSetPosition()}addAltTextButton(){return ce(this,null,function*(){if(this.#i)return;let d=this.#i=document.createElement("button");d.className="altText";let h=yield o._l10nPromise.get("editor_alt_text_button_label");d.textContent=h,d.setAttribute("aria-label",h),d.tabIndex="0",d.addEventListener("contextmenu",a.noContextMenu),d.addEventListener("pointerdown",s=>s.stopPropagation()),d.addEventListener("click",s=>{s.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),d.addEventListener("keydown",s=>{s.target===d&&s.key==="Enter"&&(s.preventDefault(),this._uiManager.editAltText(this))}),this.#w(),this.div.append(d),o.SMALL_EDITOR_SIZE||(o.SMALL_EDITOR_SIZE=Math.min(128,Math.round(d.getBoundingClientRect().width*1.4)))})}#w(){return ce(this,null,function*(){let d=this.#i;if(!d)return;if(!this.#e&&!this.#t){d.classList.remove("done"),this.#n?.remove();return}o._l10nPromise.get("editor_alt_text_edit_button_label").then(s=>{d.setAttribute("aria-label",s)});let h=this.#n;if(!h){this.#n=h=document.createElement("span"),h.className="tooltip",h.setAttribute("role","tooltip");let s=h.id=`alt-text-tooltip-${this.id}`;d.setAttribute("aria-describedby",s);let c=100;d.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#n.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},c)}),d.addEventListener("mouseleave",()=>{clearTimeout(this.#s),this.#s=null,this.#n?.classList.remove("show")})}d.classList.add("done"),h.innerText=this.#t?yield o._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,h.parentNode||d.append(h)})}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:d,decorative:h}){this.#e===d&&this.#t===h||(this.#e=d,this.#t=h,this.#w())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#c),this.div.addEventListener("focusout",this.#l);let[d,h]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*h/d).toFixed(2)}%`,this.div.style.maxHeight=`${(100*d/h).toFixed(2)}%`);let[s,c]=this.getInitialTranslation();return this.translate(s,c),(0,t.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(d){let{isMac:h}=n.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&h){d.preventDefault();return}this.#r=!0,this.#M(d)}#M(d){if(!this._isDraggable)return;let h=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let s,c;h&&(s={passive:!0,capture:!0},c=p=>{let[u,y]=this.screenToPageTranslation(p.movementX,p.movementY);this._uiManager.dragSelectedEditors(u,y)},window.addEventListener("pointermove",c,s));let f=()=>{if(window.removeEventListener("pointerup",f),window.removeEventListener("blur",f),h&&window.removeEventListener("pointermove",c,s),this.#r=!1,!this._uiManager.endDragSession()){let{isMac:p}=n.FeatureTest.platform;d.ctrlKey&&!p||d.shiftKey||d.metaKey&&p?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",f),window.addEventListener("blur",f)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(d,h,s){d.changeParent(this),this.x=h,this.y=s,this.fixAndSetPosition()}getRect(d,h){let s=this.parentScale,[c,f]=this.pageDimensions,[p,u]=this.pageTranslation,y=d/s,v=h/s,z=this.x*c,g=this.y*f,b=this.width*c,M=this.height*f;switch(this.rotation){case 0:return[z+y+p,f-g-v-M+u,z+y+b+p,f-g-v+u];case 90:return[z+v+p,f-g+y+u,z+v+M+p,f-g+y+b+u];case 180:return[z-y-b+p,f-g+v+u,z-y+p,f-g+v+M+u];case 270:return[z-v-M+p,f-g-y-b+u,z-v+p,f-g-y+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(d,h){let[s,c,f,p]=d,u=f-s,y=p-c;switch(this.rotation){case 0:return[s,h-p,u,y];case 90:return[s,h-c,y,u];case 180:return[f,h-c,u,y];case 270:return[f,h-p,y,u];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#c),this.div?.addEventListener("focusout",this.#l)}serialize(d=!1,h=null){(0,n.unreachable)("An editor must be serializable")}static deserialize(d,h,s){let c=new this.prototype.constructor({parent:h,id:h.getNextId(),uiManager:s});c.rotation=d.rotation;let[f,p]=c.pageDimensions,[u,y,v,z]=c.getRectInCurrentCoords(d.rect,p);return c.x=u/f,c.y=y/p,c.width=v/f,c.height=z/p,c}remove(){this.div.removeEventListener("focusin",this.#c),this.div.removeEventListener("focusout",this.#l),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#i?.remove(),this.#i=null,this.#n=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#y(),this.#o.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(d,h){}disableEditing(){this.#i&&(this.#i.hidden=!0)}enableEditing(){this.#i&&(this.#i.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#h}set isEditing(d){this.#h=d,this.parent&&(d?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(d,h){this.#a=!0;let s=d/h,{style:c}=this.div;c.aspectRatio=s,c.height="auto"}static get MIN_SIZE(){return 16}}e.AnnotationEditor=o;class l extends o{constructor(d){super(d),this.annotationElementId=d.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=a,e.opacityToHex=o;var t=r(1),n=r(6);function a(f,p,u){for(let y of u)p.addEventListener(y,f[y].bind(f))}function o(f){return Math.round(Math.min(255,Math.max(1,255*f))).toString(16).padStart(2,"0")}class l{#e=0;getId(){return`${t.AnnotationEditorPrefix}${this.#e++}`}}class m{#e=(0,t.getUuid)();#t=0;#i=null;static get _isSVGFittingCanvas(){let p='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',y=new OffscreenCanvas(1,3).getContext("2d"),v=new Image;v.src=p;let z=v.decode().then(()=>(y.drawImage(v,0,0,1,1,0,0,1,3),new Uint32Array(y.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,t.shadow)(this,"_isSVGFittingCanvas",z)}#n(p,u){return ce(this,null,function*(){this.#i||=new Map;let y=this.#i.get(p);if(y===null)return null;if(y?.bitmap)return y.refCounter+=1,y;try{y||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let v;if(typeof u=="string"){y.url=u;let z=yield fetch(u);if(!z.ok)throw new Error(z.statusText);v=yield z.blob()}else v=y.file=u;if(v.type==="image/svg+xml"){let z=m._isSVGFittingCanvas,g=new FileReader,b=new Image,M=new Promise((x,A)=>{b.onload=()=>{y.bitmap=b,y.isSvg=!0,x()},g.onload=()=>ce(this,null,function*(){let D=y.svgUrl=g.result;b.src=(yield z)?`${D}#svgView(preserveAspectRatio(none))`:D}),b.onerror=g.onerror=A});g.readAsDataURL(v),yield M}else y.bitmap=yield createImageBitmap(v);y.refCounter=1}catch(v){console.error(v),y=null}return this.#i.set(p,y),y&&this.#i.set(y.id,y),y})}getFromFile(p){return ce(this,null,function*(){let{lastModified:u,name:y,size:v,type:z}=p;return this.#n(`${u}_${y}_${v}_${z}`,p)})}getFromUrl(p){return ce(this,null,function*(){return this.#n(p,p)})}getFromId(p){return ce(this,null,function*(){this.#i||=new Map;let u=this.#i.get(p);return u?u.bitmap?(u.refCounter+=1,u):u.file?this.getFromFile(u.file):this.getFromUrl(u.url):null})}getSvgUrl(p){let u=this.#i.get(p);return u?.isSvg?u.svgUrl:null}deleteId(p){this.#i||=new Map;let u=this.#i.get(p);u&&(u.refCounter-=1,u.refCounter===0&&(u.bitmap=null))}isValidId(p){return p.startsWith(`image_${this.#e}_`)}}class d{#e=[];#t=!1;#i;#n=-1;constructor(p=128){this.#i=p}add({cmd:p,undo:u,mustExec:y,type:v=NaN,overwriteIfSameType:z=!1,keepUndo:g=!1}){if(y&&p(),this.#t)return;let b={cmd:p,undo:u,type:v};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(b);return}if(z&&this.#e[this.#n].type===v){g&&(b.undo=this.#e[this.#n].undo),this.#e[this.#n]=b;return}let M=this.#n+1;M===this.#i?this.#e.splice(0,1):(this.#n=M,M<this.#e.length&&this.#e.splice(M)),this.#e.push(b)}undo(){this.#n!==-1&&(this.#t=!0,this.#e[this.#n].undo(),this.#t=!1,this.#n-=1)}redo(){this.#n<this.#e.length-1&&(this.#n+=1,this.#t=!0,this.#e[this.#n].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}destroy(){this.#e=null}}e.CommandManager=d;class h{constructor(p){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:u}=t.FeatureTest.platform;for(let[y,v,z={}]of p)for(let g of y){let b=g.startsWith("mac+");u&&b?(this.callbacks.set(g.slice(4),{callback:v,options:z}),this.allKeys.add(g.split("+").at(-1))):!u&&!b&&(this.callbacks.set(g,{callback:v,options:z}),this.allKeys.add(g.split("+").at(-1)))}}#e(p){p.altKey&&this.buffer.push("alt"),p.ctrlKey&&this.buffer.push("ctrl"),p.metaKey&&this.buffer.push("meta"),p.shiftKey&&this.buffer.push("shift"),this.buffer.push(p.key);let u=this.buffer.join("+");return this.buffer.length=0,u}exec(p,u){if(!this.allKeys.has(u.key))return;let y=this.callbacks.get(this.#e(u));if(!y)return;let{callback:v,options:{bubbles:z=!1,args:g=[],checker:b=null}}=y;b&&!b(p,u)||(v.bind(p,...g)(),z||(u.stopPropagation(),u.preventDefault()))}}e.KeyboardManager=h;class s{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let p=new Map([["CanvasText",null],["Canvas",null]]);return(0,n.getColorValues)(p),(0,t.shadow)(this,"_colors",p)}convert(p){let u=(0,n.getRGB)(p);if(!window.matchMedia("(forced-colors: active)").matches)return u;for(let[y,v]of this._colors)if(v.every((z,g)=>z===u[g]))return s._colorsMapping.get(y);return u}getHexCode(p){let u=this._colors.get(p);return u?t.Util.makeHexColor(...u):p}}e.ColorManager=s;let c=(()=>{class f{#e=null;#t=new Map;#i=new Map;#n=null;#s=null;#a=new d;#o=0;#c=new Set;#l=null;#r=null;#h=new Set;#d=null;#p=new l;#f=!1;#m=!1;#g=null;#v=t.AnnotationEditorType.NONE;#u=new Set;#y=null;#S=this.blur.bind(this);#_=this.focus.bind(this);#w=this.copy.bind(this);#M=this.cut.bind(this);#O=this.paste.bind(this);#D=this.keydown.bind(this);#L=this.onEditingAction.bind(this);#b=this.onPageChanging.bind(this);#P=this.onScaleChanging.bind(this);#A=this.onRotationChanging.bind(this);#T={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#C=[0,0];#x=null;#E=null;#I=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let u=f.prototype,y=g=>{let{activeElement:b}=document;return b&&g.#E.contains(b)&&g.hasSomethingToControl()},v=this.TRANSLATE_SMALL,z=this.TRANSLATE_BIG;return(0,t.shadow)(this,"_keyboardManager",new h([[["ctrl+a","mac+meta+a"],u.selectAll],[["ctrl+z","mac+meta+z"],u.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],u.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],u.delete],[["Escape","mac+Escape"],u.unselectAll],[["ArrowLeft","mac+ArrowLeft"],u.translateSelectedEditors,{args:[-v,0],checker:y}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],u.translateSelectedEditors,{args:[-z,0],checker:y}],[["ArrowRight","mac+ArrowRight"],u.translateSelectedEditors,{args:[v,0],checker:y}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],u.translateSelectedEditors,{args:[z,0],checker:y}],[["ArrowUp","mac+ArrowUp"],u.translateSelectedEditors,{args:[0,-v],checker:y}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],u.translateSelectedEditors,{args:[0,-z],checker:y}],[["ArrowDown","mac+ArrowDown"],u.translateSelectedEditors,{args:[0,v],checker:y}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],u.translateSelectedEditors,{args:[0,z],checker:y}]]))}constructor(u,y,v,z,g,b){this.#E=u,this.#I=y,this.#n=v,this._eventBus=z,this._eventBus._on("editingaction",this.#L),this._eventBus._on("pagechanging",this.#b),this._eventBus._on("scalechanging",this.#P),this._eventBus._on("rotationchanging",this.#A),this.#s=g.annotationStorage,this.#d=g.filterFactory,this.#y=b,this.viewParameters={realScale:n.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#F(),this.#H(),this._eventBus._off("editingaction",this.#L),this._eventBus._off("pagechanging",this.#b),this._eventBus._off("scalechanging",this.#P),this._eventBus._off("rotationchanging",this.#A);for(let u of this.#i.values())u.destroy();this.#i.clear(),this.#t.clear(),this.#h.clear(),this.#e=null,this.#u.clear(),this.#a.destroy(),this.#n.destroy()}get hcmFilter(){return(0,t.shadow)(this,"hcmFilter",this.#y?this.#d.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,t.shadow)(this,"direction",getComputedStyle(this.#E).direction)}editAltText(u){this.#n?.editAltText(this,u)}onPageChanging({pageNumber:u}){this.#o=u-1}focusMainContainer(){this.#E.focus()}findParent(u,y){for(let v of this.#i.values()){let{x:z,y:g,width:b,height:M}=v.div.getBoundingClientRect();if(u>=z&&u<=z+b&&y>=g&&y<=g+M)return v}return null}disableUserSelect(u=!1){this.#I.classList.toggle("noUserSelect",u)}addShouldRescale(u){this.#h.add(u)}removeShouldRescale(u){this.#h.delete(u)}onScaleChanging({scale:u}){this.commitOrRemove(),this.viewParameters.realScale=u*n.PixelsPerInch.PDF_TO_CSS_UNITS;for(let y of this.#h)y.onScaleChanging()}onRotationChanging({pagesRotation:u}){this.commitOrRemove(),this.viewParameters.rotation=u}addToAnnotationStorage(u){!u.isEmpty()&&this.#s&&!this.#s.has(u.id)&&this.#s.setValue(u.id,u)}#R(){window.addEventListener("focus",this.#_),window.addEventListener("blur",this.#S)}#H(){window.removeEventListener("focus",this.#_),window.removeEventListener("blur",this.#S)}blur(){if(!this.hasSelection)return;let{activeElement:u}=document;for(let y of this.#u)if(y.div.contains(u)){this.#g=[y,u],y._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;let[u,y]=this.#g;this.#g=null,y.addEventListener("focusin",()=>{u._focusEventsAllowed=!0},{once:!0}),y.focus()}#N(){window.addEventListener("keydown",this.#D,{capture:!0})}#F(){window.removeEventListener("keydown",this.#D,{capture:!0})}#V(){document.addEventListener("copy",this.#w),document.addEventListener("cut",this.#M),document.addEventListener("paste",this.#O)}#k(){document.removeEventListener("copy",this.#w),document.removeEventListener("cut",this.#M),document.removeEventListener("paste",this.#O)}addEditListeners(){this.#N(),this.#V()}removeEditListeners(){this.#F(),this.#k()}copy(u){if(u.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;let y=[];for(let v of this.#u){let z=v.serialize(!0);z&&y.push(z)}y.length!==0&&u.clipboardData.setData("application/pdfjs",JSON.stringify(y))}cut(u){this.copy(u),this.delete()}paste(u){u.preventDefault();let{clipboardData:y}=u;for(let g of y.items)for(let b of this.#r)if(b.isHandlingMimeForPasting(g.type)){b.paste(g,this.currentLayer);return}let v=y.getData("application/pdfjs");if(!v)return;try{v=JSON.parse(v)}catch(g){(0,t.warn)(`paste: "${g.message}".`);return}if(!Array.isArray(v))return;this.unselectAll();let z=this.currentLayer;try{let g=[];for(let x of v){let A=z.deserialize(x);if(!A)return;g.push(A)}let b=()=>{for(let x of g)this.#j(x);this.#U(g)},M=()=>{for(let x of g)x.remove()};this.addCommands({cmd:b,undo:M,mustExec:!0})}catch(g){(0,t.warn)(`paste: "${g.message}".`)}}keydown(u){this.getActive()?.shouldGetKeyboardEvents()||f._keyboardManager.exec(this,u)}onEditingAction(u){["undo","redo","delete","selectAll"].includes(u.name)&&this[u.name]()}#z(u){Object.entries(u).some(([v,z])=>this.#T[v]!==z)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#T,u)})}#Y(u){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:u})}setEditingState(u){u?(this.#R(),this.#N(),this.#V(),this.#z({isEditing:this.#v!==t.AnnotationEditorType.NONE,isEmpty:this.#B(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#H(),this.#F(),this.#k(),this.#z({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(u){if(!this.#r){this.#r=u;for(let y of this.#r)this.#Y(y.defaultPropertiesToUpdate)}}getId(){return this.#p.getId()}get currentLayer(){return this.#i.get(this.#o)}getLayer(u){return this.#i.get(u)}get currentPageIndex(){return this.#o}addLayer(u){this.#i.set(u.pageIndex,u),this.#f?u.enable():u.disable()}removeLayer(u){this.#i.delete(u.pageIndex)}updateMode(u,y=null){if(this.#v!==u){if(this.#v=u,u===t.AnnotationEditorType.NONE){this.setEditingState(!1),this.#$();return}this.setEditingState(!0),this.#W(),this.unselectAll();for(let v of this.#i.values())v.updateMode(u);if(y){for(let v of this.#t.values())if(v.annotationElementId===y){this.setSelected(v),v.enterInEditMode();break}}}}updateToolbar(u){u!==this.#v&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:u})}updateParams(u,y){if(this.#r){if(u===t.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(u);return}for(let v of this.#u)v.updateParams(u,y);for(let v of this.#r)v.updateDefaultParams(u,y)}}enableWaiting(u=!1){if(this.#m!==u){this.#m=u;for(let y of this.#i.values())u?y.disableClick():y.enableClick(),y.div.classList.toggle("waiting",u)}}#W(){if(!this.#f){this.#f=!0;for(let u of this.#i.values())u.enable()}}#$(){if(this.unselectAll(),this.#f){this.#f=!1;for(let u of this.#i.values())u.disable()}}getEditors(u){let y=[];for(let v of this.#t.values())v.pageIndex===u&&y.push(v);return y}getEditor(u){return this.#t.get(u)}addEditor(u){this.#t.set(u.id,u)}removeEditor(u){this.#t.delete(u.id),this.unselect(u),(!u.annotationElementId||!this.#c.has(u.annotationElementId))&&this.#s?.remove(u.id)}addDeletedAnnotationElement(u){this.#c.add(u.annotationElementId),u.deleted=!0}isDeletedAnnotationElement(u){return this.#c.has(u)}removeDeletedAnnotationElement(u){this.#c.delete(u.annotationElementId),u.deleted=!1}#j(u){let y=this.#i.get(u.pageIndex);y?y.addOrRebuild(u):this.addEditor(u)}setActiveEditor(u){this.#e!==u&&(this.#e=u,u&&this.#Y(u.propertiesToUpdate))}toggleSelected(u){if(this.#u.has(u)){this.#u.delete(u),u.unselect(),this.#z({hasSelectedEditor:this.hasSelection});return}this.#u.add(u),u.select(),this.#Y(u.propertiesToUpdate),this.#z({hasSelectedEditor:!0})}setSelected(u){for(let y of this.#u)y!==u&&y.unselect();this.#u.clear(),this.#u.add(u),u.select(),this.#Y(u.propertiesToUpdate),this.#z({hasSelectedEditor:!0})}isSelected(u){return this.#u.has(u)}unselect(u){u.unselect(),this.#u.delete(u),this.#z({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#a.undo(),this.#z({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#B()})}redo(){this.#a.redo(),this.#z({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#B()})}addCommands(u){this.#a.add(u),this.#z({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#B()})}#B(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(let u of this.#t.values())return u.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let u=[...this.#u],y=()=>{for(let z of u)z.remove()},v=()=>{for(let z of u)this.#j(z)};this.addCommands({cmd:y,undo:v,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#U(u){this.#u.clear();for(let y of u)y.isEmpty()||(this.#u.add(y),y.select());this.#z({hasSelectedEditor:!0})}selectAll(){for(let u of this.#u)u.commit();this.#U(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(let u of this.#u)u.unselect();this.#u.clear(),this.#z({hasSelectedEditor:!1})}}translateSelectedEditors(u,y,v=!1){if(v||this.commitOrRemove(),!this.hasSelection)return;this.#C[0]+=u,this.#C[1]+=y;let[z,g]=this.#C,b=[...this.#u],M=1e3;this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.#x=null,this.#C[0]=this.#C[1]=0,this.addCommands({cmd:()=>{for(let x of b)this.#t.has(x.id)&&x.translateInPage(z,g)},undo:()=>{for(let x of b)this.#t.has(x.id)&&x.translateInPage(-z,-g)},mustExec:!1})},M);for(let x of b)x.translateInPage(u,y)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#l=new Map;for(let u of this.#u)this.#l.set(u,{savedX:u.x,savedY:u.y,savedPageIndex:u.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#l)return!1;this.disableUserSelect(!1);let u=this.#l;this.#l=null;let y=!1;for(let[{x:z,y:g,pageIndex:b},M]of u)M.newX=z,M.newY=g,M.newPageIndex=b,y||=z!==M.savedX||g!==M.savedY||b!==M.savedPageIndex;if(!y)return!1;let v=(z,g,b,M)=>{if(this.#t.has(z.id)){let x=this.#i.get(M);x?z._setParentAndPosition(x,g,b):(z.pageIndex=M,z.x=g,z.y=b)}};return this.addCommands({cmd:()=>{for(let[z,{newX:g,newY:b,newPageIndex:M}]of u)v(z,g,b,M)},undo:()=>{for(let[z,{savedX:g,savedY:b,savedPageIndex:M}]of u)v(z,g,b,M)},mustExec:!0}),!0}dragSelectedEditors(u,y){if(this.#l)for(let v of this.#l.keys())v.drag(u,y)}rebuild(u){if(u.parent===null){let y=this.getLayer(u.pageIndex);y?(y.changeParent(u),y.addOrRebuild(u)):(this.addEditor(u),this.addToAnnotationStorage(u),u.rebuild())}else u.parent.addOrRebuild(u)}isActive(u){return this.#e===u}getActive(){return this.#e}getMode(){return this.#v}get imageManager(){return(0,t.shadow)(this,"imageManager",new m)}}return f})();e.AnnotationEditorUIManager=c},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=A,e.getColorValues=$,e.getCurrentTransform=Z,e.getCurrentTransformInverse=K,e.getFilenameFromUrl=v,e.getPdfFilenameFromUrl=z,e.getRGB=W,e.getXfaPageViewport=Y,e.isDataScheme=u,e.isPdfFile=y,e.isValidFetchUrl=b,e.loadScript=x,e.noContextMenu=M,e.setLayerDimensions=R;var t=r(7),n=r(1);let a="http://www.w3.org/2000/svg";class o{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=o;class l extends t.BaseFilterFactory{#e;#t;#i;#n;#s;#a;#o;#c;#l;#r;#h=0;constructor({docId:k,ownerDocument:_=globalThis.document}={}){super(),this.#i=k,this.#n=_}get#d(){return this.#e||=new Map}get#p(){if(!this.#t){let k=this.#n.createElement("div"),{style:_}=k;_.visibility="hidden",_.contain="strict",_.width=_.height=0,_.position="absolute",_.top=_.left=0,_.zIndex=-1;let C=this.#n.createElementNS(a,"svg");C.setAttribute("width",0),C.setAttribute("height",0),this.#t=this.#n.createElementNS(a,"defs"),k.append(C),C.append(this.#t),this.#n.body.append(k)}return this.#t}addFilter(k){if(!k)return"none";let _=this.#d.get(k);if(_)return _;let C,S,P,V;if(k.length===1){let w=k[0],T=new Array(256);for(let E=0;E<256;E++)T[E]=w[E]/255;V=C=S=P=T.join(",")}else{let[w,T,E]=k,F=new Array(256),H=new Array(256),j=new Array(256);for(let q=0;q<256;q++)F[q]=w[q]/255,H[q]=T[q]/255,j[q]=E[q]/255;C=F.join(","),S=H.join(","),P=j.join(","),V=`${C}${S}${P}`}if(_=this.#d.get(V),_)return this.#d.set(k,_),_;let L=`g_${this.#i}_transfer_map_${this.#h++}`,N=`url(#${L})`;this.#d.set(k,N),this.#d.set(V,N);let I=this.#m(L);return this.#v(C,S,P,I),N}addHCMFilter(k,_){let C=`${k}-${_}`;if(this.#a===C)return this.#o;if(this.#a=C,this.#o="none",this.#s?.remove(),!k||!_)return this.#o;let S=this.#u(k);k=n.Util.makeHexColor(...S);let P=this.#u(_);if(_=n.Util.makeHexColor(...P),this.#p.style.color="",k==="#000000"&&_==="#ffffff"||k===_)return this.#o;let V=new Array(256);for(let T=0;T<=255;T++){let E=T/255;V[T]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}let L=V.join(","),N=`g_${this.#i}_hcm_filter`,I=this.#c=this.#m(N);this.#v(L,L,L,I),this.#f(I);let w=(T,E)=>{let F=S[T]/255,H=P[T]/255,j=new Array(E+1);for(let q=0;q<=E;q++)j[q]=F+q/E*(H-F);return j.join(",")};return this.#v(w(0,5),w(1,5),w(2,5),I),this.#o=`url(#${N})`,this.#o}addHighlightHCMFilter(k,_,C,S){let P=`${k}-${_}-${C}-${S}`;if(this.#l===P)return this.#r;if(this.#l=P,this.#r="none",this.#c?.remove(),!k||!_)return this.#r;let[V,L]=[k,_].map(this.#u.bind(this)),N=Math.round(.2126*V[0]+.7152*V[1]+.0722*V[2]),I=Math.round(.2126*L[0]+.7152*L[1]+.0722*L[2]),[w,T]=[C,S].map(this.#u.bind(this));I<N&&([N,I,w,T]=[I,N,T,w]),this.#p.style.color="";let E=(j,q,ie)=>{let Q=new Array(256),U=(I-N)/ie,X=j/255,G=(q-j)/(255*ie),J=0;for(let ne=0;ne<=ie;ne++){let se=Math.round(N+ne*U),le=X+ne*G;for(let pe=J;pe<=se;pe++)Q[pe]=le;J=se+1}for(let ne=J;ne<256;ne++)Q[ne]=Q[J-1];return Q.join(",")},F=`g_${this.#i}_hcm_highlight_filter`,H=this.#c=this.#m(F);return this.#f(H),this.#v(E(w[0],T[0],5),E(w[1],T[1],5),E(w[2],T[2],5),H),this.#r=`url(#${F})`,this.#r}destroy(k=!1){k&&(this.#o||this.#r)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#h=0)}#f(k){let _=this.#n.createElementNS(a,"feColorMatrix");_.setAttribute("type","matrix"),_.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),k.append(_)}#m(k){let _=this.#n.createElementNS(a,"filter");return _.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("id",k),this.#p.append(_),_}#g(k,_,C){let S=this.#n.createElementNS(a,_);S.setAttribute("type","discrete"),S.setAttribute("tableValues",C),k.append(S)}#v(k,_,C,S){let P=this.#n.createElementNS(a,"feComponentTransfer");S.append(P),this.#g(P,"feFuncR",k),this.#g(P,"feFuncG",_),this.#g(P,"feFuncB",C)}#u(k){return this.#p.style.color=k,W(getComputedStyle(this.#p).getPropertyValue("color"))}}e.DOMFilterFactory=l;class m extends t.BaseCanvasFactory{constructor({ownerDocument:k=globalThis.document}={}){super(),this._document=k}_createCanvas(k,_){let C=this._document.createElement("canvas");return C.width=k,C.height=_,C}}e.DOMCanvasFactory=m;function d(B,k=!1){return ce(this,null,function*(){if(b(B,document.baseURI)){let _=yield fetch(B);if(!_.ok)throw new Error(_.statusText);return k?new Uint8Array(yield _.arrayBuffer()):(0,n.stringToBytes)(yield _.text())}return new Promise((_,C)=>{let S=new XMLHttpRequest;S.open("GET",B,!0),k&&(S.responseType="arraybuffer"),S.onreadystatechange=()=>{if(S.readyState===XMLHttpRequest.DONE){if(S.status===200||S.status===0){let P;if(k&&S.response?P=new Uint8Array(S.response):!k&&S.responseText&&(P=(0,n.stringToBytes)(S.responseText)),P){_(P);return}}C(new Error(S.statusText))}},S.send(null)})})}class h extends t.BaseCMapReaderFactory{_fetchData(k,_){return d(k,this.isCompressed).then(C=>({cMapData:C,compressionType:_}))}}e.DOMCMapReaderFactory=h;class s extends t.BaseStandardFontDataFactory{_fetchData(k){return d(k,!0)}}e.DOMStandardFontDataFactory=s;class c extends t.BaseSVGFactory{_createSVG(k){return document.createElementNS(a,k)}}e.DOMSVGFactory=c;class f{constructor({viewBox:k,scale:_,rotation:C,offsetX:S=0,offsetY:P=0,dontFlip:V=!1}){this.viewBox=k,this.scale=_,this.rotation=C,this.offsetX=S,this.offsetY=P;let L=(k[2]+k[0])/2,N=(k[3]+k[1])/2,I,w,T,E;switch(C%=360,C<0&&(C+=360),C){case 180:I=-1,w=0,T=0,E=1;break;case 90:I=0,w=1,T=1,E=0;break;case 270:I=0,w=-1,T=-1,E=0;break;case 0:I=1,w=0,T=0,E=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}V&&(T=-T,E=-E);let F,H,j,q;I===0?(F=Math.abs(N-k[1])*_+S,H=Math.abs(L-k[0])*_+P,j=(k[3]-k[1])*_,q=(k[2]-k[0])*_):(F=Math.abs(L-k[0])*_+S,H=Math.abs(N-k[1])*_+P,j=(k[2]-k[0])*_,q=(k[3]-k[1])*_),this.transform=[I*_,w*_,T*_,E*_,F-I*_*L-T*_*N,H-w*_*L-E*_*N],this.width=j,this.height=q}get rawDims(){let{viewBox:k}=this;return(0,n.shadow)(this,"rawDims",{pageWidth:k[2]-k[0],pageHeight:k[3]-k[1],pageX:k[0],pageY:k[1]})}clone({scale:k=this.scale,rotation:_=this.rotation,offsetX:C=this.offsetX,offsetY:S=this.offsetY,dontFlip:P=!1}={}){return new f({viewBox:this.viewBox.slice(),scale:k,rotation:_,offsetX:C,offsetY:S,dontFlip:P})}convertToViewportPoint(k,_){return n.Util.applyTransform([k,_],this.transform)}convertToViewportRectangle(k){let _=n.Util.applyTransform([k[0],k[1]],this.transform),C=n.Util.applyTransform([k[2],k[3]],this.transform);return[_[0],_[1],C[0],C[1]]}convertToPdfPoint(k,_){return n.Util.applyInverseTransform([k,_],this.transform)}}e.PageViewport=f;class p extends n.BaseException{constructor(k,_=0){super(k,"RenderingCancelledException"),this.extraDelay=_}}e.RenderingCancelledException=p;function u(B){let k=B.length,_=0;for(;_<k&&B[_].trim()==="";)_++;return B.substring(_,_+5).toLowerCase()==="data:"}function y(B){return typeof B=="string"&&/\.pdf$/i.test(B)}function v(B,k=!1){return k||([B]=B.split(/[#?]/,1)),B.substring(B.lastIndexOf("/")+1)}function z(B,k="document.pdf"){if(typeof B!="string")return k;if(u(B))return(0,n.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),k;let _=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,C=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,S=_.exec(B),P=C.exec(S[1])||C.exec(S[2])||C.exec(S[3]);if(P&&(P=P[0],P.includes("%")))try{P=C.exec(decodeURIComponent(P))[0]}catch{}return P||k}class g{started=Object.create(null);times=[];time(k){k in this.started&&(0,n.warn)(`Timer is already running for ${k}`),this.started[k]=Date.now()}timeEnd(k){k in this.started||(0,n.warn)(`Timer has not been started for ${k}`),this.times.push({name:k,start:this.started[k],end:Date.now()}),delete this.started[k]}toString(){let k=[],_=0;for(let{name:C}of this.times)_=Math.max(C.length,_);for(let{name:C,start:S,end:P}of this.times)k.push(`${C.padEnd(_)} ${P-S}ms
`);return k.join("")}}e.StatTimer=g;function b(B,k){try{let{protocol:_}=k?new URL(B,k):new URL(B);return _==="http:"||_==="https:"}catch{return!1}}function M(B){B.preventDefault()}function x(B,k=!1){return new Promise((_,C)=>{let S=document.createElement("script");S.src=B,S.onload=function(P){k&&S.remove(),_(P)},S.onerror=function(){C(new Error(`Cannot load script at: ${S.src}`))},(document.head||document.documentElement).append(S)})}function A(B){console.log("Deprecated API usage: "+B)}let D;class O{static toDateObject(k){if(!k||typeof k!="string")return null;D||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let _=D.exec(k);if(!_)return null;let C=parseInt(_[1],10),S=parseInt(_[2],10);S=S>=1&&S<=12?S-1:0;let P=parseInt(_[3],10);P=P>=1&&P<=31?P:1;let V=parseInt(_[4],10);V=V>=0&&V<=23?V:0;let L=parseInt(_[5],10);L=L>=0&&L<=59?L:0;let N=parseInt(_[6],10);N=N>=0&&N<=59?N:0;let I=_[7]||"Z",w=parseInt(_[8],10);w=w>=0&&w<=23?w:0;let T=parseInt(_[9],10)||0;return T=T>=0&&T<=59?T:0,I==="-"?(V+=w,L+=T):I==="+"&&(V-=w,L-=T),new Date(Date.UTC(C,S,P,V,L,N))}}e.PDFDateString=O;function Y(B,{scale:k=1,rotation:_=0}){let{width:C,height:S}=B.attributes.style,P=[0,0,parseInt(C),parseInt(S)];return new f({viewBox:P,scale:k,rotation:_})}function W(B){if(B.startsWith("#")){let k=parseInt(B.slice(1),16);return[(k&16711680)>>16,(k&65280)>>8,k&255]}return B.startsWith("rgb(")?B.slice(4,-1).split(",").map(k=>parseInt(k)):B.startsWith("rgba(")?B.slice(5,-1).split(",").map(k=>parseInt(k)).slice(0,3):((0,n.warn)(`Not a valid color format: "${B}"`),[0,0,0])}function $(B){let k=document.createElement("span");k.style.visibility="hidden",document.body.append(k);for(let _ of B.keys()){k.style.color=_;let C=window.getComputedStyle(k).color;B.set(_,W(C))}k.remove()}function Z(B){let{a:k,b:_,c:C,d:S,e:P,f:V}=B.getTransform();return[k,_,C,S,P,V]}function K(B){let{a:k,b:_,c:C,d:S,e:P,f:V}=B.getTransform().invertSelf();return[k,_,C,S,P,V]}function R(B,k,_=!1,C=!0){if(k instanceof f){let{pageWidth:S,pageHeight:P}=k.rawDims,{style:V}=B,L=n.FeatureTest.isCSSRoundSupported,N=`var(--scale-factor) * ${S}px`,I=`var(--scale-factor) * ${P}px`,w=L?`round(${N}, 1px)`:`calc(${N})`,T=L?`round(${I}, 1px)`:`calc(${I})`;!_||k.rotation%180===0?(V.width=w,V.height=T):(V.width=T,V.height=w)}C&&B.setAttribute("data-main-rotation",k.rotation)}},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var t=r(1);class n{constructor(){this.constructor===n&&(0,t.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(h){return"none"}addHCMFilter(h,s){return"none"}addHighlightHCMFilter(h,s,c,f){return"none"}destroy(h=!1){}}e.BaseFilterFactory=n;class a{constructor(){this.constructor===a&&(0,t.unreachable)("Cannot initialize BaseCanvasFactory.")}create(h,s){if(h<=0||s<=0)throw new Error("Invalid canvas size");let c=this._createCanvas(h,s);return{canvas:c,context:c.getContext("2d")}}reset(h,s,c){if(!h.canvas)throw new Error("Canvas is not specified");if(s<=0||c<=0)throw new Error("Invalid canvas size");h.canvas.width=s,h.canvas.height=c}destroy(h){if(!h.canvas)throw new Error("Canvas is not specified");h.canvas.width=0,h.canvas.height=0,h.canvas=null,h.context=null}_createCanvas(h,s){(0,t.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=a;class o{constructor({baseUrl:h=null,isCompressed:s=!0}){this.constructor===o&&(0,t.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=h,this.isCompressed=s}fetch(s){return ce(this,arguments,function*({name:h}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!h)throw new Error("CMap name must be specified.");let c=this.baseUrl+h+(this.isCompressed?".bcmap":""),f=this.isCompressed?t.CMapCompressionType.BINARY:t.CMapCompressionType.NONE;return this._fetchData(c,f).catch(p=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${c}`)})})}_fetchData(h,s){(0,t.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=o;class l{constructor({baseUrl:h=null}){this.constructor===l&&(0,t.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=h}fetch(s){return ce(this,arguments,function*({filename:h}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!h)throw new Error("Font filename must be specified.");let c=`${this.baseUrl}${h}`;return this._fetchData(c).catch(f=>{throw new Error(`Unable to load font data at: ${c}`)})})}_fetchData(h){(0,t.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=l;class m{constructor(){this.constructor===m&&(0,t.unreachable)("Cannot initialize BaseSVGFactory.")}create(h,s,c=!1){if(h<=0||s<=0)throw new Error("Invalid SVG dimensions");let f=this._createSVG("svg:svg");return f.setAttribute("version","1.1"),c||(f.setAttribute("width",`${h}px`),f.setAttribute("height",`${s}px`)),f.setAttribute("preserveAspectRatio","none"),f.setAttribute("viewBox",`0 0 ${h} ${s}`),f}createElement(h){if(typeof h!="string")throw new Error("Invalid SVG element type");return this._createSVG(h)}_createSVG(h){(0,t.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=m},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var t=r(1);let n=3285377520,a=4294901760,o=65535;class l{constructor(d){this.h1=d?d&4294967295:n,this.h2=d?d&4294967295:n}update(d){let h,s;if(typeof d=="string"){h=new Uint8Array(d.length*2),s=0;for(let A=0,D=d.length;A<D;A++){let O=d.charCodeAt(A);O<=255?h[s++]=O:(h[s++]=O>>>8,h[s++]=O&255)}}else if((0,t.isArrayBuffer)(d))h=d.slice(),s=h.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let c=s>>2,f=s-c*4,p=new Uint32Array(h.buffer,0,c),u=0,y=0,v=this.h1,z=this.h2,g=3432918353,b=461845907,M=g&o,x=b&o;for(let A=0;A<c;A++)A&1?(u=p[A],u=u*g&a|u*M&o,u=u<<15|u>>>17,u=u*b&a|u*x&o,v^=u,v=v<<13|v>>>19,v=v*5+3864292196):(y=p[A],y=y*g&a|y*M&o,y=y<<15|y>>>17,y=y*b&a|y*x&o,z^=y,z=z<<13|z>>>19,z=z*5+3864292196);switch(u=0,f){case 3:u^=h[c*4+2]<<16;case 2:u^=h[c*4+1]<<8;case 1:u^=h[c*4],u=u*g&a|u*M&o,u=u<<15|u>>>17,u=u*b&a|u*x&o,c&1?v^=u:z^=u}this.h1=v,this.h2=z}hexdigest(){let d=this.h1,h=this.h2;return d^=h>>>1,d=d*3981806797&a|d*36045&o,h=h*4283543511&a|((h<<16|d>>>16)*2950163797&a)>>>16,d^=h>>>1,d=d*444984403&a|d*60499&o,h=h*3301882366&a|((h<<16|d>>>16)*3120437893&a)>>>16,d^=h>>>1,(d>>>0).toString(16).padStart(8,"0")+(h>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=l},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var t=r(1);class n{#e=new Set;constructor({ownerDocument:l=globalThis.document,styleElement:m=null}){this._document=l,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(l){this.nativeFontFaces.add(l),this._document.fonts.add(l)}removeNativeFontFace(l){this.nativeFontFaces.delete(l),this._document.fonts.delete(l)}insertRule(l){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let m=this.styleElement.sheet;m.insertRule(l,m.cssRules.length)}clear(){for(let l of this.nativeFontFaces)this._document.fonts.delete(l);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(l){return ce(this,null,function*(){if(!(!l||this.#e.has(l.loadedName))){if((0,t.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:m,src:d,style:h}=l,s=new FontFace(m,d,h);this.addNativeFontFace(s);try{yield s.load(),this.#e.add(m)}catch{(0,t.warn)(`Cannot load system font: ${l.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}(0,t.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(l){return ce(this,null,function*(){if(l.attached||l.missingFile&&!l.systemFontInfo)return;if(l.attached=!0,l.systemFontInfo){yield this.loadSystemFont(l.systemFontInfo);return}if(this.isFontLoadingAPISupported){let d=l.createNativeFontFace();if(d){this.addNativeFontFace(d);try{yield d.loaded}catch(h){throw(0,t.warn)(`Failed to load font '${d.family}': '${h}'.`),l.disableFontFace=!0,h}}return}let m=l.createFontFaceRule();if(m){if(this.insertRule(m),this.isSyncFontLoadingSupported)return;yield new Promise(d=>{let h=this._queueLoadingCallback(d);this._prepareFontLoadEvent(l,h)})}})}get isFontLoadingAPISupported(){let l=!!this._document?.fonts;return(0,t.shadow)(this,"isFontLoadingAPISupported",l)}get isSyncFontLoadingSupported(){let l=!1;return(t.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(l=!0),(0,t.shadow)(this,"isSyncFontLoadingSupported",l)}_queueLoadingCallback(l){function m(){for((0,t.assert)(!h.done,"completeRequest() cannot be called twice."),h.done=!0;d.length>0&&d[0].done;){let s=d.shift();setTimeout(s.callback,0)}}let{loadingRequests:d}=this,h={done:!1,complete:m,callback:l};return d.push(h),h}get _loadTestFont(){let l=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,t.shadow)(this,"_loadTestFont",l)}_prepareFontLoadEvent(l,m){function d(Y,W){return Y.charCodeAt(W)<<24|Y.charCodeAt(W+1)<<16|Y.charCodeAt(W+2)<<8|Y.charCodeAt(W+3)&255}function h(Y,W,$,Z){let K=Y.substring(0,W),R=Y.substring(W+$);return K+Z+R}let s,c,f=this._document.createElement("canvas");f.width=1,f.height=1;let p=f.getContext("2d"),u=0;function y(Y,W){if(++u>30){(0,t.warn)("Load test font never loaded."),W();return}if(p.font="30px "+Y,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){W();return}setTimeout(y.bind(null,Y,W))}let v=`lt${Date.now()}${this.loadTestFontId++}`,z=this._loadTestFont;z=h(z,976,v.length,v);let b=16,M=1482184792,x=d(z,b);for(s=0,c=v.length-3;s<c;s+=4)x=x-M+d(v,s)|0;s<v.length&&(x=x-M+d(v+"XXX",s)|0),z=h(z,b,4,(0,t.string32)(x));let A=`url(data:font/opentype;base64,${btoa(z)});`,D=`@font-face {font-family:"${v}";src:${A}}`;this.insertRule(D);let O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(let Y of[l.loadedName,v]){let W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=Y,O.append(W)}this._document.body.append(O),y(v,()=>{O.remove(),m.complete()})}}e.FontLoader=n;class a{constructor(l,{isEvalSupported:m=!0,disableFontFace:d=!1,ignoreErrors:h=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(let c in l)this[c]=l[c];this.isEvalSupported=m!==!1,this.disableFontFace=d===!0,this.ignoreErrors=h===!0,this._inspectFont=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let l;if(!this.cssFontInfo)l=new FontFace(this.loadedName,this.data,{});else{let m={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(m.style=`oblique ${this.cssFontInfo.italicAngle}deg`),l=new FontFace(this.cssFontInfo.fontFamily,this.data,m)}return this._inspectFont?.(this),l}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let l=(0,t.bytesToString)(this.data),m=`url(data:${this.mimetype};base64,${btoa(l)});`,d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${m}}`;else{let h=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(h+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${h}src:${m}}`}return this._inspectFont?.(this,m),d}getPathGenerator(l,m){if(this.compiledGlyphs[m]!==void 0)return this.compiledGlyphs[m];let d;try{d=l.get(this.loadedName+"_path_"+m)}catch(h){if(!this.ignoreErrors)throw h;return(0,t.warn)(`getPathGenerator - ignoring character: "${h}".`),this.compiledGlyphs[m]=function(s,c){}}if(this.isEvalSupported&&t.FeatureTest.isEvalSupported){let h=[];for(let s of d){let c=s.args!==void 0?s.args.join(","):"";h.push("c.",s.cmd,"(",c,`);
`)}return this.compiledGlyphs[m]=new Function("c","size",h.join(""))}return this.compiledGlyphs[m]=function(h,s){for(let c of d)c.cmd==="scale"&&(c.args=[s,-s]),h[c.cmd].apply(h,c.args)}}}e.FontFaceObject=a},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var t=r(7),n=r(1);let a=function(h){return new Promise((s,c)=>{Ua().readFile(h,(p,u)=>{if(p||!u){c(new Error(p));return}s(new Uint8Array(u))})})};class o extends t.BaseFilterFactory{}e.NodeFilterFactory=o;class l extends t.BaseCanvasFactory{_createCanvas(s,c){return b2().createCanvas(s,c)}}e.NodeCanvasFactory=l;class m extends t.BaseCMapReaderFactory{_fetchData(s,c){return a(s).then(f=>({cMapData:f,compressionType:c}))}}e.NodeCMapReaderFactory=m;class d extends t.BaseStandardFontDataFactory{_fetchData(s){return a(s)}}e.NodeStandardFontDataFactory=d},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var t=r(1),n=r(6),a=r(12),o=r(13);let l=16,m=100,d=4096,h=15,s=10,c=1e3,f=16;function p(_,C){if(_._removeMirroring)throw new Error("Context is already forwarding operations.");_.__originalSave=_.save,_.__originalRestore=_.restore,_.__originalRotate=_.rotate,_.__originalScale=_.scale,_.__originalTranslate=_.translate,_.__originalTransform=_.transform,_.__originalSetTransform=_.setTransform,_.__originalResetTransform=_.resetTransform,_.__originalClip=_.clip,_.__originalMoveTo=_.moveTo,_.__originalLineTo=_.lineTo,_.__originalBezierCurveTo=_.bezierCurveTo,_.__originalRect=_.rect,_.__originalClosePath=_.closePath,_.__originalBeginPath=_.beginPath,_._removeMirroring=()=>{_.save=_.__originalSave,_.restore=_.__originalRestore,_.rotate=_.__originalRotate,_.scale=_.__originalScale,_.translate=_.__originalTranslate,_.transform=_.__originalTransform,_.setTransform=_.__originalSetTransform,_.resetTransform=_.__originalResetTransform,_.clip=_.__originalClip,_.moveTo=_.__originalMoveTo,_.lineTo=_.__originalLineTo,_.bezierCurveTo=_.__originalBezierCurveTo,_.rect=_.__originalRect,_.closePath=_.__originalClosePath,_.beginPath=_.__originalBeginPath,delete _._removeMirroring},_.save=function(){C.save(),this.__originalSave()},_.restore=function(){C.restore(),this.__originalRestore()},_.translate=function(P,V){C.translate(P,V),this.__originalTranslate(P,V)},_.scale=function(P,V){C.scale(P,V),this.__originalScale(P,V)},_.transform=function(P,V,L,N,I,w){C.transform(P,V,L,N,I,w),this.__originalTransform(P,V,L,N,I,w)},_.setTransform=function(P,V,L,N,I,w){C.setTransform(P,V,L,N,I,w),this.__originalSetTransform(P,V,L,N,I,w)},_.resetTransform=function(){C.resetTransform(),this.__originalResetTransform()},_.rotate=function(P){C.rotate(P),this.__originalRotate(P)},_.clip=function(P){C.clip(P),this.__originalClip(P)},_.moveTo=function(S,P){C.moveTo(S,P),this.__originalMoveTo(S,P)},_.lineTo=function(S,P){C.lineTo(S,P),this.__originalLineTo(S,P)},_.bezierCurveTo=function(S,P,V,L,N,I){C.bezierCurveTo(S,P,V,L,N,I),this.__originalBezierCurveTo(S,P,V,L,N,I)},_.rect=function(S,P,V,L){C.rect(S,P,V,L),this.__originalRect(S,P,V,L)},_.closePath=function(){C.closePath(),this.__originalClosePath()},_.beginPath=function(){C.beginPath(),this.__originalBeginPath()}}class u{constructor(C){this.canvasFactory=C,this.cache=Object.create(null)}getCanvas(C,S,P){let V;return this.cache[C]!==void 0?(V=this.cache[C],this.canvasFactory.reset(V,S,P)):(V=this.canvasFactory.create(S,P),this.cache[C]=V),V}delete(C){delete this.cache[C]}clear(){for(let C in this.cache){let S=this.cache[C];this.canvasFactory.destroy(S),delete this.cache[C]}}}function y(_,C,S,P,V,L,N,I,w,T){let[E,F,H,j,q,ie]=(0,n.getCurrentTransform)(_);if(F===0&&H===0){let X=N*E+q,G=Math.round(X),J=I*j+ie,ne=Math.round(J),se=(N+w)*E+q,le=Math.abs(Math.round(se)-G)||1,pe=(I+T)*j+ie,ge=Math.abs(Math.round(pe)-ne)||1;return _.setTransform(Math.sign(E),0,0,Math.sign(j),G,ne),_.drawImage(C,S,P,V,L,0,0,le,ge),_.setTransform(E,F,H,j,q,ie),[le,ge]}if(E===0&&j===0){let X=I*H+q,G=Math.round(X),J=N*F+ie,ne=Math.round(J),se=(I+T)*H+q,le=Math.abs(Math.round(se)-G)||1,pe=(N+w)*F+ie,ge=Math.abs(Math.round(pe)-ne)||1;return _.setTransform(0,Math.sign(F),Math.sign(H),0,G,ne),_.drawImage(C,S,P,V,L,0,0,ge,le),_.setTransform(E,F,H,j,q,ie),[ge,le]}_.drawImage(C,S,P,V,L,N,I,w,T);let Q=Math.hypot(E,F),U=Math.hypot(H,j);return[Q*w,U*T]}function v(_){let{width:C,height:S}=_;if(C>c||S>c)return null;let P=1e3,V=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),L=C+1,N=new Uint8Array(L*(S+1)),I,w,T,E=C+7&-8,F=new Uint8Array(E*S),H=0;for(let U of _.data){let X=128;for(;X>0;)F[H++]=U&X?0:255,X>>=1}let j=0;for(H=0,F[H]!==0&&(N[0]=1,++j),w=1;w<C;w++)F[H]!==F[H+1]&&(N[w]=F[H]?2:1,++j),H++;for(F[H]!==0&&(N[w]=2,++j),I=1;I<S;I++){H=I*E,T=I*L,F[H-E]!==F[H]&&(N[T]=F[H]?1:8,++j);let U=(F[H]?4:0)+(F[H-E]?8:0);for(w=1;w<C;w++)U=(U>>2)+(F[H+1]?4:0)+(F[H-E+1]?8:0),V[U]&&(N[T+w]=V[U],++j),H++;if(F[H-E]!==F[H]&&(N[T+w]=F[H]?2:4,++j),j>P)return null}for(H=E*(S-1),T=I*L,F[H]!==0&&(N[T]=8,++j),w=1;w<C;w++)F[H]!==F[H+1]&&(N[T+w]=F[H]?4:8,++j),H++;if(F[H]!==0&&(N[T+w]=4,++j),j>P)return null;let q=new Int32Array([0,L,-1,0,-L,0,0,0,1]),ie=new Path2D;for(I=0;j&&I<=S;I++){let U=I*L,X=U+C;for(;U<X&&!N[U];)U++;if(U===X)continue;ie.moveTo(U%L,I);let G=U,J=N[U];do{let ne=q[J];do U+=ne;while(!N[U]);let se=N[U];se!==5&&se!==10?(J=se,N[U]=0):(J=se&51*J>>4,N[U]&=J>>2|J<<2),ie.lineTo(U%L,U/L|0),N[U]||--j}while(G!==U);--I}return F=null,N=null,function(U){U.save(),U.scale(1/C,-1/S),U.translate(0,-S),U.fill(ie),U.beginPath(),U.restore()}}class z{constructor(C,S){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=t.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=t.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=t.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,C,S])}clone(){let C=Object.create(this);return C.clipBox=this.clipBox.slice(),C}setCurrentPoint(C,S){this.x=C,this.y=S}updatePathMinMax(C,S,P){[S,P]=t.Util.applyTransform([S,P],C),this.minX=Math.min(this.minX,S),this.minY=Math.min(this.minY,P),this.maxX=Math.max(this.maxX,S),this.maxY=Math.max(this.maxY,P)}updateRectMinMax(C,S){let P=t.Util.applyTransform(S,C),V=t.Util.applyTransform(S.slice(2),C);this.minX=Math.min(this.minX,P[0],V[0]),this.minY=Math.min(this.minY,P[1],V[1]),this.maxX=Math.max(this.maxX,P[0],V[0]),this.maxY=Math.max(this.maxY,P[1],V[1])}updateScalingPathMinMax(C,S){t.Util.scaleMinMax(C,S),this.minX=Math.min(this.minX,S[0]),this.maxX=Math.max(this.maxX,S[1]),this.minY=Math.min(this.minY,S[2]),this.maxY=Math.max(this.maxY,S[3])}updateCurvePathMinMax(C,S,P,V,L,N,I,w,T,E){let F=t.Util.bezierBoundingBox(S,P,V,L,N,I,w,T);if(E){E[0]=Math.min(E[0],F[0],F[2]),E[1]=Math.max(E[1],F[0],F[2]),E[2]=Math.min(E[2],F[1],F[3]),E[3]=Math.max(E[3],F[1],F[3]);return}this.updateRectMinMax(C,F)}getPathBoundingBox(C=a.PathType.FILL,S=null){let P=[this.minX,this.minY,this.maxX,this.maxY];if(C===a.PathType.STROKE){S||(0,t.unreachable)("Stroke bounding box must include transform.");let V=t.Util.singularValueDecompose2dScale(S),L=V[0]*this.lineWidth/2,N=V[1]*this.lineWidth/2;P[0]-=L,P[1]-=N,P[2]+=L,P[3]+=N}return P}updateClipFromPath(){let C=t.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(C||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(C){this.clipBox=C,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(C=a.PathType.FILL,S=null){return t.Util.intersect(this.clipBox,this.getPathBoundingBox(C,S))}}function g(_,C){if(typeof ImageData<"u"&&C instanceof ImageData){_.putImageData(C,0,0);return}let S=C.height,P=C.width,V=S%f,L=(S-V)/f,N=V===0?L:L+1,I=_.createImageData(P,f),w=0,T,E=C.data,F=I.data,H,j,q,ie;if(C.kind===t.ImageKind.GRAYSCALE_1BPP){let Q=E.byteLength,U=new Uint32Array(F.buffer,0,F.byteLength>>2),X=U.length,G=P+7>>3,J=4294967295,ne=t.FeatureTest.isLittleEndian?4278190080:255;for(H=0;H<N;H++){for(q=H<L?f:V,T=0,j=0;j<q;j++){let se=Q-w,le=0,pe=se>G?P:se*8-7,ge=pe&-8,_e=0,Fe=0;for(;le<ge;le+=8)Fe=E[w++],U[T++]=Fe&128?J:ne,U[T++]=Fe&64?J:ne,U[T++]=Fe&32?J:ne,U[T++]=Fe&16?J:ne,U[T++]=Fe&8?J:ne,U[T++]=Fe&4?J:ne,U[T++]=Fe&2?J:ne,U[T++]=Fe&1?J:ne;for(;le<pe;le++)_e===0&&(Fe=E[w++],_e=128),U[T++]=Fe&_e?J:ne,_e>>=1}for(;T<X;)U[T++]=0;_.putImageData(I,0,H*f)}}else if(C.kind===t.ImageKind.RGBA_32BPP){for(j=0,ie=P*f*4,H=0;H<L;H++)F.set(E.subarray(w,w+ie)),w+=ie,_.putImageData(I,0,j),j+=f;H<N&&(ie=P*V*4,F.set(E.subarray(w,w+ie)),_.putImageData(I,0,j))}else if(C.kind===t.ImageKind.RGB_24BPP)for(q=f,ie=P*q,H=0;H<N;H++){for(H>=L&&(q=V,ie=P*q),T=0,j=ie;j--;)F[T++]=E[w++],F[T++]=E[w++],F[T++]=E[w++],F[T++]=255;_.putImageData(I,0,H*f)}else throw new Error(`bad image kind: ${C.kind}`)}function b(_,C){if(C.bitmap){_.drawImage(C.bitmap,0,0);return}let S=C.height,P=C.width,V=S%f,L=(S-V)/f,N=V===0?L:L+1,I=_.createImageData(P,f),w=0,T=C.data,E=I.data;for(let F=0;F<N;F++){let H=F<L?f:V;({srcPos:w}=(0,o.convertBlackAndWhiteToRGBA)({src:T,srcPos:w,dest:E,width:P,height:H,nonBlackColor:0})),_.putImageData(I,0,F*f)}}function M(_,C){let S=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let P of S)_[P]!==void 0&&(C[P]=_[P]);_.setLineDash!==void 0&&(C.setLineDash(_.getLineDash()),C.lineDashOffset=_.lineDashOffset)}function x(_){if(_.strokeStyle=_.fillStyle="#000000",_.fillRule="nonzero",_.globalAlpha=1,_.lineWidth=1,_.lineCap="butt",_.lineJoin="miter",_.miterLimit=10,_.globalCompositeOperation="source-over",_.font="10px sans-serif",_.setLineDash!==void 0&&(_.setLineDash([]),_.lineDashOffset=0),!t.isNodeJS){let{filter:C}=_;C!=="none"&&C!==""&&(_.filter="none")}}function A(_,C,S,P){let V=_.length;for(let L=3;L<V;L+=4){let N=_[L];if(N===0)_[L-3]=C,_[L-2]=S,_[L-1]=P;else if(N<255){let I=255-N;_[L-3]=_[L-3]*N+C*I>>8,_[L-2]=_[L-2]*N+S*I>>8,_[L-1]=_[L-1]*N+P*I>>8}}}function D(_,C,S){let P=_.length,V=1/255;for(let L=3;L<P;L+=4){let N=S?S[_[L]]:_[L];C[L]=C[L]*N*V|0}}function O(_,C,S){let P=_.length;for(let V=3;V<P;V+=4){let L=_[V-3]*77+_[V-2]*152+_[V-1]*28;C[V]=S?C[V]*S[L>>8]>>8:C[V]*L>>16}}function Y(_,C,S,P,V,L,N,I,w,T,E){let F=!!L,H=F?L[0]:0,j=F?L[1]:0,q=F?L[2]:0,ie=V==="Luminosity"?O:D,U=Math.min(P,Math.ceil(1048576/S));for(let X=0;X<P;X+=U){let G=Math.min(U,P-X),J=_.getImageData(I-T,X+(w-E),S,G),ne=C.getImageData(I,X+w,S,G);F&&A(J.data,H,j,q),ie(J.data,ne.data,N),C.putImageData(ne,I,X+w)}}function W(_,C,S,P){let V=P[0],L=P[1],N=P[2]-V,I=P[3]-L;N===0||I===0||(Y(C.context,S,N,I,C.subtype,C.backdrop,C.transferMap,V,L,C.offsetX,C.offsetY),_.save(),_.globalAlpha=1,_.globalCompositeOperation="source-over",_.setTransform(1,0,0,1,0,0),_.drawImage(S.canvas,0,0),_.restore())}function $(_,C){let S=t.Util.singularValueDecompose2dScale(_);S[0]=Math.fround(S[0]),S[1]=Math.fround(S[1]);let P=Math.fround((globalThis.devicePixelRatio||1)*n.PixelsPerInch.PDF_TO_CSS_UNITS);return C!==void 0?C:S[0]<=P||S[1]<=P}let Z=["butt","round","square"],K=["miter","round","bevel"],R={},B={};class k{constructor(C,S,P,V,L,{optionalContentConfig:N,markedContentStack:I=null},w,T){this.ctx=C,this.current=new z(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=S,this.objs=P,this.canvasFactory=V,this.filterFactory=L,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=I||[],this.optionalContentConfig=N,this.cachedCanvases=new u(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=w,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=T,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(C,S=null){return typeof C=="string"?C.startsWith("g_")?this.commonObjs.get(C):this.objs.get(C):S}beginDrawing({transform:C,viewport:S,transparency:P=!1,background:V=null}){let L=this.ctx.canvas.width,N=this.ctx.canvas.height,I=this.ctx.fillStyle;if(this.ctx.fillStyle=V||"#ffffff",this.ctx.fillRect(0,0,L,N),this.ctx.fillStyle=I,P){let w=this.cachedCanvases.getCanvas("transparent",L,N);this.compositeCtx=this.ctx,this.transparentCanvas=w.canvas,this.ctx=w.context,this.ctx.save(),this.ctx.transform(...(0,n.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),x(this.ctx),C&&(this.ctx.transform(...C),this.outputScaleX=C[0],this.outputScaleY=C[0]),this.ctx.transform(...S.transform),this.viewportScale=S.scale,this.baseTransform=(0,n.getCurrentTransform)(this.ctx)}executeOperatorList(C,S,P,V){let L=C.argsArray,N=C.fnArray,I=S||0,w=L.length;if(w===I)return I;let T=w-I>s&&typeof P=="function",E=T?Date.now()+h:0,F=0,H=this.commonObjs,j=this.objs,q;for(;;){if(V!==void 0&&I===V.nextBreakPoint)return V.breakIt(I,P),I;if(q=N[I],q!==t.OPS.dependency)this[q].apply(this,L[I]);else for(let ie of L[I]){let Q=ie.startsWith("g_")?H:j;if(!Q.has(ie))return Q.get(ie,P),I}if(I++,I===w)return I;if(T&&++F>s){if(Date.now()>E)return P(),I;F=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let C of this._cachedBitmapsMap.values()){for(let S of C.values())typeof HTMLCanvasElement<"u"&&S instanceof HTMLCanvasElement&&(S.width=S.height=0);C.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let C=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(C!=="none"){let S=this.ctx.filter;this.ctx.filter=C,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=S}}}_scaleImage(C,S){let P=C.width,V=C.height,L=Math.max(Math.hypot(S[0],S[1]),1),N=Math.max(Math.hypot(S[2],S[3]),1),I=P,w=V,T="prescale1",E,F;for(;L>2&&I>1||N>2&&w>1;){let H=I,j=w;L>2&&I>1&&(H=I>=16384?Math.floor(I/2)-1||1:Math.ceil(I/2),L/=I/H),N>2&&w>1&&(j=w>=16384?Math.floor(w/2)-1||1:Math.ceil(w)/2,N/=w/j),E=this.cachedCanvases.getCanvas(T,H,j),F=E.context,F.clearRect(0,0,H,j),F.drawImage(C,0,0,I,w,0,0,H,j),C=E.canvas,I=H,w=j,T=T==="prescale1"?"prescale2":"prescale1"}return{img:C,paintWidth:I,paintHeight:w}}_createMaskCanvas(C){let S=this.ctx,{width:P,height:V}=C,L=this.current.fillColor,N=this.current.patternFill,I=(0,n.getCurrentTransform)(S),w,T,E,F;if((C.bitmap||C.data)&&C.count>1){let le=C.bitmap||C.data.buffer;T=JSON.stringify(N?I:[I.slice(0,4),L]),w=this._cachedBitmapsMap.get(le),w||(w=new Map,this._cachedBitmapsMap.set(le,w));let pe=w.get(T);if(pe&&!N){let ge=Math.round(Math.min(I[0],I[2])+I[4]),_e=Math.round(Math.min(I[1],I[3])+I[5]);return{canvas:pe,offsetX:ge,offsetY:_e}}E=pe}E||(F=this.cachedCanvases.getCanvas("maskCanvas",P,V),b(F.context,C));let H=t.Util.transform(I,[1/P,0,0,-1/V,0,0]);H=t.Util.transform(H,[1,0,0,1,0,-V]);let j=t.Util.applyTransform([0,0],H),q=t.Util.applyTransform([P,V],H),ie=t.Util.normalizeRect([j[0],j[1],q[0],q[1]]),Q=Math.round(ie[2]-ie[0])||1,U=Math.round(ie[3]-ie[1])||1,X=this.cachedCanvases.getCanvas("fillCanvas",Q,U),G=X.context,J=Math.min(j[0],q[0]),ne=Math.min(j[1],q[1]);G.translate(-J,-ne),G.transform(...H),E||(E=this._scaleImage(F.canvas,(0,n.getCurrentTransformInverse)(G)),E=E.img,w&&N&&w.set(T,E)),G.imageSmoothingEnabled=$((0,n.getCurrentTransform)(G),C.interpolate),y(G,E,0,0,E.width,E.height,0,0,P,V),G.globalCompositeOperation="source-in";let se=t.Util.transform((0,n.getCurrentTransformInverse)(G),[1,0,0,1,-J,-ne]);return G.fillStyle=N?L.getPattern(S,this,se,a.PathType.FILL):L,G.fillRect(0,0,P,V),w&&!N&&(this.cachedCanvases.delete("fillCanvas"),w.set(T,X.canvas)),{canvas:X.canvas,offsetX:Math.round(J),offsetY:Math.round(ne)}}setLineWidth(C){C!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=C,this.ctx.lineWidth=C}setLineCap(C){this.ctx.lineCap=Z[C]}setLineJoin(C){this.ctx.lineJoin=K[C]}setMiterLimit(C){this.ctx.miterLimit=C}setDash(C,S){let P=this.ctx;P.setLineDash!==void 0&&(P.setLineDash(C),P.lineDashOffset=S)}setRenderingIntent(C){}setFlatness(C){}setGState(C){for(let[S,P]of C)switch(S){case"LW":this.setLineWidth(P);break;case"LC":this.setLineCap(P);break;case"LJ":this.setLineJoin(P);break;case"ML":this.setMiterLimit(P);break;case"D":this.setDash(P[0],P[1]);break;case"RI":this.setRenderingIntent(P);break;case"FL":this.setFlatness(P);break;case"Font":this.setFont(P[0],P[1]);break;case"CA":this.current.strokeAlpha=P;break;case"ca":this.current.fillAlpha=P,this.ctx.globalAlpha=P;break;case"BM":this.ctx.globalCompositeOperation=P;break;case"SMask":this.current.activeSMask=P?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(P);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let C=this.inSMaskMode;this.current.activeSMask&&!C?this.beginSMaskMode():!this.current.activeSMask&&C&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let C=this.ctx.canvas.width,S=this.ctx.canvas.height,P="smaskGroupAt"+this.groupLevel,V=this.cachedCanvases.getCanvas(P,C,S);this.suspendedCtx=this.ctx,this.ctx=V.context;let L=this.ctx;L.setTransform(...(0,n.getCurrentTransform)(this.suspendedCtx)),M(this.suspendedCtx,L),p(L,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),M(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(C){if(!this.current.activeSMask)return;C?(C[0]=Math.floor(C[0]),C[1]=Math.floor(C[1]),C[2]=Math.ceil(C[2]),C[3]=Math.ceil(C[3])):C=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let S=this.current.activeSMask,P=this.suspendedCtx;W(P,S,this.ctx,C),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(M(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let C=this.current;this.stateStack.push(C),this.current=C.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),M(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(C,S,P,V,L,N){this.ctx.transform(C,S,P,V,L,N),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(C,S,P){let V=this.ctx,L=this.current,N=L.x,I=L.y,w,T,E=(0,n.getCurrentTransform)(V),F=E[0]===0&&E[3]===0||E[1]===0&&E[2]===0,H=F?P.slice(0):null;for(let j=0,q=0,ie=C.length;j<ie;j++)switch(C[j]|0){case t.OPS.rectangle:N=S[q++],I=S[q++];let Q=S[q++],U=S[q++],X=N+Q,G=I+U;V.moveTo(N,I),Q===0||U===0?V.lineTo(X,G):(V.lineTo(X,I),V.lineTo(X,G),V.lineTo(N,G)),F||L.updateRectMinMax(E,[N,I,X,G]),V.closePath();break;case t.OPS.moveTo:N=S[q++],I=S[q++],V.moveTo(N,I),F||L.updatePathMinMax(E,N,I);break;case t.OPS.lineTo:N=S[q++],I=S[q++],V.lineTo(N,I),F||L.updatePathMinMax(E,N,I);break;case t.OPS.curveTo:w=N,T=I,N=S[q+4],I=S[q+5],V.bezierCurveTo(S[q],S[q+1],S[q+2],S[q+3],N,I),L.updateCurvePathMinMax(E,w,T,S[q],S[q+1],S[q+2],S[q+3],N,I,H),q+=6;break;case t.OPS.curveTo2:w=N,T=I,V.bezierCurveTo(N,I,S[q],S[q+1],S[q+2],S[q+3]),L.updateCurvePathMinMax(E,w,T,N,I,S[q],S[q+1],S[q+2],S[q+3],H),N=S[q+2],I=S[q+3],q+=4;break;case t.OPS.curveTo3:w=N,T=I,N=S[q+2],I=S[q+3],V.bezierCurveTo(S[q],S[q+1],N,I,N,I),L.updateCurvePathMinMax(E,w,T,S[q],S[q+1],N,I,N,I,H),q+=4;break;case t.OPS.closePath:V.closePath();break}F&&L.updateScalingPathMinMax(E,H),L.setCurrentPoint(N,I)}closePath(){this.ctx.closePath()}stroke(C=!0){let S=this.ctx,P=this.current.strokeColor;S.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof P=="object"&&P?.getPattern?(S.save(),S.strokeStyle=P.getPattern(S,this,(0,n.getCurrentTransformInverse)(S),a.PathType.STROKE),this.rescaleAndStroke(!1),S.restore()):this.rescaleAndStroke(!0)),C&&this.consumePath(this.current.getClippedPathBoundingBox()),S.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(C=!0){let S=this.ctx,P=this.current.fillColor,V=this.current.patternFill,L=!1;V&&(S.save(),S.fillStyle=P.getPattern(S,this,(0,n.getCurrentTransformInverse)(S),a.PathType.FILL),L=!0);let N=this.current.getClippedPathBoundingBox();this.contentVisible&&N!==null&&(this.pendingEOFill?(S.fill("evenodd"),this.pendingEOFill=!1):S.fill()),L&&S.restore(),C&&this.consumePath(N)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=R}eoClip(){this.pendingClip=B}beginText(){this.current.textMatrix=t.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let C=this.pendingTextPaths,S=this.ctx;if(C===void 0){S.beginPath();return}S.save(),S.beginPath();for(let P of C)S.setTransform(...P.transform),S.translate(P.x,P.y),P.addToPath(S,P.fontSize);S.restore(),S.clip(),S.beginPath(),delete this.pendingTextPaths}setCharSpacing(C){this.current.charSpacing=C}setWordSpacing(C){this.current.wordSpacing=C}setHScale(C){this.current.textHScale=C/100}setLeading(C){this.current.leading=-C}setFont(C,S){let P=this.commonObjs.get(C),V=this.current;if(!P)throw new Error(`Can't find font for ${C}`);if(V.fontMatrix=P.fontMatrix||t.FONT_IDENTITY_MATRIX,(V.fontMatrix[0]===0||V.fontMatrix[3]===0)&&(0,t.warn)("Invalid font matrix for font "+C),S<0?(S=-S,V.fontDirection=-1):V.fontDirection=1,this.current.font=P,this.current.fontSize=S,P.isType3Font)return;let L=P.loadedName||"sans-serif",N=P.systemFontInfo?.css||`"${L}", ${P.fallbackName}`,I="normal";P.black?I="900":P.bold&&(I="bold");let w=P.italic?"italic":"normal",T=S;S<l?T=l:S>m&&(T=m),this.current.fontSizeScale=S/T,this.ctx.font=`${w} ${I} ${T}px ${N}`}setTextRenderingMode(C){this.current.textRenderingMode=C}setTextRise(C){this.current.textRise=C}moveText(C,S){this.current.x=this.current.lineX+=C,this.current.y=this.current.lineY+=S}setLeadingMoveText(C,S){this.setLeading(-S),this.moveText(C,S)}setTextMatrix(C,S,P,V,L,N){this.current.textMatrix=[C,S,P,V,L,N],this.current.textMatrixScale=Math.hypot(C,S),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(C,S,P,V){let L=this.ctx,N=this.current,I=N.font,w=N.textRenderingMode,T=N.fontSize/N.fontSizeScale,E=w&t.TextRenderingMode.FILL_STROKE_MASK,F=!!(w&t.TextRenderingMode.ADD_TO_PATH_FLAG),H=N.patternFill&&!I.missingFile,j;(I.disableFontFace||F||H)&&(j=I.getPathGenerator(this.commonObjs,C)),I.disableFontFace||H?(L.save(),L.translate(S,P),L.beginPath(),j(L,T),V&&L.setTransform(...V),(E===t.TextRenderingMode.FILL||E===t.TextRenderingMode.FILL_STROKE)&&L.fill(),(E===t.TextRenderingMode.STROKE||E===t.TextRenderingMode.FILL_STROKE)&&L.stroke(),L.restore()):((E===t.TextRenderingMode.FILL||E===t.TextRenderingMode.FILL_STROKE)&&L.fillText(C,S,P),(E===t.TextRenderingMode.STROKE||E===t.TextRenderingMode.FILL_STROKE)&&L.strokeText(C,S,P)),F&&(this.pendingTextPaths||=[]).push({transform:(0,n.getCurrentTransform)(L),x:S,y:P,fontSize:T,addToPath:j})}get isFontSubpixelAAEnabled(){let{context:C}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);C.scale(1.5,1),C.fillText("I",0,10);let S=C.getImageData(0,0,10,10).data,P=!1;for(let V=3;V<S.length;V+=4)if(S[V]>0&&S[V]<255){P=!0;break}return(0,t.shadow)(this,"isFontSubpixelAAEnabled",P)}showText(C){let S=this.current,P=S.font;if(P.isType3Font)return this.showType3Text(C);let V=S.fontSize;if(V===0)return;let L=this.ctx,N=S.fontSizeScale,I=S.charSpacing,w=S.wordSpacing,T=S.fontDirection,E=S.textHScale*T,F=C.length,H=P.vertical,j=H?1:-1,q=P.defaultVMetrics,ie=V*S.fontMatrix[0],Q=S.textRenderingMode===t.TextRenderingMode.FILL&&!P.disableFontFace&&!S.patternFill;L.save(),L.transform(...S.textMatrix),L.translate(S.x,S.y+S.textRise),T>0?L.scale(E,-1):L.scale(E,1);let U;if(S.patternFill){L.save();let se=S.fillColor.getPattern(L,this,(0,n.getCurrentTransformInverse)(L),a.PathType.FILL);U=(0,n.getCurrentTransform)(L),L.restore(),L.fillStyle=se}let X=S.lineWidth,G=S.textMatrixScale;if(G===0||X===0){let se=S.textRenderingMode&t.TextRenderingMode.FILL_STROKE_MASK;(se===t.TextRenderingMode.STROKE||se===t.TextRenderingMode.FILL_STROKE)&&(X=this.getSinglePixelWidth())}else X/=G;if(N!==1&&(L.scale(N,N),X/=N),L.lineWidth=X,P.isInvalidPDFjsFont){let se=[],le=0;for(let pe of C)se.push(pe.unicode),le+=pe.width;L.fillText(se.join(""),0,0),S.x+=le*ie*E,L.restore(),this.compose();return}let J=0,ne;for(ne=0;ne<F;++ne){let se=C[ne];if(typeof se=="number"){J+=j*se*V/1e3;continue}let le=!1,pe=(se.isSpace?w:0)+I,ge=se.fontChar,_e=se.accent,Fe,kt,ft=se.width;if(H){let ht=se.vmetric||q,ei=-(se.vmetric?ht[1]:ft*.5)*ie,Nn=ht[2]*ie;ft=ht?-ht[0]:ft,Fe=ei/N,kt=(J+Nn)/N}else Fe=J/N,kt=0;if(P.remeasure&&ft>0){let ht=L.measureText(ge).width*1e3/V*N;if(ft<ht&&this.isFontSubpixelAAEnabled){let ei=ft/ht;le=!0,L.save(),L.scale(ei,1),Fe/=ei}else ft!==ht&&(Fe+=(ft-ht)/2e3*V/N)}if(this.contentVisible&&(se.isInFont||P.missingFile)){if(Q&&!_e)L.fillText(ge,Fe,kt);else if(this.paintChar(ge,Fe,kt,U),_e){let ht=Fe+V*_e.offset.x/N,ei=kt-V*_e.offset.y/N;this.paintChar(_e.fontChar,ht,ei,U)}}let Gt=H?ft*ie-pe*T:ft*ie+pe*T;J+=Gt,le&&L.restore()}H?S.y-=J:S.x+=J*E,L.restore(),this.compose()}showType3Text(C){let S=this.ctx,P=this.current,V=P.font,L=P.fontSize,N=P.fontDirection,I=V.vertical?1:-1,w=P.charSpacing,T=P.wordSpacing,E=P.textHScale*N,F=P.fontMatrix||t.FONT_IDENTITY_MATRIX,H=C.length,j=P.textRenderingMode===t.TextRenderingMode.INVISIBLE,q,ie,Q,U;if(!(j||L===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,S.save(),S.transform(...P.textMatrix),S.translate(P.x,P.y),S.scale(E,N),q=0;q<H;++q){if(ie=C[q],typeof ie=="number"){U=I*ie*L/1e3,this.ctx.translate(U,0),P.x+=U*E;continue}let X=(ie.isSpace?T:0)+w,G=V.charProcOperatorList[ie.operatorListId];if(!G){(0,t.warn)(`Type3 character "${ie.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ie,this.save(),S.scale(L,L),S.transform(...F),this.executeOperatorList(G),this.restore()),Q=t.Util.applyTransform([ie.width,0],F)[0]*L+X,S.translate(Q,0),P.x+=Q*E}S.restore(),this.processingType3=null}}setCharWidth(C,S){}setCharWidthAndBounds(C,S,P,V,L,N){this.ctx.rect(P,V,L-P,N-V),this.ctx.clip(),this.endPath()}getColorN_Pattern(C){let S;if(C[0]==="TilingPattern"){let P=C[1],V=this.baseTransform||(0,n.getCurrentTransform)(this.ctx),L={createCanvasGraphics:N=>new k(N,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};S=new a.TilingPattern(C,P,this.ctx,L,V)}else S=this._getPattern(C[1],C[2]);return S}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(C,S,P){let V=t.Util.makeHexColor(C,S,P);this.ctx.strokeStyle=V,this.current.strokeColor=V}setFillRGBColor(C,S,P){let V=t.Util.makeHexColor(C,S,P);this.ctx.fillStyle=V,this.current.fillColor=V,this.current.patternFill=!1}_getPattern(C,S=null){let P;return this.cachedPatterns.has(C)?P=this.cachedPatterns.get(C):(P=(0,a.getShadingPattern)(this.getObject(C)),this.cachedPatterns.set(C,P)),S&&(P.matrix=S),P}shadingFill(C){if(!this.contentVisible)return;let S=this.ctx;this.save();let P=this._getPattern(C);S.fillStyle=P.getPattern(S,this,(0,n.getCurrentTransformInverse)(S),a.PathType.SHADING);let V=(0,n.getCurrentTransformInverse)(S);if(V){let{width:L,height:N}=S.canvas,[I,w,T,E]=t.Util.getAxialAlignedBoundingBox([0,0,L,N],V);this.ctx.fillRect(I,w,T-I,E-w)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,t.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,t.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(C,S){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(C)&&C.length===6&&this.transform(...C),this.baseTransform=(0,n.getCurrentTransform)(this.ctx),S)){let P=S[2]-S[0],V=S[3]-S[1];this.ctx.rect(S[0],S[1],P,V),this.current.updateRectMinMax((0,n.getCurrentTransform)(this.ctx),S),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(C){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let S=this.ctx;C.isolated||(0,t.info)("TODO: Support non-isolated groups."),C.knockout&&(0,t.warn)("Knockout groups not supported.");let P=(0,n.getCurrentTransform)(S);if(C.matrix&&S.transform(...C.matrix),!C.bbox)throw new Error("Bounding box is required.");let V=t.Util.getAxialAlignedBoundingBox(C.bbox,(0,n.getCurrentTransform)(S)),L=[0,0,S.canvas.width,S.canvas.height];V=t.Util.intersect(V,L)||[0,0,0,0];let N=Math.floor(V[0]),I=Math.floor(V[1]),w=Math.max(Math.ceil(V[2])-N,1),T=Math.max(Math.ceil(V[3])-I,1),E=1,F=1;w>d&&(E=w/d,w=d),T>d&&(F=T/d,T=d),this.current.startNewPathAndClipBox([0,0,w,T]);let H="groupAt"+this.groupLevel;C.smask&&(H+="_smask_"+this.smaskCounter++%2);let j=this.cachedCanvases.getCanvas(H,w,T),q=j.context;q.scale(1/E,1/F),q.translate(-N,-I),q.transform(...P),C.smask?this.smaskStack.push({canvas:j.canvas,context:q,offsetX:N,offsetY:I,scaleX:E,scaleY:F,subtype:C.smask.subtype,backdrop:C.smask.backdrop,transferMap:C.smask.transferMap||null,startTransformInverse:null}):(S.setTransform(1,0,0,1,0,0),S.translate(N,I),S.scale(E,F),S.save()),M(S,q),this.ctx=q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(S),this.groupLevel++}endGroup(C){if(!this.contentVisible)return;this.groupLevel--;let S=this.ctx,P=this.groupStack.pop();if(this.ctx=P,this.ctx.imageSmoothingEnabled=!1,C.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let V=(0,n.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...V);let L=t.Util.getAxialAlignedBoundingBox([0,0,S.canvas.width,S.canvas.height],V);this.ctx.drawImage(S.canvas,0,0),this.ctx.restore(),this.compose(L)}}beginAnnotation(C,S,P,V,L){if(this.#e(),x(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(S)&&S.length===4){let N=S[2]-S[0],I=S[3]-S[1];if(L&&this.annotationCanvasMap){P=P.slice(),P[4]-=S[0],P[5]-=S[1],S=S.slice(),S[0]=S[1]=0,S[2]=N,S[3]=I;let[w,T]=t.Util.singularValueDecompose2dScale((0,n.getCurrentTransform)(this.ctx)),{viewportScale:E}=this,F=Math.ceil(N*this.outputScaleX*E),H=Math.ceil(I*this.outputScaleY*E);this.annotationCanvas=this.canvasFactory.create(F,H);let{canvas:j,context:q}=this.annotationCanvas;this.annotationCanvasMap.set(C,j),this.annotationCanvas.savedCtx=this.ctx,this.ctx=q,this.ctx.save(),this.ctx.setTransform(w,0,0,-T,0,I*T),x(this.ctx)}else x(this.ctx),this.ctx.rect(S[0],S[1],N,I),this.ctx.clip(),this.endPath()}this.current=new z(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...P),this.transform(...V)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(C){if(!this.contentVisible)return;let S=C.count;C=this.getObject(C.data,C),C.count=S;let P=this.ctx,V=this.processingType3;if(V&&(V.compiled===void 0&&(V.compiled=v(C)),V.compiled)){V.compiled(P);return}let L=this._createMaskCanvas(C),N=L.canvas;P.save(),P.setTransform(1,0,0,1,0,0),P.drawImage(N,L.offsetX,L.offsetY),P.restore(),this.compose()}paintImageMaskXObjectRepeat(C,S,P=0,V=0,L,N){if(!this.contentVisible)return;C=this.getObject(C.data,C);let I=this.ctx;I.save();let w=(0,n.getCurrentTransform)(I);I.transform(S,P,V,L,0,0);let T=this._createMaskCanvas(C);I.setTransform(1,0,0,1,T.offsetX-w[4],T.offsetY-w[5]);for(let E=0,F=N.length;E<F;E+=2){let H=t.Util.transform(w,[S,P,V,L,N[E],N[E+1]]),[j,q]=t.Util.applyTransform([0,0],H);I.drawImage(T.canvas,j,q)}I.restore(),this.compose()}paintImageMaskXObjectGroup(C){if(!this.contentVisible)return;let S=this.ctx,P=this.current.fillColor,V=this.current.patternFill;for(let L of C){let{data:N,width:I,height:w,transform:T}=L,E=this.cachedCanvases.getCanvas("maskCanvas",I,w),F=E.context;F.save();let H=this.getObject(N,L);b(F,H),F.globalCompositeOperation="source-in",F.fillStyle=V?P.getPattern(F,this,(0,n.getCurrentTransformInverse)(S),a.PathType.FILL):P,F.fillRect(0,0,I,w),F.restore(),S.save(),S.transform(...T),S.scale(1,-1),y(S,E.canvas,0,0,I,w,0,-1,1,1),S.restore()}this.compose()}paintImageXObject(C){if(!this.contentVisible)return;let S=this.getObject(C);if(!S){(0,t.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(S)}paintImageXObjectRepeat(C,S,P,V){if(!this.contentVisible)return;let L=this.getObject(C);if(!L){(0,t.warn)("Dependent image isn't ready yet");return}let N=L.width,I=L.height,w=[];for(let T=0,E=V.length;T<E;T+=2)w.push({transform:[S,0,0,P,V[T],V[T+1]],x:0,y:0,w:N,h:I});this.paintInlineImageXObjectGroup(L,w)}applyTransferMapsToCanvas(C){return this.current.transferMaps!=="none"&&(C.filter=this.current.transferMaps,C.drawImage(C.canvas,0,0),C.filter="none"),C.canvas}applyTransferMapsToBitmap(C){if(this.current.transferMaps==="none")return C.bitmap;let{bitmap:S,width:P,height:V}=C,L=this.cachedCanvases.getCanvas("inlineImage",P,V),N=L.context;return N.filter=this.current.transferMaps,N.drawImage(S,0,0),N.filter="none",L.canvas}paintInlineImageXObject(C){if(!this.contentVisible)return;let S=C.width,P=C.height,V=this.ctx;if(this.save(),!t.isNodeJS){let{filter:I}=V;I!=="none"&&I!==""&&(V.filter="none")}V.scale(1/S,-1/P);let L;if(C.bitmap)L=this.applyTransferMapsToBitmap(C);else if(typeof HTMLElement=="function"&&C instanceof HTMLElement||!C.data)L=C;else{let w=this.cachedCanvases.getCanvas("inlineImage",S,P).context;g(w,C),L=this.applyTransferMapsToCanvas(w)}let N=this._scaleImage(L,(0,n.getCurrentTransformInverse)(V));V.imageSmoothingEnabled=$((0,n.getCurrentTransform)(V),C.interpolate),y(V,N.img,0,0,N.paintWidth,N.paintHeight,0,-P,S,P),this.compose(),this.restore()}paintInlineImageXObjectGroup(C,S){if(!this.contentVisible)return;let P=this.ctx,V;if(C.bitmap)V=C.bitmap;else{let L=C.width,N=C.height,w=this.cachedCanvases.getCanvas("inlineImage",L,N).context;g(w,C),V=this.applyTransferMapsToCanvas(w)}for(let L of S)P.save(),P.transform(...L.transform),P.scale(1,-1),y(P,V,L.x,L.y,L.w,L.h,0,-1,1,1),P.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(C){}markPointProps(C,S){}beginMarkedContent(C){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(C,S){C==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(S)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(C){let S=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(C);let P=this.ctx;this.pendingClip&&(S||(this.pendingClip===B?P.clip("evenodd"):P.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),P.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let C=(0,n.getCurrentTransform)(this.ctx);if(C[1]===0&&C[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(C[0]),Math.abs(C[3]));else{let S=Math.abs(C[0]*C[3]-C[2]*C[1]),P=Math.hypot(C[0],C[2]),V=Math.hypot(C[1],C[3]);this._cachedGetSinglePixelWidth=Math.max(P,V)/S}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:C}=this.current,{a:S,b:P,c:V,d:L}=this.ctx.getTransform(),N,I;if(P===0&&V===0){let w=Math.abs(S),T=Math.abs(L);if(w===T)if(C===0)N=I=1/w;else{let E=w*C;N=I=E<1?1/E:1}else if(C===0)N=1/w,I=1/T;else{let E=w*C,F=T*C;N=E<1?1/E:1,I=F<1?1/F:1}}else{let w=Math.abs(S*L-P*V),T=Math.hypot(S,P),E=Math.hypot(V,L);if(C===0)N=E/w,I=T/w;else{let F=C*w;N=E>F?E/F:1,I=T>F?T/F:1}}this._cachedScaleForStroking[0]=N,this._cachedScaleForStroking[1]=I}return this._cachedScaleForStroking}rescaleAndStroke(C){let{ctx:S}=this,{lineWidth:P}=this.current,[V,L]=this.getScaleForStroking();if(S.lineWidth=P||1,V===1&&L===1){S.stroke();return}let N=S.getLineDash();if(C&&S.save(),S.scale(V,L),N.length>0){let I=Math.max(V,L);S.setLineDash(N.map(w=>w/I)),S.lineDashOffset/=I}S.stroke(),C&&S.restore()}isContentVisible(){for(let C=this.markedContentStack.length-1;C>=0;C--)if(!this.markedContentStack[C].visible)return!1;return!0}}e.CanvasGraphics=k;for(let _ in t.OPS)k.prototype[_]!==void 0&&(k.prototype[t.OPS[_]]=k.prototype[_])},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=f;var t=r(1),n=r(6);let a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=a;function o(y,v){if(!v)return;let z=v[2]-v[0],g=v[3]-v[1],b=new Path2D;b.rect(v[0],v[1],z,g),y.clip(b)}class l{constructor(){this.constructor===l&&(0,t.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,t.unreachable)("Abstract method `getPattern` called.")}}class m extends l{constructor(v){super(),this._type=v[1],this._bbox=v[2],this._colorStops=v[3],this._p0=v[4],this._p1=v[5],this._r0=v[6],this._r1=v[7],this.matrix=null}_createGradient(v){let z;this._type==="axial"?z=v.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(z=v.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let g of this._colorStops)z.addColorStop(g[0],g[1]);return z}getPattern(v,z,g,b){let M;if(b===a.STROKE||b===a.FILL){let x=z.current.getClippedPathBoundingBox(b,(0,n.getCurrentTransform)(v))||[0,0,0,0],A=Math.ceil(x[2]-x[0])||1,D=Math.ceil(x[3]-x[1])||1,O=z.cachedCanvases.getCanvas("pattern",A,D,!0),Y=O.context;Y.clearRect(0,0,Y.canvas.width,Y.canvas.height),Y.beginPath(),Y.rect(0,0,Y.canvas.width,Y.canvas.height),Y.translate(-x[0],-x[1]),g=t.Util.transform(g,[1,0,0,1,x[0],x[1]]),Y.transform(...z.baseTransform),this.matrix&&Y.transform(...this.matrix),o(Y,this._bbox),Y.fillStyle=this._createGradient(Y),Y.fill(),M=v.createPattern(O.canvas,"no-repeat");let W=new DOMMatrix(g);M.setTransform(W)}else o(v,this._bbox),M=this._createGradient(v);return M}}function d(y,v,z,g,b,M,x,A){let D=v.coords,O=v.colors,Y=y.data,W=y.width*4,$;D[z+1]>D[g+1]&&($=z,z=g,g=$,$=M,M=x,x=$),D[g+1]>D[b+1]&&($=g,g=b,b=$,$=x,x=A,A=$),D[z+1]>D[g+1]&&($=z,z=g,g=$,$=M,M=x,x=$);let Z=(D[z]+v.offsetX)*v.scaleX,K=(D[z+1]+v.offsetY)*v.scaleY,R=(D[g]+v.offsetX)*v.scaleX,B=(D[g+1]+v.offsetY)*v.scaleY,k=(D[b]+v.offsetX)*v.scaleX,_=(D[b+1]+v.offsetY)*v.scaleY;if(K>=_)return;let C=O[M],S=O[M+1],P=O[M+2],V=O[x],L=O[x+1],N=O[x+2],I=O[A],w=O[A+1],T=O[A+2],E=Math.round(K),F=Math.round(_),H,j,q,ie,Q,U,X,G;for(let J=E;J<=F;J++){if(J<B){let ge=J<K?0:(K-J)/(K-B);H=Z-(Z-R)*ge,j=C-(C-V)*ge,q=S-(S-L)*ge,ie=P-(P-N)*ge}else{let ge;J>_?ge=1:B===_?ge=0:ge=(B-J)/(B-_),H=R-(R-k)*ge,j=V-(V-I)*ge,q=L-(L-w)*ge,ie=N-(N-T)*ge}let ne;J<K?ne=0:J>_?ne=1:ne=(K-J)/(K-_),Q=Z-(Z-k)*ne,U=C-(C-I)*ne,X=S-(S-w)*ne,G=P-(P-T)*ne;let se=Math.round(Math.min(H,Q)),le=Math.round(Math.max(H,Q)),pe=W*J+se*4;for(let ge=se;ge<=le;ge++)ne=(H-ge)/(H-Q),ne<0?ne=0:ne>1&&(ne=1),Y[pe++]=j-(j-U)*ne|0,Y[pe++]=q-(q-X)*ne|0,Y[pe++]=ie-(ie-G)*ne|0,Y[pe++]=255}}function h(y,v,z){let g=v.coords,b=v.colors,M,x;switch(v.type){case"lattice":let A=v.verticesPerRow,D=Math.floor(g.length/A)-1,O=A-1;for(M=0;M<D;M++){let Y=M*A;for(let W=0;W<O;W++,Y++)d(y,z,g[Y],g[Y+1],g[Y+A],b[Y],b[Y+1],b[Y+A]),d(y,z,g[Y+A+1],g[Y+1],g[Y+A],b[Y+A+1],b[Y+1],b[Y+A])}break;case"triangles":for(M=0,x=g.length;M<x;M+=3)d(y,z,g[M],g[M+1],g[M+2],b[M],b[M+1],b[M+2]);break;default:throw new Error("illegal figure")}}class s extends l{constructor(v){super(),this._coords=v[2],this._colors=v[3],this._figures=v[4],this._bounds=v[5],this._bbox=v[7],this._background=v[8],this.matrix=null}_createMeshCanvas(v,z,g){let A=Math.floor(this._bounds[0]),D=Math.floor(this._bounds[1]),O=Math.ceil(this._bounds[2])-A,Y=Math.ceil(this._bounds[3])-D,W=Math.min(Math.ceil(Math.abs(O*v[0]*1.1)),3e3),$=Math.min(Math.ceil(Math.abs(Y*v[1]*1.1)),3e3),Z=O/W,K=Y/$,R={coords:this._coords,colors:this._colors,offsetX:-A,offsetY:-D,scaleX:1/Z,scaleY:1/K},B=W+2*2,k=$+2*2,_=g.getCanvas("mesh",B,k,!1),C=_.context,S=C.createImageData(W,$);if(z){let V=S.data;for(let L=0,N=V.length;L<N;L+=4)V[L]=z[0],V[L+1]=z[1],V[L+2]=z[2],V[L+3]=255}for(let V of this._figures)h(S,V,R);return C.putImageData(S,2,2),{canvas:_.canvas,offsetX:A-2*Z,offsetY:D-2*K,scaleX:Z,scaleY:K}}getPattern(v,z,g,b){o(v,this._bbox);let M;if(b===a.SHADING)M=t.Util.singularValueDecompose2dScale((0,n.getCurrentTransform)(v));else if(M=t.Util.singularValueDecompose2dScale(z.baseTransform),this.matrix){let A=t.Util.singularValueDecompose2dScale(this.matrix);M=[M[0]*A[0],M[1]*A[1]]}let x=this._createMeshCanvas(M,b===a.SHADING?null:this._background,z.cachedCanvases);return b!==a.SHADING&&(v.setTransform(...z.baseTransform),this.matrix&&v.transform(...this.matrix)),v.translate(x.offsetX,x.offsetY),v.scale(x.scaleX,x.scaleY),v.createPattern(x.canvas,"no-repeat")}}class c extends l{getPattern(){return"hotpink"}}function f(y){switch(y[0]){case"RadialAxial":return new m(y);case"Mesh":return new s(y);case"Dummy":return new c}throw new Error(`Unknown IR type: ${y[0]}`)}let p={COLORED:1,UNCOLORED:2},u=(()=>{class y{static MAX_PATTERN_SIZE=3e3;constructor(z,g,b,M,x){this.operatorList=z[2],this.matrix=z[3]||[1,0,0,1,0,0],this.bbox=z[4],this.xstep=z[5],this.ystep=z[6],this.paintType=z[7],this.tilingType=z[8],this.color=g,this.ctx=b,this.canvasGraphicsFactory=M,this.baseTransform=x}createPatternCanvas(z){let g=this.operatorList,b=this.bbox,M=this.xstep,x=this.ystep,A=this.paintType,D=this.tilingType,O=this.color,Y=this.canvasGraphicsFactory;(0,t.info)("TilingType: "+D);let W=b[0],$=b[1],Z=b[2],K=b[3],R=t.Util.singularValueDecompose2dScale(this.matrix),B=t.Util.singularValueDecompose2dScale(this.baseTransform),k=[R[0]*B[0],R[1]*B[1]],_=this.getSizeAndScale(M,this.ctx.canvas.width,k[0]),C=this.getSizeAndScale(x,this.ctx.canvas.height,k[1]),S=z.cachedCanvases.getCanvas("pattern",_.size,C.size,!0),P=S.context,V=Y.createCanvasGraphics(P);V.groupLevel=z.groupLevel,this.setFillAndStrokeStyleToContext(V,A,O);let L=W,N=$,I=Z,w=K;return W<0&&(L=0,I+=Math.abs(W)),$<0&&(N=0,w+=Math.abs($)),P.translate(-(_.scale*L),-(C.scale*N)),V.transform(_.scale,0,0,C.scale,0,0),P.save(),this.clipBbox(V,L,N,I,w),V.baseTransform=(0,n.getCurrentTransform)(V.ctx),V.executeOperatorList(g),V.endDrawing(),{canvas:S.canvas,scaleX:_.scale,scaleY:C.scale,offsetX:L,offsetY:N}}getSizeAndScale(z,g,b){z=Math.abs(z);let M=Math.max(y.MAX_PATTERN_SIZE,g),x=Math.ceil(z*b);return x>=M?x=M:b=x/z,{scale:b,size:x}}clipBbox(z,g,b,M,x){let A=M-g,D=x-b;z.ctx.rect(g,b,A,D),z.current.updateRectMinMax((0,n.getCurrentTransform)(z.ctx),[g,b,M,x]),z.clip(),z.endPath()}setFillAndStrokeStyleToContext(z,g,b){let M=z.ctx,x=z.current;switch(g){case p.COLORED:let A=this.ctx;M.fillStyle=A.fillStyle,M.strokeStyle=A.strokeStyle,x.fillColor=A.fillStyle,x.strokeColor=A.strokeStyle;break;case p.UNCOLORED:let D=t.Util.makeHexColor(b[0],b[1],b[2]);M.fillStyle=D,M.strokeStyle=D,x.fillColor=D,x.strokeColor=D;break;default:throw new t.FormatError(`Unsupported paint type: ${g}`)}}getPattern(z,g,b,M){let x=b;M!==a.SHADING&&(x=t.Util.transform(x,g.baseTransform),this.matrix&&(x=t.Util.transform(x,this.matrix)));let A=this.createPatternCanvas(g),D=new DOMMatrix(x);D=D.translate(A.offsetX,A.offsetY),D=D.scale(1/A.scaleX,1/A.scaleY);let O=z.createPattern(A.canvas,"repeat");return O.setTransform(D),O}}return y})();e.TilingPattern=u},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=a,e.convertToRGBA=n,e.grayToRGBA=l;var t=r(1);function n(m){switch(m.kind){case t.ImageKind.GRAYSCALE_1BPP:return a(m);case t.ImageKind.RGB_24BPP:return o(m)}return null}function a({src:m,srcPos:d=0,dest:h,width:s,height:c,nonBlackColor:f=4294967295,inverseDecode:p=!1}){let u=t.FeatureTest.isLittleEndian?4278190080:255,[y,v]=p?[f,u]:[u,f],z=s>>3,g=s&7,b=m.length;h=new Uint32Array(h.buffer);let M=0;for(let x=0;x<c;x++){for(let D=d+z;d<D;d++){let O=d<b?m[d]:255;h[M++]=O&128?v:y,h[M++]=O&64?v:y,h[M++]=O&32?v:y,h[M++]=O&16?v:y,h[M++]=O&8?v:y,h[M++]=O&4?v:y,h[M++]=O&2?v:y,h[M++]=O&1?v:y}if(g===0)continue;let A=d<b?m[d++]:255;for(let D=0;D<g;D++)h[M++]=A&1<<7-D?v:y}return{srcPos:d,destPos:M}}function o({src:m,srcPos:d=0,dest:h,destPos:s=0,width:c,height:f}){let p=0,u=m.length>>2,y=new Uint32Array(m.buffer,d,u);if(t.FeatureTest.isLittleEndian){for(;p<u-2;p+=3,s+=4){let v=y[p],z=y[p+1],g=y[p+2];h[s]=v|4278190080,h[s+1]=v>>>24|z<<8|4278190080,h[s+2]=z>>>16|g<<16|4278190080,h[s+3]=g>>>8|4278190080}for(let v=p*4,z=m.length;v<z;v+=3)h[s++]=m[v]|m[v+1]<<8|m[v+2]<<16|4278190080}else{for(;p<u-2;p+=3,s+=4){let v=y[p],z=y[p+1],g=y[p+2];h[s]=v|255,h[s+1]=v<<24|z>>>8|255,h[s+2]=z<<16|g>>>16|255,h[s+3]=g<<8|255}for(let v=p*4,z=m.length;v<z;v+=3)h[s++]=m[v]<<24|m[v+1]<<16|m[v+2]<<8|255}return{srcPos:d,destPos:s}}function l(m,d){if(t.FeatureTest.isLittleEndian)for(let h=0,s=m.length;h<s;h++)d[h]=m[h]*65793|4278190080;else for(let h=0,s=m.length;h<s;h++)d[h]=m[h]*16843008|255}},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;let r=Object.create(null);e.GlobalWorkerOptions=r,r.workerPort=null,r.workerSrc=""},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var t=r(1);let n={UNKNOWN:0,DATA:1,ERROR:2},a={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function o(m){switch(m instanceof Error||typeof m=="object"&&m!==null||(0,t.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),m.name){case"AbortException":return new t.AbortException(m.message);case"MissingPDFException":return new t.MissingPDFException(m.message);case"PasswordException":return new t.PasswordException(m.message,m.code);case"UnexpectedResponseException":return new t.UnexpectedResponseException(m.message,m.status);case"UnknownErrorException":return new t.UnknownErrorException(m.message,m.details);default:return new t.UnknownErrorException(m.message,m.toString())}}class l{constructor(d,h,s){this.sourceName=d,this.targetName=h,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=c=>{let f=c.data;if(f.targetName!==this.sourceName)return;if(f.stream){this.#t(f);return}if(f.callback){let u=f.callbackId,y=this.callbackCapabilities[u];if(!y)throw new Error(`Cannot resolve callback ${u}`);if(delete this.callbackCapabilities[u],f.callback===n.DATA)y.resolve(f.data);else if(f.callback===n.ERROR)y.reject(o(f.reason));else throw new Error("Unexpected callback case");return}let p=this.actionHandler[f.action];if(!p)throw new Error(`Unknown action from worker: ${f.action}`);if(f.callbackId){let u=this.sourceName,y=f.sourceName;new Promise(function(v){v(p(f.data))}).then(function(v){s.postMessage({sourceName:u,targetName:y,callback:n.DATA,callbackId:f.callbackId,data:v})},function(v){s.postMessage({sourceName:u,targetName:y,callback:n.ERROR,callbackId:f.callbackId,reason:o(v)})});return}if(f.streamId){this.#e(f);return}p(f.data)},s.addEventListener("message",this._onComObjOnMessage)}on(d,h){let s=this.actionHandler;if(s[d])throw new Error(`There is already an actionName called "${d}"`);s[d]=h}send(d,h,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:h},s)}sendWithPromise(d,h,s){let c=this.callbackId++,f=new t.PromiseCapability;this.callbackCapabilities[c]=f;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:c,data:h},s)}catch(p){f.reject(p)}return f.promise}sendWithStream(d,h,s,c){let f=this.streamId++,p=this.sourceName,u=this.targetName,y=this.comObj;return new ReadableStream({start:v=>{let z=new t.PromiseCapability;return this.streamControllers[f]={controller:v,startCall:z,pullCall:null,cancelCall:null,isClosed:!1},y.postMessage({sourceName:p,targetName:u,action:d,streamId:f,data:h,desiredSize:v.desiredSize},c),z.promise},pull:v=>{let z=new t.PromiseCapability;return this.streamControllers[f].pullCall=z,y.postMessage({sourceName:p,targetName:u,stream:a.PULL,streamId:f,desiredSize:v.desiredSize}),z.promise},cancel:v=>{(0,t.assert)(v instanceof Error,"cancel must have a valid reason");let z=new t.PromiseCapability;return this.streamControllers[f].cancelCall=z,this.streamControllers[f].isClosed=!0,y.postMessage({sourceName:p,targetName:u,stream:a.CANCEL,streamId:f,reason:o(v)}),z.promise}},s)}#e(d){let h=d.streamId,s=this.sourceName,c=d.sourceName,f=this.comObj,p=this,u=this.actionHandler[d.action],y={enqueue(v,z=1,g){if(this.isCancelled)return;let b=this.desiredSize;this.desiredSize-=z,b>0&&this.desiredSize<=0&&(this.sinkCapability=new t.PromiseCapability,this.ready=this.sinkCapability.promise),f.postMessage({sourceName:s,targetName:c,stream:a.ENQUEUE,streamId:h,chunk:v},g)},close(){this.isCancelled||(this.isCancelled=!0,f.postMessage({sourceName:s,targetName:c,stream:a.CLOSE,streamId:h}),delete p.streamSinks[h])},error(v){(0,t.assert)(v instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,f.postMessage({sourceName:s,targetName:c,stream:a.ERROR,streamId:h,reason:o(v)}))},sinkCapability:new t.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};y.sinkCapability.resolve(),y.ready=y.sinkCapability.promise,this.streamSinks[h]=y,new Promise(function(v){v(u(d.data,y))}).then(function(){f.postMessage({sourceName:s,targetName:c,stream:a.START_COMPLETE,streamId:h,success:!0})},function(v){f.postMessage({sourceName:s,targetName:c,stream:a.START_COMPLETE,streamId:h,reason:o(v)})})}#t(d){let h=d.streamId,s=this.sourceName,c=d.sourceName,f=this.comObj,p=this.streamControllers[h],u=this.streamSinks[h];switch(d.stream){case a.START_COMPLETE:d.success?p.startCall.resolve():p.startCall.reject(o(d.reason));break;case a.PULL_COMPLETE:d.success?p.pullCall.resolve():p.pullCall.reject(o(d.reason));break;case a.PULL:if(!u){f.postMessage({sourceName:s,targetName:c,stream:a.PULL_COMPLETE,streamId:h,success:!0});break}u.desiredSize<=0&&d.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=d.desiredSize,new Promise(function(y){y(u.onPull?.())}).then(function(){f.postMessage({sourceName:s,targetName:c,stream:a.PULL_COMPLETE,streamId:h,success:!0})},function(y){f.postMessage({sourceName:s,targetName:c,stream:a.PULL_COMPLETE,streamId:h,reason:o(y)})});break;case a.ENQUEUE:if((0,t.assert)(p,"enqueue should have stream controller"),p.isClosed)break;p.controller.enqueue(d.chunk);break;case a.CLOSE:if((0,t.assert)(p,"close should have stream controller"),p.isClosed)break;p.isClosed=!0,p.controller.close(),this.#i(p,h);break;case a.ERROR:(0,t.assert)(p,"error should have stream controller"),p.controller.error(o(d.reason)),this.#i(p,h);break;case a.CANCEL_COMPLETE:d.success?p.cancelCall.resolve():p.cancelCall.reject(o(d.reason)),this.#i(p,h);break;case a.CANCEL:if(!u)break;new Promise(function(y){y(u.onCancel?.(o(d.reason)))}).then(function(){f.postMessage({sourceName:s,targetName:c,stream:a.CANCEL_COMPLETE,streamId:h,success:!0})},function(y){f.postMessage({sourceName:s,targetName:c,stream:a.CANCEL_COMPLETE,streamId:h,reason:o(y)})}),u.sinkCapability.reject(o(d.reason)),u.isCancelled=!0,delete this.streamSinks[h];break;default:throw new Error("Unexpected stream case")}}#i(d,h){return ce(this,null,function*(){yield Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[h]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=l},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var t=r(1);class n{#e;#t;constructor({parsedData:o,rawData:l}){this.#e=o,this.#t=l}getRaw(){return this.#t}get(o){return this.#e.get(o)??null}getAll(){return(0,t.objectFromMap)(this.#e)}has(o){return this.#e.has(o)}}e.Metadata=n},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var t=r(1),n=r(8);let a=Symbol("INTERNAL");class o{#e=!0;constructor(d,h){this.name=d,this.intent=h}get visible(){return this.#e}_setVisible(d,h){d!==a&&(0,t.unreachable)("Internal method `_setVisible` called."),this.#e=h}}class l{#e=null;#t=new Map;#i=null;#n=null;constructor(d){if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,this.#n=d.order;for(let h of d.groups)this.#t.set(h.id,new o(h.name,h.intent));if(d.baseState==="OFF")for(let h of this.#t.values())h._setVisible(a,!1);for(let h of d.on)this.#t.get(h)._setVisible(a,!0);for(let h of d.off)this.#t.get(h)._setVisible(a,!1);this.#i=this.getHash()}}#s(d){let h=d.length;if(h<2)return!0;let s=d[0];for(let c=1;c<h;c++){let f=d[c],p;if(Array.isArray(f))p=this.#s(f);else if(this.#t.has(f))p=this.#t.get(f).visible;else return(0,t.warn)(`Optional content group not found: ${f}`),!0;switch(s){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return s==="And"}isVisible(d){if(this.#t.size===0)return!0;if(!d)return(0,t.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return this.#t.has(d.id)?this.#t.get(d.id).visible:((0,t.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return this.#s(d.expression);if(!d.policy||d.policy==="AnyOn"){for(let h of d.ids){if(!this.#t.has(h))return(0,t.warn)(`Optional content group not found: ${h}`),!0;if(this.#t.get(h).visible)return!0}return!1}else if(d.policy==="AllOn"){for(let h of d.ids){if(!this.#t.has(h))return(0,t.warn)(`Optional content group not found: ${h}`),!0;if(!this.#t.get(h).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(let h of d.ids){if(!this.#t.has(h))return(0,t.warn)(`Optional content group not found: ${h}`),!0;if(!this.#t.get(h).visible)return!0}return!1}else if(d.policy==="AllOff"){for(let h of d.ids){if(!this.#t.has(h))return(0,t.warn)(`Optional content group not found: ${h}`),!0;if(this.#t.get(h).visible)return!1}return!0}return(0,t.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,t.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,h=!0){if(!this.#t.has(d)){(0,t.warn)(`Optional content group not found: ${d}`);return}this.#t.get(d)._setVisible(a,!!h),this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,t.objectFromMap)(this.#t):null}getGroup(d){return this.#t.get(d)||null}getHash(){if(this.#e!==null)return this.#e;let d=new n.MurmurHash3_64;for(let[h,s]of this.#t)d.update(`${h}:${s.visible}`);return this.#e=d.hexdigest()}}e.OptionalContentConfig=l},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var t=r(1),n=r(6);class a{constructor({length:d,initialData:h,progressiveDone:s=!1,contentDispositionFilename:c=null,disableRange:f=!1,disableStream:p=!1},u){if((0,t.assert)(u,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=c,h?.length>0){let y=h instanceof Uint8Array&&h.byteLength===h.buffer.byteLength?h.buffer:new Uint8Array(h).buffer;this._queuedChunks.push(y)}this._pdfDataRangeTransport=u,this._isStreamingSupported=!p,this._isRangeSupported=!f,this._contentLength=d,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((y,v)=>{this._onReceiveData({begin:y,chunk:v})}),this._pdfDataRangeTransport.addProgressListener((y,v)=>{this._onProgress({loaded:y,total:v})}),this._pdfDataRangeTransport.addProgressiveReadListener(y=>{this._onReceiveData({chunk:y})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:d,chunk:h}){let s=h instanceof Uint8Array&&h.byteLength===h.buffer.byteLength?h.buffer:new Uint8Array(h).buffer;if(d===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{let c=this._rangeReaders.some(function(f){return f._begin!==d?!1:(f._enqueue(s),!0)});(0,t.assert)(c,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){d.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:d.loaded}):this._fullRequestReader?.onProgress?.({loaded:d.loaded,total:d.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){let h=this._rangeReaders.indexOf(d);h>=0&&this._rangeReaders.splice(h,1)}getFullReader(){(0,t.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let d=this._queuedChunks;return this._queuedChunks=null,new o(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,h){if(h<=this._progressiveDataLength)return null;let s=new l(this,d,h);return this._pdfDataRangeTransport.requestDataRange(d,h),this._rangeReaders.push(s),s}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(let h of this._rangeReaders.slice(0))h.cancel(d);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=a;class o{constructor(d,h,s=!1,c=null){this._stream=d,this._done=s||!1,this._filename=(0,n.isPdfFile)(c)?c:null,this._queuedChunks=h||[],this._loaded=0;for(let f of this._queuedChunks)this._loaded+=f.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return ce(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let d=new t.PromiseCapability;return this._requests.push(d),d.promise})}cancel(d){this._done=!0;for(let h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class l{constructor(d,h,s){this._stream=d,this._begin=h,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(this._requests.length===0)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(let s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return ce(this,null,function*(){if(this._queuedChunk){let h=this._queuedChunk;return this._queuedChunk=null,{value:h,done:!1}}if(this._done)return{value:void 0,done:!0};let d=new t.PromiseCapability;return this._requests.push(d),d.promise})}cancel(d){this._done=!0;for(let h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var t=r(1),n=r(20);function a(s,c,f){return{method:"GET",headers:s,signal:f.signal,mode:"cors",credentials:c?"include":"same-origin",redirect:"follow"}}function o(s){let c=new Headers;for(let f in s){let p=s[f];p!==void 0&&c.append(f,p)}return c}function l(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:((0,t.warn)(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class m{constructor(c){this.source=c,this.isHttp=/^https?:/i.test(c.url),this.httpHeaders=this.isHttp&&c.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(c,f){if(f<=this._progressiveDataLength)return null;let p=new h(this,c,f);return this._rangeRequestReaders.push(p),p}cancelAllRequests(c){this._fullRequestReader?.cancel(c);for(let f of this._rangeRequestReaders.slice(0))f.cancel(c)}}e.PDFFetchStream=m;class d{constructor(c){this._stream=c,this._reader=null,this._loaded=0,this._filename=null;let f=c.source;this._withCredentials=f.withCredentials||!1,this._contentLength=f.length,this._headersCapability=new t.PromiseCapability,this._disableRange=f.disableRange||!1,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._headers=o(this._stream.httpHeaders);let p=f.url;fetch(p,a(this._headers,this._withCredentials,this._abortController)).then(u=>{if(!(0,n.validateResponseStatus)(u.status))throw(0,n.createResponseStatusError)(u.status,p);this._reader=u.body.getReader(),this._headersCapability.resolve();let y=g=>u.headers.get(g),{allowRangeRequests:v,suggestedLength:z}=(0,n.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=v,this._contentLength=z||this._contentLength,this._filename=(0,n.extractFilenameFromHeader)(y),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new t.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return ce(this,null,function*(){yield this._headersCapability.promise;let{value:c,done:f}=yield this._reader.read();return f?{value:c,done:f}:(this._loaded+=c.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:l(c),done:!1})})}cancel(c){this._reader?.cancel(c),this._abortController.abort()}}class h{constructor(c,f,p){this._stream=c,this._reader=null,this._loaded=0;let u=c.source;this._withCredentials=u.withCredentials||!1,this._readCapability=new t.PromiseCapability,this._isStreamingSupported=!u.disableStream,this._abortController=new AbortController,this._headers=o(this._stream.httpHeaders),this._headers.append("Range",`bytes=${f}-${p-1}`);let y=u.url;fetch(y,a(this._headers,this._withCredentials,this._abortController)).then(v=>{if(!(0,n.validateResponseStatus)(v.status))throw(0,n.createResponseStatusError)(v.status,y);this._readCapability.resolve(),this._reader=v.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return ce(this,null,function*(){yield this._readCapability.promise;let{value:c,done:f}=yield this._reader.read();return f?{value:c,done:f}:(this._loaded+=c.byteLength,this.onProgress?.({loaded:this._loaded}),{value:l(c),done:!1})})}cancel(c){this._reader?.cancel(c),this._abortController.abort()}}},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=m,e.extractFilenameFromHeader=l,e.validateRangeRequestCapabilities=o,e.validateResponseStatus=d;var t=r(1),n=r(21),a=r(6);function o({getResponseHeader:h,isHttp:s,rangeChunkSize:c,disableRange:f}){let p={allowRangeRequests:!1,suggestedLength:void 0},u=parseInt(h("Content-Length"),10);return!Number.isInteger(u)||(p.suggestedLength=u,u<=2*c)||f||!s||h("Accept-Ranges")!=="bytes"||(h("Content-Encoding")||"identity")!=="identity"||(p.allowRangeRequests=!0),p}function l(h){let s=h("Content-Disposition");if(s){let c=(0,n.getFilenameFromContentDispositionHeader)(s);if(c.includes("%"))try{c=decodeURIComponent(c)}catch{}if((0,a.isPdfFile)(c))return c}return null}function m(h,s){return h===404||h===0&&s.startsWith("file:")?new t.MissingPDFException('Missing PDF "'+s+'".'):new t.UnexpectedResponseException(`Unexpected server response (${h}) while retrieving PDF "${s}".`,h)}function d(h){return h===200||h===206}},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=n;var t=r(1);function n(a){let o=!0,l=m("filename\\*","i").exec(a);if(l){l=l[1];let u=c(l);return u=unescape(u),u=f(u),u=p(u),h(u)}if(l=s(a),l){let u=p(l);return h(u)}if(l=m("filename","i").exec(a),l){l=l[1];let u=c(l);return u=p(u),h(u)}function m(u,y){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function d(u,y){if(u){if(!/^[\x00-\xFF]+$/.test(y))return y;try{let v=new TextDecoder(u,{fatal:!0}),z=(0,t.stringToBytes)(y);y=v.decode(z),o=!1}catch{}}return y}function h(u){return o&&/[\x80-\xff]/.test(u)&&(u=d("utf-8",u),o&&(u=d("iso-8859-1",u))),u}function s(u){let y=[],v,z=m("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=z.exec(u))!==null;){let[,b,M,x]=v;if(b=parseInt(b,10),b in y){if(b===0)break;continue}y[b]=[M,x]}let g=[];for(let b=0;b<y.length&&b in y;++b){let[M,x]=y[b];x=c(x),M&&(x=unescape(x),b===0&&(x=f(x))),g.push(x)}return g.join("")}function c(u){if(u.startsWith('"')){let y=u.slice(1).split('\\"');for(let v=0;v<y.length;++v){let z=y[v].indexOf('"');z!==-1&&(y[v]=y[v].slice(0,z),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}u=y.join('"')}return u}function f(u){let y=u.indexOf("'");if(y===-1)return u;let v=u.slice(0,y),g=u.slice(y+1).replace(/^[^']*'/,"");return d(v,g)}function p(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,z,g){if(z==="q"||z==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,M){return String.fromCharCode(parseInt(M,16))}),d(v,g);try{g=atob(g)}catch{}return d(v,g)})}return""}},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var t=r(1),n=r(20);let a=200,o=206;function l(c){let f=c.response;return typeof f!="string"?f:(0,t.stringToBytes)(f).buffer}class m{constructor(f,p={}){this.url=f,this.isHttp=/^https?:/i.test(f),this.httpHeaders=this.isHttp&&p.httpHeaders||Object.create(null),this.withCredentials=p.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(f,p,u){let y={begin:f,end:p};for(let v in u)y[v]=u[v];return this.request(y)}requestFull(f){return this.request(f)}request(f){let p=new XMLHttpRequest,u=this.currXhrId++,y=this.pendingRequests[u]={xhr:p};p.open("GET",this.url),p.withCredentials=this.withCredentials;for(let v in this.httpHeaders){let z=this.httpHeaders[v];z!==void 0&&p.setRequestHeader(v,z)}return this.isHttp&&"begin"in f&&"end"in f?(p.setRequestHeader("Range",`bytes=${f.begin}-${f.end-1}`),y.expectedStatus=o):y.expectedStatus=a,p.responseType="arraybuffer",f.onError&&(p.onerror=function(v){f.onError(p.status)}),p.onreadystatechange=this.onStateChange.bind(this,u),p.onprogress=this.onProgress.bind(this,u),y.onHeadersReceived=f.onHeadersReceived,y.onDone=f.onDone,y.onError=f.onError,y.onProgress=f.onProgress,p.send(null),u}onProgress(f,p){let u=this.pendingRequests[f];u&&u.onProgress?.(p)}onStateChange(f,p){let u=this.pendingRequests[f];if(!u)return;let y=u.xhr;if(y.readyState>=2&&u.onHeadersReceived&&(u.onHeadersReceived(),delete u.onHeadersReceived),y.readyState!==4||!(f in this.pendingRequests))return;if(delete this.pendingRequests[f],y.status===0&&this.isHttp){u.onError?.(y.status);return}let v=y.status||a;if(!(v===a&&u.expectedStatus===o)&&v!==u.expectedStatus){u.onError?.(y.status);return}let g=l(y);if(v===o){let b=y.getResponseHeader("Content-Range"),M=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);u.onDone({begin:parseInt(M[1],10),chunk:g})}else g?u.onDone({begin:0,chunk:g}):u.onError?.(y.status)}getRequestXhr(f){return this.pendingRequests[f].xhr}isPendingRequest(f){return f in this.pendingRequests}abortRequest(f){let p=this.pendingRequests[f].xhr;delete this.pendingRequests[f],p.abort()}}class d{constructor(f){this._source=f,this._manager=new m(f.url,{httpHeaders:f.httpHeaders,withCredentials:f.withCredentials}),this._rangeChunkSize=f.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(f){let p=this._rangeRequestReaders.indexOf(f);p>=0&&this._rangeRequestReaders.splice(p,1)}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new h(this._manager,this._source),this._fullRequestReader}getRangeReader(f,p){let u=new s(this._manager,f,p);return u.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(u),u}cancelAllRequests(f){this._fullRequestReader?.cancel(f);for(let p of this._rangeRequestReaders.slice(0))p.cancel(f)}}e.PDFNetworkStream=d;class h{constructor(f,p){this._manager=f;let u={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._fullRequestId=f.requestFull(u),this._headersReceivedCapability=new t.PromiseCapability,this._disableRange=p.disableRange||!1,this._contentLength=p.length,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let f=this._fullRequestId,p=this._manager.getRequestXhr(f),u=z=>p.getResponseHeader(z),{allowRangeRequests:y,suggestedLength:v}=(0,n.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});y&&(this._isRangeSupported=!0),this._contentLength=v||this._contentLength,this._filename=(0,n.extractFilenameFromHeader)(u),this._isRangeSupported&&this._manager.abortRequest(f),this._headersReceivedCapability.resolve()}_onDone(f){if(f&&(this._requests.length>0?this._requests.shift().resolve({value:f.chunk,done:!1}):this._cachedChunks.push(f.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(f){this._storedError=(0,n.createResponseStatusError)(f,this._url),this._headersReceivedCapability.reject(this._storedError);for(let p of this._requests)p.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(f){this.onProgress?.({loaded:f.loaded,total:f.lengthComputable?f.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return ce(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let f=new t.PromiseCapability;return this._requests.push(f),f.promise})}cancel(f){this._done=!0,this._headersReceivedCapability.reject(f);for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class s{constructor(f,p,u){this._manager=f;let y={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._requestId=f.requestRange(p,u,y),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(f){let p=f.chunk;this._requests.length>0?this._requests.shift().resolve({value:p,done:!1}):this._queuedChunk=p,this._done=!0;for(let u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(f){this._storedError=(0,n.createResponseStatusError)(f,this._url);for(let p of this._requests)p.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(f){this.isStreamingSupported||this.onProgress?.({loaded:f.loaded})}get isStreamingSupported(){return!1}read(){return ce(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let p=this._queuedChunk;return this._queuedChunk=null,{value:p,done:!1}}if(this._done)return{value:void 0,done:!0};let f=new t.PromiseCapability;return this._requests.push(f),f.promise})}cancel(f){this._done=!0;for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var t=r(1),n=r(20);let a=/^file:\/\/\/[a-zA-Z]:\//;function o(u){let y=_2(),v=y.parse(u);return v.protocol==="file:"||v.host?v:/^[a-z]:[/\\]/i.test(u)?y.parse(`file:///${u}`):(v.host||(v.protocol="file:"),v)}class l{constructor(y){this.source=y,this.url=o(y.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new f(this):new s(this),this._fullRequestReader}getRangeReader(y,v){if(v<=this._progressiveDataLength)return null;let z=this.isFsUrl?new p(this,y,v):new c(this,y,v);return this._rangeRequestReaders.push(z),z}cancelAllRequests(y){this._fullRequestReader?.cancel(y);for(let v of this._rangeRequestReaders.slice(0))v.cancel(y)}}e.PDFNodeStream=l;class m{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null;let v=y.source;this._contentLength=v.length,this._loaded=0,this._filename=null,this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._readableStream=null,this._readCapability=new t.PromiseCapability,this._headersCapability=new t.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return ce(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let y=this._readableStream.read();return y===null?(this._readCapability=new t.PromiseCapability,this.read()):(this._loaded+=y.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(y).buffer,done:!1})})}cancel(y){if(!this._readableStream){this._error(y);return}this._readableStream.destroy(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",v=>{this._error(v)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new t.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new t.PromiseCapability;let v=y.source;this._isStreamingSupported=!v.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return ce(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let y=this._readableStream.read();return y===null?(this._readCapability=new t.PromiseCapability,this.read()):(this._loaded+=y.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(y).buffer,done:!1})})}cancel(y){if(!this._readableStream){this._error(y);return}this._readableStream.destroy(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",v=>{this._error(v)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function h(u,y){return{protocol:u.protocol,auth:u.auth,host:u.hostname,port:u.port,path:u.path,method:"GET",headers:y}}class s extends m{constructor(y){super(y);let v=z=>{if(z.statusCode===404){let x=new t.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=x,this._headersCapability.reject(x);return}this._headersCapability.resolve(),this._setReadableStream(z);let g=x=>this._readableStream.headers[x.toLowerCase()],{allowRangeRequests:b,suggestedLength:M}=(0,n.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:y.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=M||this._contentLength,this._filename=(0,n.extractFilenameFromHeader)(g)};if(this._request=null,this._url.protocol==="http:"){let z=n1();this._request=z.request(h(this._url,y.httpHeaders),v)}else{let z=r1();this._request=z.request(h(this._url,y.httpHeaders),v)}this._request.on("error",z=>{this._storedError=z,this._headersCapability.reject(z)}),this._request.end()}}class c extends d{constructor(y,v,z){super(y),this._httpHeaders={};for(let b in y.httpHeaders){let M=y.httpHeaders[b];M!==void 0&&(this._httpHeaders[b]=M)}this._httpHeaders.Range=`bytes=${v}-${z-1}`;let g=b=>{if(b.statusCode===404){let M=new t.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=M;return}this._setReadableStream(b)};if(this._request=null,this._url.protocol==="http:"){let b=n1();this._request=b.request(h(this._url,this._httpHeaders),g)}else{let b=r1();this._request=b.request(h(this._url,this._httpHeaders),g)}this._request.on("error",b=>{this._storedError=b}),this._request.end()}}class f extends m{constructor(y){super(y);let v=decodeURIComponent(this._url.path);a.test(this._url.href)&&(v=v.replace(/^\//,""));let z=Ua();z.lstat(v,(g,b)=>{if(g){g.code==="ENOENT"&&(g=new t.MissingPDFException(`Missing PDF "${v}".`)),this._storedError=g,this._headersCapability.reject(g);return}this._contentLength=b.size,this._setReadableStream(z.createReadStream(v)),this._headersCapability.resolve()})}}class p extends d{constructor(y,v,z){super(y);let g=decodeURIComponent(this._url.path);a.test(this._url.href)&&(g=g.replace(/^\//,""));let b=Ua();this._setReadableStream(b.createReadStream(g,{start:v,end:z-1}))}}},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var t=r(6),n=r(1);let a={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},o="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/1999/xlink",m=["butt","round","square"],d=["miter","round","bevel"],h=function(b,M="",x=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!x)return URL.createObjectURL(new Blob([b],{type:M}));let A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",D=`data:${M};base64,`;for(let O=0,Y=b.length;O<Y;O+=3){let W=b[O]&255,$=b[O+1]&255,Z=b[O+2]&255,K=W>>2,R=(W&3)<<4|$>>4,B=O+1<Y?($&15)<<2|Z>>6:64,k=O+2<Y?Z&63:64;D+=A[K]+A[R]+A[B]+A[k]}return D},s=function(){let b=new Uint8Array([137,80,78,71,13,10,26,10]),M=12,x=new Int32Array(256);for(let Z=0;Z<256;Z++){let K=Z;for(let R=0;R<8;R++)K=K&1?3988292384^K>>1&2147483647:K>>1&2147483647;x[Z]=K}function A(Z,K,R){let B=-1;for(let k=K;k<R;k++){let _=(B^Z[k])&255,C=x[_];B=B>>>8^C}return B^-1}function D(Z,K,R,B){let k=B,_=K.length;R[k]=_>>24&255,R[k+1]=_>>16&255,R[k+2]=_>>8&255,R[k+3]=_&255,k+=4,R[k]=Z.charCodeAt(0)&255,R[k+1]=Z.charCodeAt(1)&255,R[k+2]=Z.charCodeAt(2)&255,R[k+3]=Z.charCodeAt(3)&255,k+=4,R.set(K,k),k+=K.length;let C=A(R,B+4,k);R[k]=C>>24&255,R[k+1]=C>>16&255,R[k+2]=C>>8&255,R[k+3]=C&255}function O(Z,K,R){let B=1,k=0;for(let _=K;_<R;++_)B=(B+(Z[_]&255))%65521,k=(k+B)%65521;return k<<16|B}function Y(Z){if(!n.isNodeJS)return W(Z);try{let K=parseInt(process.versions.node)>=8?Z:Buffer.from(Z),R=w2().deflateSync(K,{level:9});return R instanceof Uint8Array?R:new Uint8Array(R)}catch(K){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+K)}return W(Z)}function W(Z){let K=Z.length,R=65535,B=Math.ceil(K/R),k=new Uint8Array(2+K+B*5+4),_=0;k[_++]=120,k[_++]=156;let C=0;for(;K>R;)k[_++]=0,k[_++]=255,k[_++]=255,k[_++]=0,k[_++]=0,k.set(Z.subarray(C,C+R),_),_+=R,C+=R,K-=R;k[_++]=1,k[_++]=K&255,k[_++]=K>>8&255,k[_++]=~K&65535&255,k[_++]=(~K&65535)>>8&255,k.set(Z.subarray(C),_),_+=Z.length-C;let S=O(Z,0,Z.length);return k[_++]=S>>24&255,k[_++]=S>>16&255,k[_++]=S>>8&255,k[_++]=S&255,k}function $(Z,K,R,B){let k=Z.width,_=Z.height,C,S,P,V=Z.data;switch(K){case n.ImageKind.GRAYSCALE_1BPP:S=0,C=1,P=k+7>>3;break;case n.ImageKind.RGB_24BPP:S=2,C=8,P=k*3;break;case n.ImageKind.RGBA_32BPP:S=6,C=8,P=k*4;break;default:throw new Error("invalid format")}let L=new Uint8Array((1+P)*_),N=0,I=0;for(let j=0;j<_;++j)L[N++]=0,L.set(V.subarray(I,I+P),N),I+=P,N+=P;if(K===n.ImageKind.GRAYSCALE_1BPP&&B){N=0;for(let j=0;j<_;j++){N++;for(let q=0;q<P;q++)L[N++]^=255}}let w=new Uint8Array([k>>24&255,k>>16&255,k>>8&255,k&255,_>>24&255,_>>16&255,_>>8&255,_&255,C,S,0,0,0]),T=Y(L),E=b.length+M*3+w.length+T.length,F=new Uint8Array(E),H=0;return F.set(b,H),H+=b.length,D("IHDR",w,F,H),H+=M+w.length,D("IDATA",T,F,H),H+=M+T.length,D("IEND",new Uint8Array(0),F,H),h(F,"image/png",R)}return function(K,R,B){let k=K.kind===void 0?n.ImageKind.GRAYSCALE_1BPP:K.kind;return $(K,k,R,B)}}();class c{constructor(){this.fontSizeScale=1,this.fontWeight=a.fontWeight,this.fontSize=0,this.textMatrix=n.IDENTITY_MATRIX,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=n.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=a.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(M,x){this.x=M,this.y=x}}function f(b){let M=[],x=[];for(let A of b){if(A.fn==="save"){M.push({fnId:92,fn:"group",items:[]}),x.push(M),M=M.at(-1).items;continue}A.fn==="restore"?M=x.pop():M.push(A)}return M}function p(b){if(Number.isInteger(b))return b.toString();let M=b.toFixed(10),x=M.length-1;if(M[x]!=="0")return M;do x--;while(M[x]==="0");return M.substring(0,M[x]==="."?x:x+1)}function u(b){if(b[4]===0&&b[5]===0){if(b[1]===0&&b[2]===0)return b[0]===1&&b[3]===1?"":`scale(${p(b[0])} ${p(b[3])})`;if(b[0]===b[3]&&b[1]===-b[2]){let M=Math.acos(b[0])*180/Math.PI;return`rotate(${p(M)})`}}else if(b[0]===1&&b[1]===0&&b[2]===0&&b[3]===1)return`translate(${p(b[4])} ${p(b[5])})`;return`matrix(${p(b[0])} ${p(b[1])} ${p(b[2])} ${p(b[3])} ${p(b[4])} ${p(b[5])})`}let y=0,v=0,z=0;class g{constructor(M,x,A=!1){(0,t.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new t.DOMSVGFactory,this.current=new c,this.transformMatrix=n.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=M,this.objs=x,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!A,this._operatorIdMapping=[];for(let D in n.OPS)this._operatorIdMapping[n.OPS[D]]=D}getObject(M,x=null){return typeof M=="string"?M.startsWith("g_")?this.commonObjs.get(M):this.objs.get(M):x}save(){this.transformStack.push(this.transformMatrix);let M=this.current;this.extraStack.push(M),this.current=M.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(M){this.save(),this.executeOpTree(M),this.restore()}loadDependencies(M){let x=M.fnArray,A=M.argsArray;for(let D=0,O=x.length;D<O;D++)if(x[D]===n.OPS.dependency)for(let Y of A[D]){let W=Y.startsWith("g_")?this.commonObjs:this.objs,$=new Promise(Z=>{W.get(Y,Z)});this.current.dependencies.push($)}return Promise.all(this.current.dependencies)}transform(M,x,A,D,O,Y){let W=[M,x,A,D,O,Y];this.transformMatrix=n.Util.transform(this.transformMatrix,W),this.tgrp=null}getSVG(M,x){this.viewport=x;let A=this._initialize(x);return this.loadDependencies(M).then(()=>(this.transformMatrix=n.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(M)),A))}convertOpList(M){let x=this._operatorIdMapping,A=M.argsArray,D=M.fnArray,O=[];for(let Y=0,W=D.length;Y<W;Y++){let $=D[Y];O.push({fnId:$,fn:x[$],args:A[Y]})}return f(O)}executeOpTree(M){for(let x of M){let A=x.fn,D=x.fnId,O=x.args;switch(D|0){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(O);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(O[0],O[1]);break;case n.OPS.setFont:this.setFont(O);break;case n.OPS.showText:this.showText(O[0]);break;case n.OPS.showSpacedText:this.showText(O[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(O[0],O[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(O[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(O[0]);break;case n.OPS.setHScale:this.setHScale(O[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(O[0],O[1],O[2],O[3],O[4],O[5]);break;case n.OPS.setTextRise:this.setTextRise(O[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(O[0]);break;case n.OPS.setLineWidth:this.setLineWidth(O[0]);break;case n.OPS.setLineJoin:this.setLineJoin(O[0]);break;case n.OPS.setLineCap:this.setLineCap(O[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(O[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(O[0],O[1],O[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(O[0],O[1],O[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(O);break;case n.OPS.setFillColorN:this.setFillColorN(O);break;case n.OPS.shadingFill:this.shadingFill(O[0]);break;case n.OPS.setDash:this.setDash(O[0],O[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(O[0]);break;case n.OPS.setFlatness:this.setFlatness(O[0]);break;case n.OPS.setGState:this.setGState(O[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintImageXObject:this.paintImageXObject(O[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(O[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(O[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(O[0],O[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(O[0],O[1],O[2],O[3],O[4],O[5]);break;case n.OPS.constructPath:this.constructPath(O[0],O[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(x.items);break;default:(0,n.warn)(`Unimplemented operator ${A}`);break}}}setWordSpacing(M){this.current.wordSpacing=M}setCharSpacing(M){this.current.charSpacing=M}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(M,x,A,D,O,Y){let W=this.current;W.textMatrix=W.lineMatrix=[M,x,A,D,O,Y],W.textMatrixScale=Math.hypot(M,x),W.x=W.lineX=0,W.y=W.lineY=0,W.xcoords=[],W.ycoords=[],W.tspan=this.svgFactory.createElement("svg:tspan"),W.tspan.setAttributeNS(null,"font-family",W.fontFamily),W.tspan.setAttributeNS(null,"font-size",`${p(W.fontSize)}px`),W.tspan.setAttributeNS(null,"y",p(-W.y)),W.txtElement=this.svgFactory.createElement("svg:text"),W.txtElement.append(W.tspan)}beginText(){let M=this.current;M.x=M.lineX=0,M.y=M.lineY=0,M.textMatrix=n.IDENTITY_MATRIX,M.lineMatrix=n.IDENTITY_MATRIX,M.textMatrixScale=1,M.tspan=this.svgFactory.createElement("svg:tspan"),M.txtElement=this.svgFactory.createElement("svg:text"),M.txtgrp=this.svgFactory.createElement("svg:g"),M.xcoords=[],M.ycoords=[]}moveText(M,x){let A=this.current;A.x=A.lineX+=M,A.y=A.lineY+=x,A.xcoords=[],A.ycoords=[],A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${p(A.fontSize)}px`),A.tspan.setAttributeNS(null,"y",p(-A.y))}showText(M){let x=this.current,A=x.font,D=x.fontSize;if(D===0)return;let O=x.fontSizeScale,Y=x.charSpacing,W=x.wordSpacing,$=x.fontDirection,Z=x.textHScale*$,K=A.vertical,R=K?1:-1,B=A.defaultVMetrics,k=D*x.fontMatrix[0],_=0;for(let P of M){if(P===null){_+=$*W;continue}else if(typeof P=="number"){_+=R*P*D/1e3;continue}let V=(P.isSpace?W:0)+Y,L=P.fontChar,N,I,w=P.width;if(K){let E,F=P.vmetric||B;E=P.vmetric?F[1]:w*.5,E=-E*k;let H=F[2]*k;w=F?-F[0]:w,N=E/O,I=(_+H)/O}else N=_/O,I=0;(P.isInFont||A.missingFile)&&(x.xcoords.push(x.x+N),K&&x.ycoords.push(-x.y+I),x.tspan.textContent+=L);let T=K?w*k-V*$:w*k+V*$;_+=T}x.tspan.setAttributeNS(null,"x",x.xcoords.map(p).join(" ")),K?x.tspan.setAttributeNS(null,"y",x.ycoords.map(p).join(" ")):x.tspan.setAttributeNS(null,"y",p(-x.y)),K?x.y-=_:x.x+=_*Z,x.tspan.setAttributeNS(null,"font-family",x.fontFamily),x.tspan.setAttributeNS(null,"font-size",`${p(x.fontSize)}px`),x.fontStyle!==a.fontStyle&&x.tspan.setAttributeNS(null,"font-style",x.fontStyle),x.fontWeight!==a.fontWeight&&x.tspan.setAttributeNS(null,"font-weight",x.fontWeight);let C=x.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;if(C===n.TextRenderingMode.FILL||C===n.TextRenderingMode.FILL_STROKE?(x.fillColor!==a.fillColor&&x.tspan.setAttributeNS(null,"fill",x.fillColor),x.fillAlpha<1&&x.tspan.setAttributeNS(null,"fill-opacity",x.fillAlpha)):x.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH?x.tspan.setAttributeNS(null,"fill","transparent"):x.tspan.setAttributeNS(null,"fill","none"),C===n.TextRenderingMode.STROKE||C===n.TextRenderingMode.FILL_STROKE){let P=1/(x.textMatrixScale||1);this._setStrokeAttributes(x.tspan,P)}let S=x.textMatrix;x.textRise!==0&&(S=S.slice(),S[5]+=x.textRise),x.txtElement.setAttributeNS(null,"transform",`${u(S)} scale(${p(Z)}, -1)`),x.txtElement.setAttributeNS(o,"xml:space","preserve"),x.txtElement.append(x.tspan),x.txtgrp.append(x.txtElement),this._ensureTransformGroup().append(x.txtElement)}setLeadingMoveText(M,x){this.setLeading(-x),this.moveText(M,x)}addFontStyle(M){if(!M.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let x=h(M.data,M.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${M.loadedName}"; src: url(${x}); }
`}setFont(M){let x=this.current,A=this.commonObjs.get(M[0]),D=M[1];x.font=A,this.embedFonts&&!A.missingFile&&!this.embeddedFonts[A.loadedName]&&(this.addFontStyle(A),this.embeddedFonts[A.loadedName]=A),x.fontMatrix=A.fontMatrix||n.FONT_IDENTITY_MATRIX;let O="normal";A.black?O="900":A.bold&&(O="bold");let Y=A.italic?"italic":"normal";D<0?(D=-D,x.fontDirection=-1):x.fontDirection=1,x.fontSize=D,x.fontFamily=A.loadedName,x.fontWeight=O,x.fontStyle=Y,x.tspan=this.svgFactory.createElement("svg:tspan"),x.tspan.setAttributeNS(null,"y",p(-x.y)),x.xcoords=[],x.ycoords=[]}endText(){let M=this.current;M.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&M.txtElement?.hasChildNodes()&&(M.element=M.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(M){M>0&&(this.current.lineWidth=M)}setLineCap(M){this.current.lineCap=m[M]}setLineJoin(M){this.current.lineJoin=d[M]}setMiterLimit(M){this.current.miterLimit=M}setStrokeAlpha(M){this.current.strokeAlpha=M}setStrokeRGBColor(M,x,A){this.current.strokeColor=n.Util.makeHexColor(M,x,A)}setFillAlpha(M){this.current.fillAlpha=M}setFillRGBColor(M,x,A){this.current.fillColor=n.Util.makeHexColor(M,x,A),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(M){this.current.strokeColor=this._makeColorN_Pattern(M)}setFillColorN(M){this.current.fillColor=this._makeColorN_Pattern(M)}shadingFill(M){let{width:x,height:A}=this.viewport,D=n.Util.inverseTransform(this.transformMatrix),[O,Y,W,$]=n.Util.getAxialAlignedBoundingBox([0,0,x,A],D),Z=this.svgFactory.createElement("svg:rect");Z.setAttributeNS(null,"x",O),Z.setAttributeNS(null,"y",Y),Z.setAttributeNS(null,"width",W-O),Z.setAttributeNS(null,"height",$-Y),Z.setAttributeNS(null,"fill",this._makeShadingPattern(M)),this.current.fillAlpha<1&&Z.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Z)}_makeColorN_Pattern(M){return M[0]==="TilingPattern"?this._makeTilingPattern(M):this._makeShadingPattern(M)}_makeTilingPattern(M){let x=M[1],A=M[2],D=M[3]||n.IDENTITY_MATRIX,[O,Y,W,$]=M[4],Z=M[5],K=M[6],R=M[7],B=`shading${z++}`,[k,_,C,S]=n.Util.normalizeRect([...n.Util.applyTransform([O,Y],D),...n.Util.applyTransform([W,$],D)]),[P,V]=n.Util.singularValueDecompose2dScale(D),L=Z*P,N=K*V,I=this.svgFactory.createElement("svg:pattern");I.setAttributeNS(null,"id",B),I.setAttributeNS(null,"patternUnits","userSpaceOnUse"),I.setAttributeNS(null,"width",L),I.setAttributeNS(null,"height",N),I.setAttributeNS(null,"x",`${k}`),I.setAttributeNS(null,"y",`${_}`);let w=this.svg,T=this.transformMatrix,E=this.current.fillColor,F=this.current.strokeColor,H=this.svgFactory.create(C-k,S-_);if(this.svg=H,this.transformMatrix=D,R===2){let j=n.Util.makeHexColor(...x);this.current.fillColor=j,this.current.strokeColor=j}return this.executeOpTree(this.convertOpList(A)),this.svg=w,this.transformMatrix=T,this.current.fillColor=E,this.current.strokeColor=F,I.append(H.childNodes[0]),this.defs.append(I),`url(#${B})`}_makeShadingPattern(M){switch(typeof M=="string"&&(M=this.objs.get(M)),M[0]){case"RadialAxial":let x=`shading${z++}`,A=M[3],D;switch(M[1]){case"axial":let O=M[4],Y=M[5];D=this.svgFactory.createElement("svg:linearGradient"),D.setAttributeNS(null,"id",x),D.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),D.setAttributeNS(null,"x1",O[0]),D.setAttributeNS(null,"y1",O[1]),D.setAttributeNS(null,"x2",Y[0]),D.setAttributeNS(null,"y2",Y[1]);break;case"radial":let W=M[4],$=M[5],Z=M[6],K=M[7];D=this.svgFactory.createElement("svg:radialGradient"),D.setAttributeNS(null,"id",x),D.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),D.setAttributeNS(null,"cx",$[0]),D.setAttributeNS(null,"cy",$[1]),D.setAttributeNS(null,"r",K),D.setAttributeNS(null,"fx",W[0]),D.setAttributeNS(null,"fy",W[1]),D.setAttributeNS(null,"fr",Z);break;default:throw new Error(`Unknown RadialAxial type: ${M[1]}`)}for(let O of A){let Y=this.svgFactory.createElement("svg:stop");Y.setAttributeNS(null,"offset",O[0]),Y.setAttributeNS(null,"stop-color",O[1]),D.append(Y)}return this.defs.append(D),`url(#${x})`;case"Mesh":return(0,n.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${M[0]}`)}}setDash(M,x){this.current.dashArray=M,this.current.dashPhase=x}constructPath(M,x){let A=this.current,D=A.x,O=A.y,Y=[],W=0;for(let $ of M)switch($|0){case n.OPS.rectangle:D=x[W++],O=x[W++];let Z=x[W++],K=x[W++],R=D+Z,B=O+K;Y.push("M",p(D),p(O),"L",p(R),p(O),"L",p(R),p(B),"L",p(D),p(B),"Z");break;case n.OPS.moveTo:D=x[W++],O=x[W++],Y.push("M",p(D),p(O));break;case n.OPS.lineTo:D=x[W++],O=x[W++],Y.push("L",p(D),p(O));break;case n.OPS.curveTo:D=x[W+4],O=x[W+5],Y.push("C",p(x[W]),p(x[W+1]),p(x[W+2]),p(x[W+3]),p(D),p(O)),W+=6;break;case n.OPS.curveTo2:Y.push("C",p(D),p(O),p(x[W]),p(x[W+1]),p(x[W+2]),p(x[W+3])),D=x[W+2],O=x[W+3],W+=4;break;case n.OPS.curveTo3:D=x[W+2],O=x[W+3],Y.push("C",p(x[W]),p(x[W+1]),p(D),p(O),p(D),p(O)),W+=4;break;case n.OPS.closePath:Y.push("Z");break}Y=Y.join(" "),A.path&&M.length>0&&M[0]!==n.OPS.rectangle&&M[0]!==n.OPS.moveTo?Y=A.path.getAttributeNS(null,"d")+Y:(A.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(A.path)),A.path.setAttributeNS(null,"d",Y),A.path.setAttributeNS(null,"fill","none"),A.element=A.path,A.setCurrentPoint(D,O)}endPath(){let M=this.current;if(M.path=null,!this.pendingClip)return;if(!M.element){this.pendingClip=null;return}let x=`clippath${y++}`,A=this.svgFactory.createElement("svg:clipPath");A.setAttributeNS(null,"id",x),A.setAttributeNS(null,"transform",u(this.transformMatrix));let D=M.element.cloneNode(!0);if(this.pendingClip==="evenodd"?D.setAttributeNS(null,"clip-rule","evenodd"):D.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,A.append(D),this.defs.append(A),M.activeClipUrl){M.clipGroup=null;for(let O of this.extraStack)O.clipGroup=null;A.setAttributeNS(null,"clip-path",M.activeClipUrl)}M.activeClipUrl=`url(#${x})`,this.tgrp=null}clip(M){this.pendingClip=M}closePath(){let M=this.current;if(M.path){let x=`${M.path.getAttributeNS(null,"d")}Z`;M.path.setAttributeNS(null,"d",x)}}setLeading(M){this.current.leading=-M}setTextRise(M){this.current.textRise=M}setTextRenderingMode(M){this.current.textRenderingMode=M}setHScale(M){this.current.textHScale=M/100}setRenderingIntent(M){}setFlatness(M){}setGState(M){for(let[x,A]of M)switch(x){case"LW":this.setLineWidth(A);break;case"LC":this.setLineCap(A);break;case"LJ":this.setLineJoin(A);break;case"ML":this.setMiterLimit(A);break;case"D":this.setDash(A[0],A[1]);break;case"RI":this.setRenderingIntent(A);break;case"FL":this.setFlatness(A);break;case"Font":this.setFont(A);break;case"CA":this.setStrokeAlpha(A);break;case"ca":this.setFillAlpha(A);break;default:(0,n.warn)(`Unimplemented graphic state operator ${x}`);break}}fill(){let M=this.current;M.element&&(M.element.setAttributeNS(null,"fill",M.fillColor),M.element.setAttributeNS(null,"fill-opacity",M.fillAlpha),this.endPath())}stroke(){let M=this.current;M.element&&(this._setStrokeAttributes(M.element),M.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(M,x=1){let A=this.current,D=A.dashArray;x!==1&&D.length>0&&(D=D.map(function(O){return x*O})),M.setAttributeNS(null,"stroke",A.strokeColor),M.setAttributeNS(null,"stroke-opacity",A.strokeAlpha),M.setAttributeNS(null,"stroke-miterlimit",p(A.miterLimit)),M.setAttributeNS(null,"stroke-linecap",A.lineCap),M.setAttributeNS(null,"stroke-linejoin",A.lineJoin),M.setAttributeNS(null,"stroke-width",p(x*A.lineWidth)+"px"),M.setAttributeNS(null,"stroke-dasharray",D.map(p).join(" ")),M.setAttributeNS(null,"stroke-dashoffset",p(x*A.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x","0"),M.setAttributeNS(null,"y","0"),M.setAttributeNS(null,"width","1px"),M.setAttributeNS(null,"height","1px"),M.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(M)}paintImageXObject(M){let x=this.getObject(M);if(!x){(0,n.warn)(`Dependent image with object ID ${M} is not ready yet`);return}this.paintInlineImageXObject(x)}paintInlineImageXObject(M,x){let A=M.width,D=M.height,O=s(M,this.forceDataSchema,!!x),Y=this.svgFactory.createElement("svg:rect");Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y","0"),Y.setAttributeNS(null,"width",p(A)),Y.setAttributeNS(null,"height",p(D)),this.current.element=Y,this.clip("nonzero");let W=this.svgFactory.createElement("svg:image");W.setAttributeNS(l,"xlink:href",O),W.setAttributeNS(null,"x","0"),W.setAttributeNS(null,"y",p(-D)),W.setAttributeNS(null,"width",p(A)+"px"),W.setAttributeNS(null,"height",p(D)+"px"),W.setAttributeNS(null,"transform",`scale(${p(1/A)} ${p(-1/D)})`),x?x.append(W):this._ensureTransformGroup().append(W)}paintImageMaskXObject(M){let x=this.getObject(M.data,M);if(x.bitmap){(0,n.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}let A=this.current,D=x.width,O=x.height,Y=A.fillColor;A.maskId=`mask${v++}`;let W=this.svgFactory.createElement("svg:mask");W.setAttributeNS(null,"id",A.maskId);let $=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y","0"),$.setAttributeNS(null,"width",p(D)),$.setAttributeNS(null,"height",p(O)),$.setAttributeNS(null,"fill",Y),$.setAttributeNS(null,"mask",`url(#${A.maskId})`),this.defs.append(W),this._ensureTransformGroup().append($),this.paintInlineImageXObject(x,W)}paintFormXObjectBegin(M,x){if(Array.isArray(M)&&M.length===6&&this.transform(M[0],M[1],M[2],M[3],M[4],M[5]),x){let A=x[2]-x[0],D=x[3]-x[1],O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x",x[0]),O.setAttributeNS(null,"y",x[1]),O.setAttributeNS(null,"width",p(A)),O.setAttributeNS(null,"height",p(D)),this.current.element=O,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(M){let x=this.svgFactory.create(M.width,M.height),A=this.svgFactory.createElement("svg:defs");x.append(A),this.defs=A;let D=this.svgFactory.createElement("svg:g");return D.setAttributeNS(null,"transform",u(M.transform)),x.append(D),this.svg=D,x}_ensureClipGroup(){if(!this.current.clipGroup){let M=this.svgFactory.createElement("svg:g");M.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(M),this.current.clipGroup=M}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",u(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=g},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class r{static textContent(n){let a=[],o={items:a,styles:Object.create(null)};function l(m){if(!m)return;let d=null,h=m.name;if(h==="#text")d=m.value;else if(r.shouldBuildText(h))m?.attributes?.textContent?d=m.attributes.textContent:m.value&&(d=m.value);else return;if(d!==null&&a.push({str:d}),!!m.children)for(let s of m.children)l(s)}return l(n),o}static shouldBuildText(n){return!(n==="textarea"||n==="input"||n==="option"||n==="select")}}e.XfaText=r},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=u,e.updateTextLayer=y;var t=r(1),n=r(6);let a=1e5,o=30,l=.8,m=new Map;function d(v,z){let g;if(z&&t.FeatureTest.isOffscreenCanvasSupported)g=new OffscreenCanvas(v,v).getContext("2d",{alpha:!1});else{let b=document.createElement("canvas");b.width=b.height=v,g=b.getContext("2d",{alpha:!1})}return g}function h(v,z){let g=m.get(v);if(g)return g;let b=d(o,z);b.font=`${o}px ${v}`;let M=b.measureText(""),x=M.fontBoundingBoxAscent,A=Math.abs(M.fontBoundingBoxDescent);if(x){let O=x/(x+A);return m.set(v,O),b.canvas.width=b.canvas.height=0,O}b.strokeStyle="red",b.clearRect(0,0,o,o),b.strokeText("g",0,0);let D=b.getImageData(0,0,o,o).data;A=0;for(let O=D.length-1-3;O>=0;O-=4)if(D[O]>0){A=Math.ceil(O/4/o);break}b.clearRect(0,0,o,o),b.strokeText("A",0,o),D=b.getImageData(0,0,o,o).data,x=0;for(let O=0,Y=D.length;O<Y;O+=4)if(D[O]>0){x=o-Math.floor(O/4/o);break}if(b.canvas.width=b.canvas.height=0,x){let O=x/(x+A);return m.set(v,O),O}return m.set(v,l),l}function s(v,z,g){let b=document.createElement("span"),M={angle:0,canvasWidth:0,hasText:z.str!=="",hasEOL:z.hasEOL,fontSize:0};v._textDivs.push(b);let x=t.Util.transform(v._transform,z.transform),A=Math.atan2(x[1],x[0]),D=g[z.fontName];D.vertical&&(A+=Math.PI/2);let O=Math.hypot(x[2],x[3]),Y=O*h(D.fontFamily,v._isOffscreenCanvasSupported),W,$;A===0?(W=x[4],$=x[5]-Y):(W=x[4]+Y*Math.sin(A),$=x[5]-Y*Math.cos(A));let Z="calc(var(--scale-factor)*",K=b.style;v._container===v._rootContainer?(K.left=`${(100*W/v._pageWidth).toFixed(2)}%`,K.top=`${(100*$/v._pageHeight).toFixed(2)}%`):(K.left=`${Z}${W.toFixed(2)}px)`,K.top=`${Z}${$.toFixed(2)}px)`),K.fontSize=`${Z}${O.toFixed(2)}px)`,K.fontFamily=D.fontFamily,M.fontSize=O,b.setAttribute("role","presentation"),b.textContent=z.str,b.dir=z.dir,v._fontInspectorEnabled&&(b.dataset.fontName=z.fontName),A!==0&&(M.angle=A*(180/Math.PI));let R=!1;if(z.str.length>1)R=!0;else if(z.str!==" "&&z.transform[0]!==z.transform[3]){let B=Math.abs(z.transform[0]),k=Math.abs(z.transform[3]);B!==k&&Math.max(B,k)/Math.min(B,k)>1.5&&(R=!0)}R&&(M.canvasWidth=D.vertical?z.height:z.width),v._textDivProperties.set(b,M),v._isReadableStream&&v._layoutText(b)}function c(v){let{div:z,scale:g,properties:b,ctx:M,prevFontSize:x,prevFontFamily:A}=v,{style:D}=z,O="";if(b.canvasWidth!==0&&b.hasText){let{fontFamily:Y}=D,{canvasWidth:W,fontSize:$}=b;(x!==$||A!==Y)&&(M.font=`${$*g}px ${Y}`,v.prevFontSize=$,v.prevFontFamily=Y);let{width:Z}=M.measureText(z.textContent);Z>0&&(O=`scaleX(${W*g/Z})`)}b.angle!==0&&(O=`rotate(${b.angle}deg) ${O}`),O.length>0&&(D.transform=O)}function f(v){if(v._canceled)return;let z=v._textDivs,g=v._capability;if(z.length>a){g.resolve();return}if(!v._isReadableStream)for(let M of z)v._layoutText(M);g.resolve()}class p{constructor({textContentSource:z,container:g,viewport:b,textDivs:M,textDivProperties:x,textContentItemsStr:A,isOffscreenCanvasSupported:D}){this._textContentSource=z,this._isReadableStream=z instanceof ReadableStream,this._container=this._rootContainer=g,this._textDivs=M||[],this._textContentItemsStr=A||[],this._isOffscreenCanvasSupported=D,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=x||new WeakMap,this._canceled=!1,this._capability=new t.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:b.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d(0,D)};let{pageWidth:O,pageHeight:Y,pageX:W,pageY:$}=b.rawDims;this._transform=[1,0,0,-1,-W,$+Y],this._pageWidth=O,this._pageHeight=Y,(0,n.setLayerDimensions)(g,b),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new t.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new t.AbortException("TextLayer task cancelled."))}_processItems(z,g){for(let b of z){if(b.str===void 0){if(b.type==="beginMarkedContentProps"||b.type==="beginMarkedContent"){let M=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),b.id!==null&&this._container.setAttribute("id",`${b.id}`),M.append(this._container)}else b.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(b.str),s(this,b,g)}}_layoutText(z){let g=this._layoutTextParams.properties=this._textDivProperties.get(z);if(this._layoutTextParams.div=z,c(this._layoutTextParams),g.hasText&&this._container.append(z),g.hasEOL){let b=document.createElement("br");b.setAttribute("role","presentation"),this._container.append(b)}}_render(){let z=new t.PromiseCapability,g=Object.create(null);if(this._isReadableStream){let b=()=>{this._reader.read().then(({value:M,done:x})=>{if(x){z.resolve();return}Object.assign(g,M.styles),this._processItems(M.items,g),b()},z.reject)};this._reader=this._textContentSource.getReader(),b()}else if(this._textContentSource){let{items:b,styles:M}=this._textContentSource;this._processItems(b,M),z.resolve()}else throw new Error('No "textContentSource" parameter specified.');z.promise.then(()=>{g=null,f(this)},this._capability.reject)}}e.TextLayerRenderTask=p;function u(v){!v.textContentSource&&(v.textContent||v.textContentStream)&&((0,n.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),v.textContentSource=v.textContent||v.textContentStream);let{container:z,viewport:g}=v,b=getComputedStyle(z),M=b.getPropertyValue("visibility"),x=parseFloat(b.getPropertyValue("--scale-factor"));M==="visible"&&(!x||Math.abs(x-g.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");let A=new p(v);return A._render(),A}function y({container:v,viewport:z,textDivs:g,textDivProperties:b,isOffscreenCanvasSupported:M,mustRotate:x=!0,mustRescale:A=!0}){if(x&&(0,n.setLayerDimensions)(v,{rotation:z.rotation}),A){let D=d(0,M),Y={prevFontSize:null,prevFontFamily:null,div:null,scale:z.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:D};for(let W of g)Y.properties=b.get(W),Y.div=W,c(Y)}}},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var t=r(1),n=r(4),a=r(28),o=r(33),l=r(6),m=r(34);let d=(()=>{class h{#e;#t=!1;#i=null;#n=this.pointerup.bind(this);#s=this.pointerdown.bind(this);#a=new Map;#o=!1;#c=!1;#l=!1;#r;static _initialized=!1;constructor({uiManager:c,pageIndex:f,div:p,accessibilityManager:u,annotationLayer:y,viewport:v,l10n:z}){let g=[a.FreeTextEditor,o.InkEditor,m.StampEditor];if(!h._initialized){h._initialized=!0;for(let b of g)b.initialize(z)}c.registerEditorTypes(g),this.#r=c,this.pageIndex=f,this.div=p,this.#e=u,this.#i=y,this.viewport=v,this.#r.addLayer(this)}get isEmpty(){return this.#a.size===0}updateToolbar(c){this.#r.updateToolbar(c)}updateMode(c=this.#r.getMode()){this.#f(),c===t.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),c!==t.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",c===t.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",c===t.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",c===t.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(c){if(!c&&this.#r.getMode()!==t.AnnotationEditorType.INK)return;if(!c){for(let p of this.#a.values())if(p.isEmpty()){p.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(c){this.#r.setEditingState(c)}addCommands(c){this.#r.addCommands(c)}enable(){this.div.style.pointerEvents="auto";let c=new Set;for(let p of this.#a.values())p.enableEditing(),p.annotationElementId&&c.add(p.annotationElementId);if(!this.#i)return;let f=this.#i.getEditableAnnotations();for(let p of f){if(p.hide(),this.#r.isDeletedAnnotationElement(p.data.id)||c.has(p.data.id))continue;let u=this.deserialize(p);u&&(this.addOrRebuild(u),u.enableEditing())}}disable(){this.#l=!0,this.div.style.pointerEvents="none";let c=new Set;for(let f of this.#a.values()){if(f.disableEditing(),!f.annotationElementId||f.serialize()!==null){c.add(f.annotationElementId);continue}this.getEditableAnnotation(f.annotationElementId)?.show(),f.remove()}if(this.#i){let f=this.#i.getEditableAnnotations();for(let p of f){let{id:u}=p.data;c.has(u)||this.#r.isDeletedAnnotationElement(u)||p.show()}}this.#f(),this.isEmpty&&(this.div.hidden=!0),this.#l=!1}getEditableAnnotation(c){return this.#i?.getEditableAnnotation(c)||null}setActiveEditor(c){this.#r.getActive()!==c&&this.#r.setActiveEditor(c)}enableClick(){this.div.addEventListener("pointerdown",this.#s),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#s),this.div.removeEventListener("pointerup",this.#n)}attach(c){this.#a.set(c.id,c);let{annotationElementId:f}=c;f&&this.#r.isDeletedAnnotationElement(f)&&this.#r.removeDeletedAnnotationElement(c)}detach(c){this.#a.delete(c.id),this.#e?.removePointerInTextLayer(c.contentDiv),!this.#l&&c.annotationElementId&&this.#r.addDeletedAnnotationElement(c)}remove(c){this.detach(c),this.#r.removeEditor(c),c.div.contains(document.activeElement)&&setTimeout(()=>{this.#r.focusMainContainer()},0),c.div.remove(),c.isAttachedToDOM=!1,this.#c||this.addInkEditorIfNeeded(!1)}changeParent(c){c.parent!==this&&(c.annotationElementId&&(this.#r.addDeletedAnnotationElement(c.annotationElementId),n.AnnotationEditor.deleteAnnotationElement(c),c.annotationElementId=null),this.attach(c),c.parent?.detach(c),c.setParent(this),c.div&&c.isAttachedToDOM&&(c.div.remove(),this.div.append(c.div)))}add(c){if(this.changeParent(c),this.#r.addEditor(c),this.attach(c),!c.isAttachedToDOM){let f=c.render();this.div.append(f),c.isAttachedToDOM=!0}c.fixAndSetPosition(),c.onceAdded(),this.#r.addToAnnotationStorage(c)}moveEditorInDOM(c){if(!c.isAttachedToDOM)return;let{activeElement:f}=document;c.div.contains(f)&&(c._focusEventsAllowed=!1,setTimeout(()=>{c.div.contains(document.activeElement)?c._focusEventsAllowed=!0:(c.div.addEventListener("focusin",()=>{c._focusEventsAllowed=!0},{once:!0}),f.focus())},0)),c._structTreeParentId=this.#e?.moveElementInDOM(this.div,c.div,c.contentDiv,!0)}addOrRebuild(c){c.needsToBeRebuilt()?c.rebuild():this.add(c)}addUndoableEditor(c){let f=()=>c._uiManager.rebuild(c),p=()=>{c.remove()};this.addCommands({cmd:f,undo:p,mustExec:!1})}getNextId(){return this.#r.getId()}#h(c){switch(this.#r.getMode()){case t.AnnotationEditorType.FREETEXT:return new a.FreeTextEditor(c);case t.AnnotationEditorType.INK:return new o.InkEditor(c);case t.AnnotationEditorType.STAMP:return new m.StampEditor(c)}return null}pasteEditor(c,f){this.#r.updateToolbar(c),this.#r.updateMode(c);let{offsetX:p,offsetY:u}=this.#p(),y=this.getNextId(),v=this.#h(he({parent:this,id:y,x:p,y:u,uiManager:this.#r,isCentered:!0},f));v&&this.add(v)}deserialize(c){switch(c.annotationType??c.annotationEditorType){case t.AnnotationEditorType.FREETEXT:return a.FreeTextEditor.deserialize(c,this,this.#r);case t.AnnotationEditorType.INK:return o.InkEditor.deserialize(c,this,this.#r);case t.AnnotationEditorType.STAMP:return m.StampEditor.deserialize(c,this,this.#r)}return null}#d(c,f){let p=this.getNextId(),u=this.#h({parent:this,id:p,x:c.offsetX,y:c.offsetY,uiManager:this.#r,isCentered:f});return u&&this.add(u),u}#p(){let{x:c,y:f,width:p,height:u}=this.div.getBoundingClientRect(),y=Math.max(0,c),v=Math.max(0,f),z=Math.min(window.innerWidth,c+p),g=Math.min(window.innerHeight,f+u),b=(y+z)/2-c,M=(v+g)/2-f,[x,A]=this.viewport.rotation%180===0?[b,M]:[M,b];return{offsetX:x,offsetY:A}}addNewEditor(){this.#d(this.#p(),!0)}setSelected(c){this.#r.setSelected(c)}toggleSelected(c){this.#r.toggleSelected(c)}isSelected(c){return this.#r.isSelected(c)}unselect(c){this.#r.unselect(c)}pointerup(c){let{isMac:f}=t.FeatureTest.platform;if(!(c.button!==0||c.ctrlKey&&f)&&c.target===this.div&&this.#o){if(this.#o=!1,!this.#t){this.#t=!0;return}if(this.#r.getMode()===t.AnnotationEditorType.STAMP){this.#r.unselectAll();return}this.#d(c,!1)}}pointerdown(c){if(this.#o){this.#o=!1;return}let{isMac:f}=t.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&f||c.target!==this.div)return;this.#o=!0;let p=this.#r.getActive();this.#t=!p||p.isEmpty()}findNewParent(c,f,p){let u=this.#r.findParent(f,p);return u===null||u===this?!1:(u.changeParent(c),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null));for(let c of this.#a.values())this.#e?.removePointerInTextLayer(c.contentDiv),c.setParent(null),c.isAttachedToDOM=!1,c.div.remove();this.div=null,this.#a.clear(),this.#r.removeLayer(this)}#f(){this.#c=!0;for(let c of this.#a.values())c.isEmpty()&&c.remove();this.#c=!1}render({viewport:c}){this.viewport=c,(0,l.setLayerDimensions)(this.div,c);for(let f of this.#r.getEditors(this.pageIndex))this.add(f);this.updateMode()}update({viewport:c}){this.#r.commitOrRemove(),this.viewport=c,(0,l.setLayerDimensions)(this.div,{rotation:c.rotation}),this.updateMode()}get pageDimensions(){let{pageWidth:c,pageHeight:f}=this.viewport.rawDims;return[c,f]}}return h})();e.AnnotationEditorLayer=d},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var t=r(1),n=r(5),a=r(4),o=r(29);let l=(()=>{class m extends a.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#i=this.editorDivInput.bind(this);#n=this.editorDivKeydown.bind(this);#s;#a="";#o=`${this.id}-editor`;#c;#l=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let h=m.prototype,s=p=>p.isEmpty(),c=n.AnnotationEditorUIManager.TRANSLATE_SMALL,f=n.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,t.shadow)(this,"_keyboardManager",new n.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],h.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],h.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],h._translateEmpty,{args:[-c,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],h._translateEmpty,{args:[-f,0],checker:s}],[["ArrowRight","mac+ArrowRight"],h._translateEmpty,{args:[c,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],h._translateEmpty,{args:[f,0],checker:s}],[["ArrowUp","mac+ArrowUp"],h._translateEmpty,{args:[0,-c],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],h._translateEmpty,{args:[0,-f],checker:s}],[["ArrowDown","mac+ArrowDown"],h._translateEmpty,{args:[0,c],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],h._translateEmpty,{args:[0,f],checker:s}]]))}static _type="freetext";constructor(h){super(Be(he({},h),{name:"freeTextEditor"})),this.#s=h.color||m._defaultColor||a.AnnotationEditor._defaultLineColor,this.#c=h.fontSize||m._defaultFontSize}static initialize(h){a.AnnotationEditor.initialize(h,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});let s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(h,s){switch(h){case t.AnnotationEditorParamsType.FREETEXT_SIZE:m._defaultFontSize=s;break;case t.AnnotationEditorParamsType.FREETEXT_COLOR:m._defaultColor=s;break}}updateParams(h,s){switch(h){case t.AnnotationEditorParamsType.FREETEXT_SIZE:this.#r(s);break;case t.AnnotationEditorParamsType.FREETEXT_COLOR:this.#h(s);break}}static get defaultPropertiesToUpdate(){return[[t.AnnotationEditorParamsType.FREETEXT_SIZE,m._defaultFontSize],[t.AnnotationEditorParamsType.FREETEXT_COLOR,m._defaultColor||a.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[t.AnnotationEditorParamsType.FREETEXT_SIZE,this.#c],[t.AnnotationEditorParamsType.FREETEXT_COLOR,this.#s]]}#r(h){let s=f=>{this.editorDiv.style.fontSize=`calc(${f}px * var(--scale-factor))`,this.translate(0,-(f-this.#c)*this.parentScale),this.#c=f,this.#p()},c=this.#c;this.addCommands({cmd:()=>{s(h)},undo:()=>{s(c)},mustExec:!0,type:t.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#h(h){let s=this.#s;this.addCommands({cmd:()=>{this.#s=this.editorDiv.style.color=h},undo:()=>{this.#s=this.editorDiv.style.color=s},mustExec:!0,type:t.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(h,s){this._uiManager.translateSelectedEditors(h,s,!0)}getInitialTranslation(){let h=this.parentScale;return[-m._internalPadding*h,-(m._internalPadding+this.#c)*h]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(t.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#n),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#i))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#o),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#n),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#i),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(h){this._focusEventsAllowed&&(super.focusin(h),h.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){let h=this.editorDiv.getElementsByTagName("div");if(h.length===0)return this.editorDiv.innerText;let s=[];for(let c of h)s.push(c.innerText.replace(/\r\n?|\n/,""));return s.join(`
`)}#p(){let[h,s]=this.parentDimensions,c;if(this.isAttachedToDOM)c=this.div.getBoundingClientRect();else{let{currentLayer:f,div:p}=this,u=p.style.display;p.style.display="hidden",f.div.append(this.div),c=p.getBoundingClientRect(),p.remove(),p.style.display=u}this.rotation%180===this.parentRotation%180?(this.width=c.width/h,this.height=c.height/s):(this.width=c.height/h,this.height=c.width/s),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let h=this.#a,s=this.#a=this.#d().trimEnd();if(h===s)return;let c=f=>{if(this.#a=f,!f){this.remove();return}this.#f(),this._uiManager.rebuild(this),this.#p()};this.addCommands({cmd:()=>{c(s)},undo:()=>{c(h)},mustExec:!1}),this.#p()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(h){this.enterInEditMode()}keydown(h){h.target===this.div&&h.key==="Enter"&&(this.enterInEditMode(),h.preventDefault())}editorDivKeydown(h){m._keyboardManager.exec(this,h)}editorDivFocus(h){this.isEditing=!0}editorDivBlur(h){this.isEditing=!1}editorDivInput(h){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let h,s;this.width&&(h=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#o),this.enableEditing(),a.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(f=>this.editorDiv?.setAttribute("aria-label",f)),a.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(f=>this.editorDiv?.setAttribute("default-content",f)),this.editorDiv.contentEditable=!0;let{style:c}=this.editorDiv;if(c.fontSize=`calc(${this.#c}px * var(--scale-factor))`,c.color=this.#s,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,n.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[f,p]=this.parentDimensions;if(this.annotationElementId){let{position:u}=this.#l,[y,v]=this.getInitialTranslation();[y,v]=this.pageTranslationToScreen(y,v);let[z,g]=this.pageDimensions,[b,M]=this.pageTranslation,x,A;switch(this.rotation){case 0:x=h+(u[0]-b)/z,A=s+this.height-(u[1]-M)/g;break;case 90:x=h+(u[0]-b)/z,A=s-(u[1]-M)/g,[y,v]=[v,-y];break;case 180:x=h-this.width+(u[0]-b)/z,A=s-(u[1]-M)/g,[y,v]=[-y,-v];break;case 270:x=h+(u[0]-b-this.height*g)/z,A=s+(u[1]-M-this.width*z)/g,[y,v]=[-v,y];break}this.setAt(x*f,A*p,y,v)}else this.setAt(h*f,s*p,this.width*f,this.height*p);this.#f(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#f(){if(this.editorDiv.replaceChildren(),!!this.#a)for(let h of this.#a.split(`
`)){let s=document.createElement("div");s.append(h?document.createTextNode(h):document.createElement("br")),this.editorDiv.append(s)}}get contentDiv(){return this.editorDiv}static deserialize(h,s,c){let f=null;if(h instanceof o.FreeTextAnnotationElement){let{data:{defaultAppearanceData:{fontSize:u,fontColor:y},rect:v,rotation:z,id:g},textContent:b,textPosition:M,parent:{page:{pageNumber:x}}}=h;if(!b||b.length===0)return null;f=h={annotationType:t.AnnotationEditorType.FREETEXT,color:Array.from(y),fontSize:u,value:b.join(`
`),position:M,pageIndex:x-1,rect:v,rotation:z,id:g,deleted:!1}}let p=super.deserialize(h,s,c);return p.#c=h.fontSize,p.#s=t.Util.makeHexColor(...h.color),p.#a=h.value,p.annotationElementId=h.id||null,p.#l=f,p}serialize(h=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let s=m._internalPadding*this.parentScale,c=this.getRect(s,s),f=a.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#s),p={annotationType:t.AnnotationEditorType.FREETEXT,color:f,fontSize:this.#c,value:this.#a,pageIndex:this.pageIndex,rect:c,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return h?p:this.annotationElementId&&!this.#m(p)?null:(p.id=this.annotationElementId,p)}#m(h){let{value:s,fontSize:c,color:f,rect:p,pageIndex:u}=this.#l;return h.value!==s||h.fontSize!==c||h.rect.some((y,v)=>Math.abs(y-p[v])>=1)||h.color.some((y,v)=>y!==f[v])||h.pageIndex!==u}#g(h=!1){if(!this.annotationElementId)return;if(this.#p(),!h&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}let s=m._internalPadding*this.parentScale;this.#l.rect=this.getRect(s,s)}}return m})();e.FreeTextEditor=l},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var t=r(1),n=r(6),a=r(3),o=r(30),l=r(31),m=r(32);let d=1e3,h=9,s=new WeakSet;function c(I){return{width:I[2]-I[0],height:I[3]-I[1]}}class f{static create(w){switch(w.data.annotationType){case t.AnnotationType.LINK:return new u(w);case t.AnnotationType.TEXT:return new y(w);case t.AnnotationType.WIDGET:switch(w.data.fieldType){case"Tx":return new z(w);case"Btn":return w.data.radioButton?new M(w):w.data.checkBox?new b(w):new x(w);case"Ch":return new A(w);case"Sig":return new g(w)}return new v(w);case t.AnnotationType.POPUP:return new D(w);case t.AnnotationType.FREETEXT:return new Y(w);case t.AnnotationType.LINE:return new W(w);case t.AnnotationType.SQUARE:return new $(w);case t.AnnotationType.CIRCLE:return new Z(w);case t.AnnotationType.POLYLINE:return new K(w);case t.AnnotationType.CARET:return new B(w);case t.AnnotationType.INK:return new k(w);case t.AnnotationType.POLYGON:return new R(w);case t.AnnotationType.HIGHLIGHT:return new _(w);case t.AnnotationType.UNDERLINE:return new C(w);case t.AnnotationType.SQUIGGLY:return new S(w);case t.AnnotationType.STRIKEOUT:return new P(w);case t.AnnotationType.STAMP:return new V(w);case t.AnnotationType.FILEATTACHMENT:return new L(w);default:return new p(w)}}}class p{#e=!1;constructor(w,{isRenderable:T=!1,ignoreBorder:E=!1,createQuadrilaterals:F=!1}={}){this.isRenderable=T,this.data=w.data,this.layer=w.layer,this.linkService=w.linkService,this.downloadManager=w.downloadManager,this.imageResourcesPath=w.imageResourcesPath,this.renderForms=w.renderForms,this.svgFactory=w.svgFactory,this.annotationStorage=w.annotationStorage,this.enableScripting=w.enableScripting,this.hasJSActions=w.hasJSActions,this._fieldObjects=w.fieldObjects,this.parent=w.parent,T&&(this.container=this._createContainer(E)),F&&this._createQuadrilaterals()}static _hasPopupData({titleObj:w,contentsObj:T,richText:E}){return!!(w?.str||T?.str||E?.str)}get hasPopupData(){return p._hasPopupData(this.data)}_createContainer(w){let{data:T,parent:{page:E,viewport:F}}=this,H=document.createElement("section");H.setAttribute("data-annotation-id",T.id),this instanceof v||(H.tabIndex=d),H.style.zIndex=this.parent.zIndex++,this.data.popupRef&&H.setAttribute("aria-haspopup","dialog"),T.noRotate&&H.classList.add("norotate");let{pageWidth:j,pageHeight:q,pageX:ie,pageY:Q}=F.rawDims;if(!T.rect||this instanceof D){let{rotation:ne}=T;return!T.hasOwnCanvas&&ne!==0&&this.setRotation(ne,H),H}let{width:U,height:X}=c(T.rect),G=t.Util.normalizeRect([T.rect[0],E.view[3]-T.rect[1]+E.view[1],T.rect[2],E.view[3]-T.rect[3]+E.view[1]]);if(!w&&T.borderStyle.width>0){H.style.borderWidth=`${T.borderStyle.width}px`;let ne=T.borderStyle.horizontalCornerRadius,se=T.borderStyle.verticalCornerRadius;if(ne>0||se>0){let pe=`calc(${ne}px * var(--scale-factor)) / calc(${se}px * var(--scale-factor))`;H.style.borderRadius=pe}else if(this instanceof M){let pe=`calc(${U}px * var(--scale-factor)) / calc(${X}px * var(--scale-factor))`;H.style.borderRadius=pe}switch(T.borderStyle.style){case t.AnnotationBorderStyleType.SOLID:H.style.borderStyle="solid";break;case t.AnnotationBorderStyleType.DASHED:H.style.borderStyle="dashed";break;case t.AnnotationBorderStyleType.BEVELED:(0,t.warn)("Unimplemented border style: beveled");break;case t.AnnotationBorderStyleType.INSET:(0,t.warn)("Unimplemented border style: inset");break;case t.AnnotationBorderStyleType.UNDERLINE:H.style.borderBottomStyle="solid";break;default:break}let le=T.borderColor||null;le?(this.#e=!0,H.style.borderColor=t.Util.makeHexColor(le[0]|0,le[1]|0,le[2]|0)):H.style.borderWidth=0}H.style.left=`${100*(G[0]-ie)/j}%`,H.style.top=`${100*(G[1]-Q)/q}%`;let{rotation:J}=T;return T.hasOwnCanvas||J===0?(H.style.width=`${100*U/j}%`,H.style.height=`${100*X/q}%`):this.setRotation(J,H),H}setRotation(w,T=this.container){if(!this.data.rect)return;let{pageWidth:E,pageHeight:F}=this.parent.viewport.rawDims,{width:H,height:j}=c(this.data.rect),q,ie;w%180===0?(q=100*H/E,ie=100*j/F):(q=100*j/E,ie=100*H/F),T.style.width=`${q}%`,T.style.height=`${ie}%`,T.setAttribute("data-main-rotation",(360-w)%360)}get _commonActions(){let w=(T,E,F)=>{let H=F.detail[T],j=H[0],q=H.slice(1);F.target.style[E]=o.ColorConverters[`${j}_HTML`](q),this.annotationStorage.setValue(this.data.id,{[E]:o.ColorConverters[`${j}_rgb`](q)})};return(0,t.shadow)(this,"_commonActions",{display:T=>{let{display:E}=T.detail,F=E%2===1;this.container.style.visibility=F?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:F,noPrint:E===1||E===2})},print:T=>{this.annotationStorage.setValue(this.data.id,{noPrint:!T.detail.print})},hidden:T=>{let{hidden:E}=T.detail;this.container.style.visibility=E?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:E,noView:E})},focus:T=>{setTimeout(()=>T.target.focus({preventScroll:!1}),0)},userName:T=>{T.target.title=T.detail.userName},readonly:T=>{T.target.disabled=T.detail.readonly},required:T=>{this._setRequired(T.target,T.detail.required)},bgColor:T=>{w("bgColor","backgroundColor",T)},fillColor:T=>{w("fillColor","backgroundColor",T)},fgColor:T=>{w("fgColor","color",T)},textColor:T=>{w("textColor","color",T)},borderColor:T=>{w("borderColor","borderColor",T)},strokeColor:T=>{w("strokeColor","borderColor",T)},rotation:T=>{let E=T.detail.rotation;this.setRotation(E),this.annotationStorage.setValue(this.data.id,{rotation:E})}})}_dispatchEventFromSandbox(w,T){let E=this._commonActions;for(let F of Object.keys(T.detail))(w[F]||E[F])?.(T)}_setDefaultPropertiesFromJS(w){if(!this.enableScripting)return;let T=this.annotationStorage.getRawValue(this.data.id);if(!T)return;let E=this._commonActions;for(let[F,H]of Object.entries(T)){let j=E[F];if(j){let q={detail:{[F]:H},target:w};j(q),delete T[F]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:w}=this.data;if(!w)return;let[T,E,F,H]=this.data.rect;if(w.length===1){let[,{x:se,y:le},{x:pe,y:ge}]=w[0];if(F===se&&H===le&&T===pe&&E===ge)return}let{style:j}=this.container,q;if(this.#e){let{borderColor:se,borderWidth:le}=j;j.borderWidth=0,q=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${se}" stroke-width="${le}">`],this.container.classList.add("hasBorder")}let ie=F-T,Q=H-E,{svgFactory:U}=this,X=U.createElement("svg");X.classList.add("quadrilateralsContainer"),X.setAttribute("width",0),X.setAttribute("height",0);let G=U.createElement("defs");X.append(G);let J=U.createElement("clipPath"),ne=`clippath_${this.data.id}`;J.setAttribute("id",ne),J.setAttribute("clipPathUnits","objectBoundingBox"),G.append(J);for(let[,{x:se,y:le},{x:pe,y:ge}]of w){let _e=U.createElement("rect"),Fe=(pe-T)/ie,kt=(H-le)/Q,ft=(se-pe)/ie,Gt=(le-ge)/Q;_e.setAttribute("x",Fe),_e.setAttribute("y",kt),_e.setAttribute("width",ft),_e.setAttribute("height",Gt),J.append(_e),q?.push(`<rect vector-effect="non-scaling-stroke" x="${Fe}" y="${kt}" width="${ft}" height="${Gt}"/>`)}this.#e&&(q.push("</g></svg>')"),j.backgroundImage=q.join("")),this.container.append(X),this.container.style.clipPath=`url(#${ne})`}_createPopup(){let{container:w,data:T}=this;w.setAttribute("aria-haspopup","dialog");let E=new D({data:{color:T.color,titleObj:T.titleObj,modificationDate:T.modificationDate,contentsObj:T.contentsObj,richText:T.richText,parentRect:T.rect,borderStyle:0,id:`popup_${T.id}`,rotation:T.rotation},parent:this.parent,elements:[this]});this.parent.div.append(E.render())}render(){(0,t.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(w,T=null){let E=[];if(this._fieldObjects){let F=this._fieldObjects[w];if(F)for(let{page:H,id:j,exportValues:q}of F){if(H===-1||j===T)continue;let ie=typeof q=="string"?q:null,Q=document.querySelector(`[data-element-id="${j}"]`);if(Q&&!s.has(Q)){(0,t.warn)(`_getElementsByName - element not allowed: ${j}`);continue}E.push({id:j,exportValue:ie,domElement:Q})}return E}for(let F of document.getElementsByName(w)){let{exportValue:H}=F,j=F.getAttribute("data-element-id");j!==T&&s.has(F)&&E.push({id:j,exportValue:H,domElement:F})}return E}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let w=this.getElementsToTriggerPopup();if(Array.isArray(w))for(let T of w)T.classList.add("highlightArea");else w.classList.add("highlightArea")}_editOnDoubleClick(){let{annotationEditorType:w,data:{id:T}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:w,editId:T})})}}class u extends p{constructor(w,T=null){super(w,{isRenderable:!0,ignoreBorder:!!T?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=w.data.isTooltipOnly}render(){let{data:w,linkService:T}=this,E=document.createElement("a");E.setAttribute("data-element-id",w.id);let F=!1;return w.url?(T.addLinkAttributes(E,w.url,w.newWindow),F=!0):w.action?(this._bindNamedAction(E,w.action),F=!0):w.attachment?(this._bindAttachment(E,w.attachment),F=!0):w.setOCGState?(this.#t(E,w.setOCGState),F=!0):w.dest?(this._bindLink(E,w.dest),F=!0):(w.actions&&(w.actions.Action||w.actions["Mouse Up"]||w.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(E,w),F=!0),w.resetForm?(this._bindResetFormAction(E,w.resetForm),F=!0):this.isTooltipOnly&&!F&&(this._bindLink(E,""),F=!0)),this.container.classList.add("linkAnnotation"),F&&this.container.append(E),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(w,T){w.href=this.linkService.getDestinationHash(T),w.onclick=()=>(T&&this.linkService.goToDestination(T),!1),(T||T==="")&&this.#e()}_bindNamedAction(w,T){w.href=this.linkService.getAnchorUrl(""),w.onclick=()=>(this.linkService.executeNamedAction(T),!1),this.#e()}_bindAttachment(w,T){w.href=this.linkService.getAnchorUrl(""),w.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,T.content,T.filename),!1),this.#e()}#t(w,T){w.href=this.linkService.getAnchorUrl(""),w.onclick=()=>(this.linkService.executeSetOCGState(T),!1),this.#e()}_bindJSAction(w,T){w.href=this.linkService.getAnchorUrl("");let E=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let F of Object.keys(T.actions)){let H=E.get(F);H&&(w[H]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T.id,name:F}}),!1))}w.onclick||(w.onclick=()=>!1),this.#e()}_bindResetFormAction(w,T){let E=w.onclick;if(E||(w.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,t.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),E||(w.onclick=()=>!1);return}w.onclick=()=>{E?.();let{fields:F,refs:H,include:j}=T,q=[];if(F.length!==0||H.length!==0){let U=new Set(H);for(let X of F){let G=this._fieldObjects[X]||[];for(let{id:J}of G)U.add(J)}for(let X of Object.values(this._fieldObjects))for(let G of X)U.has(G.id)===j&&q.push(G)}else for(let U of Object.values(this._fieldObjects))q.push(...U);let ie=this.annotationStorage,Q=[];for(let U of q){let{id:X}=U;switch(Q.push(X),U.type){case"text":{let J=U.defaultValue||"";ie.setValue(X,{value:J});break}case"checkbox":case"radiobutton":{let J=U.defaultValue===U.exportValues;ie.setValue(X,{value:J});break}case"combobox":case"listbox":{let J=U.defaultValue||"";ie.setValue(X,{value:J});break}default:continue}let G=document.querySelector(`[data-element-id="${X}"]`);if(G){if(!s.has(G)){(0,t.warn)(`_bindResetFormAction - element not allowed: ${X}`);continue}}else continue;G.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Q,name:"ResetForm"}}),!1}}}class y extends p{constructor(w){super(w,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let w=document.createElement("img");return w.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",w.alt="[{{type}} Annotation]",w.dataset.l10nId="text_annotation_type",w.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(w),this.container}}class v extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(w){this.data.hasOwnCanvas&&(w.previousSibling?.nodeName==="CANVAS"&&(w.previousSibling.hidden=!0),w.hidden=!1)}_getKeyModifier(w){let{isWin:T,isMac:E}=t.FeatureTest.platform;return T&&w.ctrlKey||E&&w.metaKey}_setEventListener(w,T,E,F,H){E.includes("mouse")?w.addEventListener(E,j=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:F,value:H(j),shift:j.shiftKey,modifier:this._getKeyModifier(j)}})}):w.addEventListener(E,j=>{if(E==="blur"){if(!T.focused||!j.relatedTarget)return;T.focused=!1}else if(E==="focus"){if(T.focused)return;T.focused=!0}H&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:F,value:H(j)}})})}_setEventListeners(w,T,E,F){for(let[H,j]of E)(j==="Action"||this.data.actions?.[j])&&((j==="Focus"||j==="Blur")&&(T||={focused:!1}),this._setEventListener(w,T,H,j,F),j==="Focus"&&!this.data.actions?.Blur?this._setEventListener(w,T,"blur","Blur",null):j==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(w,T,"focus","Focus",null))}_setBackgroundColor(w){let T=this.data.backgroundColor||null;w.style.backgroundColor=T===null?"transparent":t.Util.makeHexColor(T[0],T[1],T[2])}_setTextStyle(w){let T=["left","center","right"],{fontColor:E}=this.data.defaultAppearanceData,F=this.data.defaultAppearanceData.fontSize||h,H=w.style,j,q=2,ie=Q=>Math.round(10*Q)/10;if(this.data.multiLine){let Q=Math.abs(this.data.rect[3]-this.data.rect[1]-q),U=Math.round(Q/(t.LINE_FACTOR*F))||1,X=Q/U;j=Math.min(F,ie(X/t.LINE_FACTOR))}else{let Q=Math.abs(this.data.rect[3]-this.data.rect[1]-q);j=Math.min(F,ie(Q/t.LINE_FACTOR))}H.fontSize=`calc(${j}px * var(--scale-factor))`,H.color=t.Util.makeHexColor(E[0],E[1],E[2]),this.data.textAlignment!==null&&(H.textAlign=T[this.data.textAlignment])}_setRequired(w,T){T?w.setAttribute("required",!0):w.removeAttribute("required"),w.setAttribute("aria-required",T)}}class z extends v{constructor(w){let T=w.renderForms||!w.data.hasAppearance&&!!w.data.fieldValue;super(w,{isRenderable:T})}setPropertyOnSiblings(w,T,E,F){let H=this.annotationStorage;for(let j of this._getElementsByName(w.name,w.id))j.domElement&&(j.domElement[T]=E),H.setValue(j.id,{[F]:E})}render(){let w=this.annotationStorage,T=this.data.id;this.container.classList.add("textWidgetAnnotation");let E=null;if(this.renderForms){let F=w.getValue(T,{value:this.data.fieldValue}),H=F.value||"",j=w.getValue(T,{charLimit:this.data.maxLen}).charLimit;j&&H.length>j&&(H=H.slice(0,j));let q=F.formattedValue||this.data.textContent?.join(`
`)||null;q&&this.data.comb&&(q=q.replaceAll(/\s+/g,""));let ie={userValue:H,formattedValue:q,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(E=document.createElement("textarea"),E.textContent=q??H,this.data.doNotScroll&&(E.style.overflowY="hidden")):(E=document.createElement("input"),E.type="text",E.setAttribute("value",q??H),this.data.doNotScroll&&(E.style.overflowX="hidden")),this.data.hasOwnCanvas&&(E.hidden=!0),s.add(E),E.setAttribute("data-element-id",T),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.tabIndex=d,this._setRequired(E,this.data.required),j&&(E.maxLength=j),E.addEventListener("input",U=>{w.setValue(T,{value:U.target.value}),this.setPropertyOnSiblings(E,"value",U.target.value,"value"),ie.formattedValue=null}),E.addEventListener("resetform",U=>{let X=this.data.defaultFieldValue??"";E.value=ie.userValue=X,ie.formattedValue=null});let Q=U=>{let{formattedValue:X}=ie;X!=null&&(U.target.value=X),U.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){E.addEventListener("focus",X=>{if(ie.focused)return;let{target:G}=X;ie.userValue&&(G.value=ie.userValue),ie.lastCommittedValue=G.value,ie.commitKey=1,ie.focused=!0}),E.addEventListener("updatefromsandbox",X=>{this.showElementAndHideCanvas(X.target);let G={value(J){ie.userValue=J.detail.value??"",w.setValue(T,{value:ie.userValue.toString()}),J.target.value=ie.userValue},formattedValue(J){let{formattedValue:ne}=J.detail;ie.formattedValue=ne,ne!=null&&J.target!==document.activeElement&&(J.target.value=ne),w.setValue(T,{formattedValue:ne})},selRange(J){J.target.setSelectionRange(...J.detail.selRange)},charLimit:J=>{let{charLimit:ne}=J.detail,{target:se}=J;if(ne===0){se.removeAttribute("maxLength");return}se.setAttribute("maxLength",ne);let le=ie.userValue;!le||le.length<=ne||(le=le.slice(0,ne),se.value=ie.userValue=le,w.setValue(T,{value:le}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:le,willCommit:!0,commitKey:1,selStart:se.selectionStart,selEnd:se.selectionEnd}}))}};this._dispatchEventFromSandbox(G,X)}),E.addEventListener("keydown",X=>{ie.commitKey=1;let G=-1;if(X.key==="Escape"?G=0:X.key==="Enter"&&!this.data.multiLine?G=2:X.key==="Tab"&&(ie.commitKey=3),G===-1)return;let{value:J}=X.target;ie.lastCommittedValue!==J&&(ie.lastCommittedValue=J,ie.userValue=J,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:J,willCommit:!0,commitKey:G,selStart:X.target.selectionStart,selEnd:X.target.selectionEnd}}))});let U=Q;Q=null,E.addEventListener("blur",X=>{if(!ie.focused||!X.relatedTarget)return;ie.focused=!1;let{value:G}=X.target;ie.userValue=G,ie.lastCommittedValue!==G&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:G,willCommit:!0,commitKey:ie.commitKey,selStart:X.target.selectionStart,selEnd:X.target.selectionEnd}}),U(X)}),this.data.actions?.Keystroke&&E.addEventListener("beforeinput",X=>{ie.lastCommittedValue=null;let{data:G,target:J}=X,{value:ne,selectionStart:se,selectionEnd:le}=J,pe=se,ge=le;switch(X.inputType){case"deleteWordBackward":{let _e=ne.substring(0,se).match(/\w*[^\w]*$/);_e&&(pe-=_e[0].length);break}case"deleteWordForward":{let _e=ne.substring(se).match(/^[^\w]*\w*/);_e&&(ge+=_e[0].length);break}case"deleteContentBackward":se===le&&(pe-=1);break;case"deleteContentForward":se===le&&(ge+=1);break}X.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:ne,change:G||"",willCommit:!1,selStart:pe,selEnd:ge}})}),this._setEventListeners(E,ie,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.value)}if(Q&&E.addEventListener("blur",Q),this.data.comb){let X=(this.data.rect[2]-this.data.rect[0])/j;E.classList.add("comb"),E.style.letterSpacing=`calc(${X}px * var(--scale-factor) - 1ch)`}}else E=document.createElement("div"),E.textContent=this.data.fieldValue,E.style.verticalAlign="middle",E.style.display="table-cell";return this._setTextStyle(E),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.append(E),this.container}}class g extends v{constructor(w){super(w,{isRenderable:!!w.data.hasOwnCanvas})}}class b extends v{constructor(w){super(w,{isRenderable:w.renderForms})}render(){let w=this.annotationStorage,T=this.data,E=T.id,F=w.getValue(E,{value:T.exportValue===T.fieldValue}).value;typeof F=="string"&&(F=F!=="Off",w.setValue(E,{value:F})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let H=document.createElement("input");return s.add(H),H.setAttribute("data-element-id",E),H.disabled=T.readOnly,this._setRequired(H,this.data.required),H.type="checkbox",H.name=T.fieldName,F&&H.setAttribute("checked",!0),H.setAttribute("exportValue",T.exportValue),H.tabIndex=d,H.addEventListener("change",j=>{let{name:q,checked:ie}=j.target;for(let Q of this._getElementsByName(q,E)){let U=ie&&Q.exportValue===T.exportValue;Q.domElement&&(Q.domElement.checked=U),w.setValue(Q.id,{value:U})}w.setValue(E,{value:ie})}),H.addEventListener("resetform",j=>{let q=T.defaultFieldValue||"Off";j.target.checked=q===T.exportValue}),this.enableScripting&&this.hasJSActions&&(H.addEventListener("updatefromsandbox",j=>{let q={value(ie){ie.target.checked=ie.detail.value!=="Off",w.setValue(E,{value:ie.target.checked})}};this._dispatchEventFromSandbox(q,j)}),this._setEventListeners(H,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.checked)),this._setBackgroundColor(H),this._setDefaultPropertiesFromJS(H),this.container.append(H),this.container}}class M extends v{constructor(w){super(w,{isRenderable:w.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let w=this.annotationStorage,T=this.data,E=T.id,F=w.getValue(E,{value:T.fieldValue===T.buttonValue}).value;typeof F=="string"&&(F=F!==T.buttonValue,w.setValue(E,{value:F}));let H=document.createElement("input");if(s.add(H),H.setAttribute("data-element-id",E),H.disabled=T.readOnly,this._setRequired(H,this.data.required),H.type="radio",H.name=T.fieldName,F&&H.setAttribute("checked",!0),H.tabIndex=d,H.addEventListener("change",j=>{let{name:q,checked:ie}=j.target;for(let Q of this._getElementsByName(q,E))w.setValue(Q.id,{value:!1});w.setValue(E,{value:ie})}),H.addEventListener("resetform",j=>{let q=T.defaultFieldValue;j.target.checked=q!=null&&q===T.buttonValue}),this.enableScripting&&this.hasJSActions){let j=T.buttonValue;H.addEventListener("updatefromsandbox",q=>{let ie={value:Q=>{let U=j===Q.detail.value;for(let X of this._getElementsByName(Q.target.name)){let G=U&&X.id===E;X.domElement&&(X.domElement.checked=G),w.setValue(X.id,{value:G})}}};this._dispatchEventFromSandbox(ie,q)}),this._setEventListeners(H,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],q=>q.target.checked)}return this._setBackgroundColor(H),this._setDefaultPropertiesFromJS(H),this.container.append(H),this.container}}class x extends u{constructor(w){super(w,{ignoreBorder:w.data.hasAppearance})}render(){let w=super.render();w.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(w.title=this.data.alternativeText);let T=w.lastChild;return this.enableScripting&&this.hasJSActions&&T&&(this._setDefaultPropertiesFromJS(T),T.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({},E)})),w}}class A extends v{constructor(w){super(w,{isRenderable:w.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let w=this.annotationStorage,T=this.data.id,E=w.getValue(T,{value:this.data.fieldValue}),F=document.createElement("select");s.add(F),F.setAttribute("data-element-id",T),F.disabled=this.data.readOnly,this._setRequired(F,this.data.required),F.name=this.data.fieldName,F.tabIndex=d;let H=this.data.combo&&this.data.options.length>0;this.data.combo||(F.size=this.data.options.length,this.data.multiSelect&&(F.multiple=!0)),F.addEventListener("resetform",U=>{let X=this.data.defaultFieldValue;for(let G of F.options)G.selected=G.value===X});for(let U of this.data.options){let X=document.createElement("option");X.textContent=U.displayValue,X.value=U.exportValue,E.value.includes(U.exportValue)&&(X.setAttribute("selected",!0),H=!1),F.append(X)}let j=null;if(H){let U=document.createElement("option");U.value=" ",U.setAttribute("hidden",!0),U.setAttribute("selected",!0),F.prepend(U),j=()=>{U.remove(),F.removeEventListener("input",j),j=null},F.addEventListener("input",j)}let q=U=>{let X=U?"value":"textContent",{options:G,multiple:J}=F;return J?Array.prototype.filter.call(G,ne=>ne.selected).map(ne=>ne[X]):G.selectedIndex===-1?null:G[G.selectedIndex][X]},ie=q(!1),Q=U=>{let X=U.target.options;return Array.prototype.map.call(X,G=>({displayValue:G.textContent,exportValue:G.value}))};return this.enableScripting&&this.hasJSActions?(F.addEventListener("updatefromsandbox",U=>{let X={value(G){j?.();let J=G.detail.value,ne=new Set(Array.isArray(J)?J:[J]);for(let se of F.options)se.selected=ne.has(se.value);w.setValue(T,{value:q(!0)}),ie=q(!1)},multipleSelection(G){F.multiple=!0},remove(G){let J=F.options,ne=G.detail.remove;J[ne].selected=!1,F.remove(ne),J.length>0&&Array.prototype.findIndex.call(J,le=>le.selected)===-1&&(J[0].selected=!0),w.setValue(T,{value:q(!0),items:Q(G)}),ie=q(!1)},clear(G){for(;F.length!==0;)F.remove(0);w.setValue(T,{value:null,items:[]}),ie=q(!1)},insert(G){let{index:J,displayValue:ne,exportValue:se}=G.detail.insert,le=F.children[J],pe=document.createElement("option");pe.textContent=ne,pe.value=se,le?le.before(pe):F.append(pe),w.setValue(T,{value:q(!0),items:Q(G)}),ie=q(!1)},items(G){let{items:J}=G.detail;for(;F.length!==0;)F.remove(0);for(let ne of J){let{displayValue:se,exportValue:le}=ne,pe=document.createElement("option");pe.textContent=se,pe.value=le,F.append(pe)}F.options.length>0&&(F.options[0].selected=!0),w.setValue(T,{value:q(!0),items:Q(G)}),ie=q(!1)},indices(G){let J=new Set(G.detail.indices);for(let ne of G.target.options)ne.selected=J.has(ne.index);w.setValue(T,{value:q(!0)}),ie=q(!1)},editable(G){G.target.disabled=!G.detail.editable}};this._dispatchEventFromSandbox(X,U)}),F.addEventListener("input",U=>{let X=q(!0);w.setValue(T,{value:X}),U.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:ie,changeEx:X,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(F,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],U=>U.target.value)):F.addEventListener("input",function(U){w.setValue(T,{value:q(!0)})}),this.data.combo&&this._setTextStyle(F),this._setBackgroundColor(F),this._setDefaultPropertiesFromJS(F),this.container.append(F),this.container}}class D extends p{constructor(w){let{data:T,elements:E}=w;super(w,{isRenderable:p._hasPopupData(T)}),this.elements=E}render(){this.container.classList.add("popupAnnotation");let w=new O({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),T=[];for(let E of this.elements)E.popup=w,T.push(E.data.id),E.addHighlightArea();return this.container.setAttribute("aria-controls",T.map(E=>`${t.AnnotationPrefix}${E}`).join(",")),this.container}}class O{#e=null;#t=this.#u.bind(this);#i=this.#_.bind(this);#n=this.#S.bind(this);#s=this.#y.bind(this);#a=null;#o=null;#c=null;#l=null;#r=null;#h=null;#d=!1;#p=null;#f=null;#m=null;#g=null;#v=!1;constructor({container:w,color:T,elements:E,titleObj:F,modificationDate:H,contentsObj:j,richText:q,parent:ie,rect:Q,parentRect:U,open:X}){this.#o=w,this.#g=F,this.#c=j,this.#m=q,this.#r=ie,this.#a=T,this.#f=Q,this.#h=U,this.#l=E;let G=n.PDFDateString.toDateObject(H);G&&(this.#e=ie.l10n.get("annotation_date_string",{date:G.toLocaleDateString(),time:G.toLocaleTimeString()})),this.trigger=E.flatMap(J=>J.getElementsToTriggerPopup());for(let J of this.trigger)J.addEventListener("click",this.#s),J.addEventListener("mouseenter",this.#n),J.addEventListener("mouseleave",this.#i),J.classList.add("popupTriggerArea");for(let J of E)J.container?.addEventListener("keydown",this.#t);this.#o.hidden=!0,X&&this.#y()}render(){if(this.#p)return;let{page:{view:w},viewport:{rawDims:{pageWidth:T,pageHeight:E,pageX:F,pageY:H}}}=this.#r,j=this.#p=document.createElement("div");if(j.className="popup",this.#a){let _e=j.style.outlineColor=t.Util.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?j.style.backgroundColor=`color-mix(in srgb, ${_e} 30%, white)`:j.style.backgroundColor=t.Util.makeHexColor(...this.#a.map(kt=>Math.floor(.7*(255-kt)+kt)))}let q=document.createElement("span");q.className="header";let ie=document.createElement("h1");if(q.append(ie),{dir:ie.dir,str:ie.textContent}=this.#g,j.append(q),this.#e){let _e=document.createElement("span");_e.classList.add("popupDate"),this.#e.then(Fe=>{_e.textContent=Fe}),q.append(_e)}let Q=this.#c,U=this.#m;if(U?.str&&(!Q?.str||Q.str===U.str))m.XfaLayer.render({xfaHtml:U.html,intent:"richText",div:j}),j.lastChild.classList.add("richText","popupContent");else{let _e=this._formatContents(Q);j.append(_e)}let X=!!this.#h,G=X?this.#h:this.#f;for(let _e of this.#l)if(!G||t.Util.intersect(_e.data.rect,G)!==null){G=_e.data.rect,X=!0;break}let J=t.Util.normalizeRect([G[0],w[3]-G[1]+w[1],G[2],w[3]-G[3]+w[1]]),se=X?G[2]-G[0]+5:0,le=J[0]+se,pe=J[1],{style:ge}=this.#o;ge.left=`${100*(le-F)/T}%`,ge.top=`${100*(pe-H)/E}%`,this.#o.append(j)}_formatContents({str:w,dir:T}){let E=document.createElement("p");E.classList.add("popupContent"),E.dir=T;let F=w.split(/(?:\r\n?|\n)/);for(let H=0,j=F.length;H<j;++H){let q=F[H];E.append(document.createTextNode(q)),H<j-1&&E.append(document.createElement("br"))}return E}#u(w){w.altKey||w.shiftKey||w.ctrlKey||w.metaKey||(w.key==="Enter"||w.key==="Escape"&&this.#d)&&this.#y()}#y(){this.#d=!this.#d,this.#d?(this.#S(),this.#o.addEventListener("click",this.#s),this.#o.addEventListener("keydown",this.#t)):(this.#_(),this.#o.removeEventListener("click",this.#s),this.#o.removeEventListener("keydown",this.#t))}#S(){this.#p||this.render(),this.isVisible?this.#d&&this.#o.classList.add("focused"):(this.#o.hidden=!1,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)+1e3)}#_(){this.#o.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#o.hidden=!0,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#o.hidden=!0)}maybeShow(){this.#v&&(this.#v=!1,this.#o.hidden=!1)}get isVisible(){return this.#o.hidden===!1}}class Y extends p{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0}),this.textContent=w.data.textContent,this.textPosition=w.data.textPosition,this.annotationEditorType=t.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let w=document.createElement("div");w.classList.add("annotationTextContent"),w.setAttribute("role","comment");for(let T of this.textContent){let E=document.createElement("span");E.textContent=T,w.append(E)}this.container.append(w)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=Y;class W extends p{#e=null;constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let w=this.data,{width:T,height:E}=c(w.rect),F=this.svgFactory.create(T,E,!0),H=this.#e=this.svgFactory.createElement("svg:line");return H.setAttribute("x1",w.rect[2]-w.lineCoordinates[0]),H.setAttribute("y1",w.rect[3]-w.lineCoordinates[1]),H.setAttribute("x2",w.rect[2]-w.lineCoordinates[2]),H.setAttribute("y2",w.rect[3]-w.lineCoordinates[3]),H.setAttribute("stroke-width",w.borderStyle.width||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),F.append(H),this.container.append(F),!w.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class $ extends p{#e=null;constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let w=this.data,{width:T,height:E}=c(w.rect),F=this.svgFactory.create(T,E,!0),H=w.borderStyle.width,j=this.#e=this.svgFactory.createElement("svg:rect");return j.setAttribute("x",H/2),j.setAttribute("y",H/2),j.setAttribute("width",T-H),j.setAttribute("height",E-H),j.setAttribute("stroke-width",H||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),F.append(j),this.container.append(F),!w.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Z extends p{#e=null;constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let w=this.data,{width:T,height:E}=c(w.rect),F=this.svgFactory.create(T,E,!0),H=w.borderStyle.width,j=this.#e=this.svgFactory.createElement("svg:ellipse");return j.setAttribute("cx",T/2),j.setAttribute("cy",E/2),j.setAttribute("rx",T/2-H/2),j.setAttribute("ry",E/2-H/2),j.setAttribute("stroke-width",H||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),F.append(j),this.container.append(F),!w.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class K extends p{#e=null;constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let w=this.data,{width:T,height:E}=c(w.rect),F=this.svgFactory.create(T,E,!0),H=[];for(let q of w.vertices){let ie=q.x-w.rect[0],Q=w.rect[3]-q.y;H.push(ie+","+Q)}H=H.join(" ");let j=this.#e=this.svgFactory.createElement(this.svgElementName);return j.setAttribute("points",H),j.setAttribute("stroke-width",w.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),F.append(j),this.container.append(F),!w.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class R extends K{constructor(w){super(w),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class B extends p{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class k extends p{#e=[];constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=t.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);let w=this.data,{width:T,height:E}=c(w.rect),F=this.svgFactory.create(T,E,!0);for(let H of w.inkLists){let j=[];for(let ie of H){let Q=ie.x-w.rect[0],U=w.rect[3]-ie.y;j.push(`${Q},${U}`)}j=j.join(" ");let q=this.svgFactory.createElement(this.svgElementName);this.#e.push(q),q.setAttribute("points",j),q.setAttribute("stroke-width",w.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),!w.popupRef&&this.hasPopupData&&this._createPopup(),F.append(q)}return this.container.append(F),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}e.InkAnnotationElement=k;class _ extends p{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class C extends p{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class S extends p{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class P extends p{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class V extends p{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=V;class L extends p{#e=null;constructor(w){super(w,{isRenderable:!0});let{filename:T,content:E}=this.data.file;this.filename=(0,n.getFilenameFromUrl)(T,!0),this.content=E,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:T,content:E})}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:w,data:T}=this,E;T.hasAppearance||T.fillAlpha===0?E=document.createElement("div"):(E=document.createElement("img"),E.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(T.name)?"paperclip":"pushpin"}.svg`,T.fillAlpha&&T.fillAlpha<1&&(E.style=`filter: opacity(${Math.round(T.fillAlpha*100)}%);`)),E.addEventListener("dblclick",this.#t.bind(this)),this.#e=E;let{isMac:F}=t.FeatureTest.platform;return w.addEventListener("keydown",H=>{H.key==="Enter"&&(F?H.metaKey:H.ctrlKey)&&this.#t()}),!T.popupRef&&this.hasPopupData?this._createPopup():E.classList.add("popupTriggerArea"),w.append(E),w}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class N{#e=null;#t=null;#i=new Map;constructor({div:w,accessibilityManager:T,annotationCanvasMap:E,l10n:F,page:H,viewport:j}){this.div=w,this.#e=T,this.#t=E,this.l10n=F,this.page=H,this.viewport=j,this.zIndex=0,this.l10n||=l.NullL10n}#n(w,T){let E=w.firstChild||w;E.id=`${t.AnnotationPrefix}${T}`,this.div.append(w),this.#e?.moveElementInDOM(this.div,w,E,!1)}render(w){return ce(this,null,function*(){let{annotations:T}=w,E=this.div;(0,n.setLayerDimensions)(E,this.viewport);let F=new Map,H={data:null,layer:E,linkService:w.linkService,downloadManager:w.downloadManager,imageResourcesPath:w.imageResourcesPath||"",renderForms:w.renderForms!==!1,svgFactory:new n.DOMSVGFactory,annotationStorage:w.annotationStorage||new a.AnnotationStorage,enableScripting:w.enableScripting===!0,hasJSActions:w.hasJSActions,fieldObjects:w.fieldObjects,parent:this,elements:null};for(let j of T){if(j.noHTML)continue;let q=j.annotationType===t.AnnotationType.POPUP;if(q){let U=F.get(j.id);if(!U)continue;H.elements=U}else{let{width:U,height:X}=c(j.rect);if(U<=0||X<=0)continue}H.data=j;let ie=f.create(H);if(!ie.isRenderable)continue;if(!q&&j.popupRef){let U=F.get(j.popupRef);U?U.push(ie):F.set(j.popupRef,[ie])}ie.annotationEditorType>0&&this.#i.set(ie.data.id,ie);let Q=ie.render();j.hidden&&(Q.style.visibility="hidden"),this.#n(Q,j.id)}this.#s(),yield this.l10n.translate(E)})}update({viewport:w}){let T=this.div;this.viewport=w,(0,n.setLayerDimensions)(T,{rotation:w.rotation}),this.#s(),T.hidden=!1}#s(){if(!this.#t)return;let w=this.div;for(let[T,E]of this.#t){let F=w.querySelector(`[data-annotation-id="${T}"]`);if(!F)continue;let{firstChild:H}=F;H?H.nodeName==="CANVAS"?H.replaceWith(E):H.before(E):F.append(E)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#i.values())}getEditableAnnotation(w){return this.#i.get(w)}}e.AnnotationLayer=N},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function r(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function t(a){return Math.max(0,Math.min(255,255*a))}class n{static CMYK_G([o,l,m,d]){return["G",1-Math.min(1,.3*o+.59*m+.11*l+d)]}static G_CMYK([o]){return["CMYK",0,0,0,1-o]}static G_RGB([o]){return["RGB",o,o,o]}static G_rgb([o]){return o=t(o),[o,o,o]}static G_HTML([o]){let l=r(o);return`#${l}${l}${l}`}static RGB_G([o,l,m]){return["G",.3*o+.59*l+.11*m]}static RGB_rgb(o){return o.map(t)}static RGB_HTML(o){return`#${o.map(r).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([o,l,m,d]){return["RGB",1-Math.min(1,o+d),1-Math.min(1,m+d),1-Math.min(1,l+d)]}static CMYK_rgb([o,l,m,d]){return[t(1-Math.min(1,o+d)),t(1-Math.min(1,m+d)),t(1-Math.min(1,l+d))]}static CMYK_HTML(o){let l=this.CMYK_RGB(o).slice(1);return this.RGB_HTML(l)}static RGB_CMYK([o,l,m]){let d=1-o,h=1-l,s=1-m,c=Math.min(d,h,s);return["CMYK",d,h,s,c]}}e.ColorConverters=n},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=t;let r={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};r.print_progress_percent="{{progress}}%";function t(l,m){switch(l){case"find_match_count":l=`find_match_count[${m.total===1?"one":"other"}]`;break;case"find_match_count_limit":l=`find_match_count_limit[${m.limit===1?"one":"other"}]`;break}return r[l]||""}function n(l,m){return m?l.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(d,h)=>h in m?m[h]:"{{"+h+"}}"):l}let a={getLanguage(){return ce(this,null,function*(){return"en-us"})},getDirection(){return ce(this,null,function*(){return"ltr"})},get(h){return ce(this,arguments,function*(l,m=null,d=t(l,m)){return n(d,m)})},translate(l){return ce(this,null,function*(){})}};e.NullL10n=a},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var t=r(25);class n{static setupStorage(o,l,m,d,h){let s=d.getValue(l,{value:null});switch(m.name){case"textarea":if(s.value!==null&&(o.textContent=s.value),h==="print")break;o.addEventListener("input",c=>{d.setValue(l,{value:c.target.value})});break;case"input":if(m.attributes.type==="radio"||m.attributes.type==="checkbox"){if(s.value===m.attributes.xfaOn?o.setAttribute("checked",!0):s.value===m.attributes.xfaOff&&o.removeAttribute("checked"),h==="print")break;o.addEventListener("change",c=>{d.setValue(l,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&o.setAttribute("value",s.value),h==="print")break;o.addEventListener("input",c=>{d.setValue(l,{value:c.target.value})})}break;case"select":if(s.value!==null){o.setAttribute("value",s.value);for(let c of m.children)c.attributes.value===s.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}o.addEventListener("input",c=>{let f=c.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;d.setValue(l,{value:p})});break}}static setAttributes({html:o,element:l,storage:m=null,intent:d,linkService:h}){let{attributes:s}=l,c=o instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${d}`);for(let[f,p]of Object.entries(s))if(p!=null)switch(f){case"class":p.length&&o.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":o.setAttribute("data-element-id",p);break;case"style":Object.assign(o.style,p);break;case"textContent":o.textContent=p;break;default:(!c||f!=="href"&&f!=="newWindow")&&o.setAttribute(f,p)}c&&h.addLinkAttributes(o,s.href,s.newWindow),m&&s.dataId&&this.setupStorage(o,s.dataId,l,m)}static render(o){let l=o.annotationStorage,m=o.linkService,d=o.xfaHtml,h=o.intent||"display",s=document.createElement(d.name);d.attributes&&this.setAttributes({html:s,element:d,intent:h,linkService:m});let c=[[d,-1,s]],f=o.div;if(f.append(s),o.viewport){let u=`matrix(${o.viewport.transform.join(",")})`;f.style.transform=u}h!=="richText"&&f.setAttribute("class","xfaLayer xfaFont");let p=[];for(;c.length>0;){let[u,y,v]=c.at(-1);if(y+1===u.children.length){c.pop();continue}let z=u.children[++c.at(-1)[1]];if(z===null)continue;let{name:g}=z;if(g==="#text"){let M=document.createTextNode(z.value);p.push(M),v.append(M);continue}let b=z?.attributes?.xmlns?document.createElementNS(z.attributes.xmlns,g):document.createElement(g);if(v.append(b),z.attributes&&this.setAttributes({html:b,element:z,storage:l,intent:h,linkService:m}),z.children&&z.children.length>0)c.push([z,-1,b]);else if(z.value){let M=document.createTextNode(z.value);t.XfaText.shouldBuildText(g)&&p.push(M),b.append(M)}}for(let u of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:p}}static update(o){let l=`matrix(${o.viewport.transform.join(",")})`;o.div.style.transform=l,o.div.hidden=!1}}e.XfaLayer=n},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var t=r(1),n=r(4),a=r(29),o=r(6),l=r(5);let m=(()=>{class d extends n.AnnotationEditor{#e=0;#t=0;#i=this.canvasPointermove.bind(this);#n=this.canvasPointerleave.bind(this);#s=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#o=new Path2D;#c=!1;#l=!1;#r=!1;#h=null;#d=0;#p=0;#f=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(s){super(Be(he({},s),{name:"inkEditor"})),this.color=s.color||null,this.thickness=s.thickness||null,this.opacity=s.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(s){n.AnnotationEditor.initialize(s,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(s,c){switch(s){case t.AnnotationEditorParamsType.INK_THICKNESS:d._defaultThickness=c;break;case t.AnnotationEditorParamsType.INK_COLOR:d._defaultColor=c;break;case t.AnnotationEditorParamsType.INK_OPACITY:d._defaultOpacity=c/100;break}}updateParams(s,c){switch(s){case t.AnnotationEditorParamsType.INK_THICKNESS:this.#m(c);break;case t.AnnotationEditorParamsType.INK_COLOR:this.#g(c);break;case t.AnnotationEditorParamsType.INK_OPACITY:this.#v(c);break}}static get defaultPropertiesToUpdate(){return[[t.AnnotationEditorParamsType.INK_THICKNESS,d._defaultThickness],[t.AnnotationEditorParamsType.INK_COLOR,d._defaultColor||n.AnnotationEditor._defaultLineColor],[t.AnnotationEditorParamsType.INK_OPACITY,Math.round(d._defaultOpacity*100)]]}get propertiesToUpdate(){return[[t.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||d._defaultThickness],[t.AnnotationEditorParamsType.INK_COLOR,this.color||d._defaultColor||n.AnnotationEditor._defaultLineColor],[t.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??d._defaultOpacity))]]}#m(s){let c=this.thickness;this.addCommands({cmd:()=>{this.thickness=s,this.#k()},undo:()=>{this.thickness=c,this.#k()},mustExec:!0,type:t.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(s){let c=this.color;this.addCommands({cmd:()=>{this.color=s,this.#b()},undo:()=>{this.color=c,this.#b()},mustExec:!0,type:t.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#v(s){s/=100;let c=this.opacity;this.addCommands({cmd:()=>{this.opacity=s,this.#b()},undo:()=>{this.opacity=c,this.#b()},mustExec:!0,type:t.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#A(),this.#T()),this.isAttachedToDOM||(this.parent.add(this),this.#C()),this.#k()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#h.disconnect(),this.#h=null,super.remove())}setParent(s){!this.parent&&s?this._uiManager.removeShouldRescale(this):this.parent&&s===null&&this._uiManager.addShouldRescale(this),super.setParent(s)}onScaleChanging(){let[s,c]=this.parentDimensions,f=this.width*s,p=this.height*c;this.setDimensions(f,p)}enableEditMode(){this.#c||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#a))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){let{parentRotation:s,parentDimensions:[c,f]}=this;switch(s){case 90:return[0,f,f,c];case 180:return[c,f,c,f];case 270:return[c,0,f,c];default:return[0,0,c,f]}}#y(){let{ctx:s,color:c,opacity:f,thickness:p,parentScale:u,scaleFactor:y}=this;s.lineWidth=p*u/y,s.lineCap="round",s.lineJoin="round",s.miterLimit=10,s.strokeStyle=`${c}${(0,l.opacityToHex)(f)}`}#S(s,c){this.canvas.addEventListener("contextmenu",o.noContextMenu),this.canvas.addEventListener("pointerleave",this.#n),this.canvas.addEventListener("pointermove",this.#i),this.canvas.addEventListener("pointerup",this.#s),this.canvas.removeEventListener("pointerdown",this.#a),this.isEditing=!0,this.#r||(this.#r=!0,this.#C(),this.thickness||=d._defaultThickness,this.color||=d._defaultColor||n.AnnotationEditor._defaultLineColor,this.opacity??=d._defaultOpacity),this.currentPath.push([s,c]),this.#l=!1,this.#y(),this.#f=()=>{this.#O(),this.#f&&window.requestAnimationFrame(this.#f)},window.requestAnimationFrame(this.#f)}#_(s,c){let[f,p]=this.currentPath.at(-1);if(this.currentPath.length>1&&s===f&&c===p)return;let u=this.currentPath,y=this.#o;if(u.push([s,c]),this.#l=!0,u.length<=2){y.moveTo(...u[0]),y.lineTo(s,c);return}u.length===3&&(this.#o=y=new Path2D,y.moveTo(...u[0])),this.#D(y,...u.at(-3),...u.at(-2),s,c)}#w(){if(this.currentPath.length===0)return;let s=this.currentPath.at(-1);this.#o.lineTo(...s)}#M(s,c){this.#f=null,s=Math.min(Math.max(s,0),this.canvas.width),c=Math.min(Math.max(c,0),this.canvas.height),this.#_(s,c),this.#w();let f;if(this.currentPath.length!==1)f=this.#L();else{let z=[s,c];f=[[z,z.slice(),z.slice(),z]]}let p=this.#o,u=this.currentPath;this.currentPath=[],this.#o=new Path2D;let y=()=>{this.allRawPaths.push(u),this.paths.push(f),this.bezierPath2D.push(p),this.rebuild()},v=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#A(),this.#T()),this.#k())};this.addCommands({cmd:y,undo:v,mustExec:!0})}#O(){if(!this.#l)return;this.#l=!1;let s=Math.ceil(this.thickness*this.parentScale),c=this.currentPath.slice(-3),f=c.map(b=>b[0]),p=c.map(b=>b[1]),u=Math.min(...f)-s,y=Math.max(...f)+s,v=Math.min(...p)-s,z=Math.max(...p)+s,{ctx:g}=this;g.save(),g.clearRect(0,0,this.canvas.width,this.canvas.height);for(let b of this.bezierPath2D)g.stroke(b);g.stroke(this.#o),g.restore()}#D(s,c,f,p,u,y,v){let z=(c+p)/2,g=(f+u)/2,b=(p+y)/2,M=(u+v)/2;s.bezierCurveTo(z+2*(p-z)/3,g+2*(u-g)/3,b+2*(p-b)/3,M+2*(u-M)/3,b,M)}#L(){let s=this.currentPath;if(s.length<=2)return[[s[0],s[0],s.at(-1),s.at(-1)]];let c=[],f,[p,u]=s[0];for(f=1;f<s.length-2;f++){let[x,A]=s[f],[D,O]=s[f+1],Y=(x+D)/2,W=(A+O)/2,$=[p+2*(x-p)/3,u+2*(A-u)/3],Z=[Y+2*(x-Y)/3,W+2*(A-W)/3];c.push([[p,u],$,Z,[Y,W]]),[p,u]=[Y,W]}let[y,v]=s[f],[z,g]=s[f+1],b=[p+2*(y-p)/3,u+2*(v-u)/3],M=[z+2*(y-z)/3,g+2*(v-g)/3];return c.push([[p,u],b,M,[z,g]]),c}#b(){if(this.isEmpty()){this.#E();return}this.#y();let{canvas:s,ctx:c}=this;c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,s.width,s.height),this.#E();for(let f of this.bezierPath2D)c.stroke(f)}commit(){this.#c||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#c=!0,this.div.classList.add("disabled"),this.#k(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),this.enableEditMode())}canvasPointerdown(s){s.button!==0||!this.isInEditMode()||this.#c||(this.setInForeground(),s.preventDefault(),s.type!=="mouse"&&this.div.focus(),this.#S(s.offsetX,s.offsetY))}canvasPointermove(s){s.preventDefault(),this.#_(s.offsetX,s.offsetY)}canvasPointerup(s){s.preventDefault(),this.#P(s)}canvasPointerleave(s){this.#P(s)}#P(s){this.canvas.removeEventListener("pointerleave",this.#n),this.canvas.removeEventListener("pointermove",this.#i),this.canvas.removeEventListener("pointerup",this.#s),this.canvas.addEventListener("pointerdown",this.#a),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",o.noContextMenu)},10),this.#M(s.offsetX,s.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#A(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",n.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(s=>this.canvas?.setAttribute("aria-label",s)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#T(){this.#h=new ResizeObserver(s=>{let c=s[0].contentRect;c.width&&c.height&&this.setDimensions(c.width,c.height)}),this.#h.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#c}render(){if(this.div)return this.div;let s,c;this.width&&(s=this.x,c=this.y),super.render(),n.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(v=>this.div?.setAttribute("aria-label",v));let[f,p,u,y]=this.#u();if(this.setAt(f,p,0,0),this.setDims(u,y),this.#A(),this.width){let[v,z]=this.parentDimensions;this.setAspectRatio(this.width*v,this.height*z),this.setAt(s*v,c*z,this.width*v,this.height*z),this.#r=!0,this.#C(),this.setDims(this.width*v,this.height*z),this.#b(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#T(),this.div}#C(){if(!this.#r)return;let[s,c]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*s),this.canvas.height=Math.ceil(this.height*c),this.#E()}setDimensions(s,c){let f=Math.round(s),p=Math.round(c);if(this.#d===f&&this.#p===p)return;this.#d=f,this.#p=p,this.canvas.style.visibility="hidden";let[u,y]=this.parentDimensions;this.width=s/u,this.height=c/y,this.fixAndSetPosition(),this.#c&&this.#x(s,c),this.#C(),this.#b(),this.canvas.style.visibility="visible",this.fixDims()}#x(s,c){let f=this.#V(),p=(s-f)/this.#t,u=(c-f)/this.#e;this.scaleFactor=Math.min(p,u)}#E(){let s=this.#V()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+s,this.translationY*this.scaleFactor+s)}static#I(s){let c=new Path2D;for(let f=0,p=s.length;f<p;f++){let[u,y,v,z]=s[f];f===0&&c.moveTo(...u),c.bezierCurveTo(y[0],y[1],v[0],v[1],z[0],z[1])}return c}static#R(s,c,f){let[p,u,y,v]=c;switch(f){case 0:for(let z=0,g=s.length;z<g;z+=2)s[z]+=p,s[z+1]=v-s[z+1];break;case 90:for(let z=0,g=s.length;z<g;z+=2){let b=s[z];s[z]=s[z+1]+p,s[z+1]=b+u}break;case 180:for(let z=0,g=s.length;z<g;z+=2)s[z]=y-s[z],s[z+1]+=u;break;case 270:for(let z=0,g=s.length;z<g;z+=2){let b=s[z];s[z]=y-s[z+1],s[z+1]=v-b}break;default:throw new Error("Invalid rotation")}return s}static#H(s,c,f){let[p,u,y,v]=c;switch(f){case 0:for(let z=0,g=s.length;z<g;z+=2)s[z]-=p,s[z+1]=v-s[z+1];break;case 90:for(let z=0,g=s.length;z<g;z+=2){let b=s[z];s[z]=s[z+1]-u,s[z+1]=b-p}break;case 180:for(let z=0,g=s.length;z<g;z+=2)s[z]=y-s[z],s[z+1]-=u;break;case 270:for(let z=0,g=s.length;z<g;z+=2){let b=s[z];s[z]=v-s[z+1],s[z+1]=y-b}break;default:throw new Error("Invalid rotation")}return s}#N(s,c,f,p){let u=[],y=this.thickness/2,v=s*c+y,z=s*f+y;for(let g of this.paths){let b=[],M=[];for(let x=0,A=g.length;x<A;x++){let[D,O,Y,W]=g[x],$=s*D[0]+v,Z=s*D[1]+z,K=s*O[0]+v,R=s*O[1]+z,B=s*Y[0]+v,k=s*Y[1]+z,_=s*W[0]+v,C=s*W[1]+z;x===0&&(b.push($,Z),M.push($,Z)),b.push(K,R,B,k,_,C),M.push(K,R),x===A-1&&M.push(_,C)}u.push({bezier:d.#R(b,p,this.rotation),points:d.#R(M,p,this.rotation)})}return u}#F(){let s=1/0,c=-1/0,f=1/0,p=-1/0;for(let u of this.paths)for(let[y,v,z,g]of u){let b=t.Util.bezierBoundingBox(...y,...v,...z,...g);s=Math.min(s,b[0]),f=Math.min(f,b[1]),c=Math.max(c,b[2]),p=Math.max(p,b[3])}return[s,f,c,p]}#V(){return this.#c?Math.ceil(this.thickness*this.parentScale):0}#k(s=!1){if(this.isEmpty())return;if(!this.#c){this.#b();return}let c=this.#F(),f=this.#V();this.#t=Math.max(n.AnnotationEditor.MIN_SIZE,c[2]-c[0]),this.#e=Math.max(n.AnnotationEditor.MIN_SIZE,c[3]-c[1]);let p=Math.ceil(f+this.#t*this.scaleFactor),u=Math.ceil(f+this.#e*this.scaleFactor),[y,v]=this.parentDimensions;this.width=p/y,this.height=u/v,this.setAspectRatio(p,u);let z=this.translationX,g=this.translationY;this.translationX=-c[0],this.translationY=-c[1],this.#C(),this.#b(),this.#d=p,this.#p=u,this.setDims(p,u);let b=s?f/this.scaleFactor/2:0;this.translate(z-this.translationX-b,g-this.translationY-b)}static deserialize(s,c,f){if(s instanceof a.InkAnnotationElement)return null;let p=super.deserialize(s,c,f);p.thickness=s.thickness,p.color=t.Util.makeHexColor(...s.color),p.opacity=s.opacity;let[u,y]=p.pageDimensions,v=p.width*u,z=p.height*y,g=p.parentScale,b=s.thickness/2;p.#c=!0,p.#d=Math.round(v),p.#p=Math.round(z);let{paths:M,rect:x,rotation:A}=s;for(let{bezier:O}of M){O=d.#H(O,x,A);let Y=[];p.paths.push(Y);let W=g*(O[0]-b),$=g*(O[1]-b);for(let K=2,R=O.length;K<R;K+=6){let B=g*(O[K]-b),k=g*(O[K+1]-b),_=g*(O[K+2]-b),C=g*(O[K+3]-b),S=g*(O[K+4]-b),P=g*(O[K+5]-b);Y.push([[W,$],[B,k],[_,C],[S,P]]),W=S,$=P}let Z=this.#I(Y);p.bezierPath2D.push(Z)}let D=p.#F();return p.#t=Math.max(n.AnnotationEditor.MIN_SIZE,D[2]-D[0]),p.#e=Math.max(n.AnnotationEditor.MIN_SIZE,D[3]-D[1]),p.#x(v,z),p}serialize(){if(this.isEmpty())return null;let s=this.getRect(0,0),c=n.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:t.AnnotationEditorType.INK,color:c,thickness:this.thickness,opacity:this.opacity,paths:this.#N(this.scaleFactor/this.parentScale,this.translationX,this.translationY,s),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}return d})();e.InkEditor=m},(i,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var t=r(1),n=r(4),a=r(6),o=r(29);let l=(()=>{class m extends n.AnnotationEditor{#e=null;#t=null;#i=null;#n=null;#s=null;#a=null;#o=null;#c=null;#l=!1;#r=!1;static _type="stamp";constructor(h){super(Be(he({},h),{name:"stampEditor"})),this.#n=h.bitmapUrl,this.#s=h.bitmapFile}static initialize(h){n.AnnotationEditor.initialize(h)}static get supportedTypes(){let h=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,t.shadow)(this,"supportedTypes",h.map(s=>`image/${s}`))}static get supportedTypesStr(){return(0,t.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(h){return this.supportedTypes.includes(h)}static paste(h,s){s.pasteEditor(t.AnnotationEditorType.STAMP,{bitmapFile:h.getAsFile()})}#h(h,s=!1){if(!h){this.remove();return}this.#e=h.bitmap,s||(this.#t=h.id,this.#l=h.isSvg),this.#f()}#d(){this.#i=null,this._uiManager.enableWaiting(!1),this.#a&&this.div.focus()}#p(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(s=>this.#h(s,!0)).finally(()=>this.#d());return}if(this.#n){let s=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(s).then(c=>this.#h(c)).finally(()=>this.#d());return}if(this.#s){let s=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(s).then(c=>this.#h(c)).finally(()=>this.#d());return}let h=document.createElement("input");h.type="file",h.accept=m.supportedTypesStr,this.#i=new Promise(s=>{h.addEventListener("change",()=>ce(this,null,function*(){if(!h.files||h.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let c=yield this._uiManager.imageManager.getFromFile(h.files[0]);this.#h(c)}s()})),h.addEventListener("cancel",()=>{this.remove(),s()})}).finally(()=>this.#d()),h.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#o?.disconnect(),this.#o=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#p();return}super.rebuild(),this.div!==null&&(this.#t&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#n||this.#s)}get isResizable(){return!0}render(){if(this.div)return this.div;let h,s;if(this.width&&(h=this.x,s=this.y),super.render(),this.div.hidden=!0,this.#e?this.#f():this.#p(),this.width){let[c,f]=this.parentDimensions;this.setAt(h*c,s*f,this.width*c,this.height*f)}return this.div}#f(){let{div:h}=this,{width:s,height:c}=this.#e,[f,p]=this.pageDimensions,u=.75;if(this.width)s=this.width*f,c=this.height*p;else if(s>u*f||c>u*p){let g=Math.min(u*f/s,u*p/c);s*=g,c*=g}let[y,v]=this.parentDimensions;this.setDims(s*y/f,c*v/p),this._uiManager.enableWaiting(!1);let z=this.#a=document.createElement("canvas");h.append(z),h.hidden=!1,this.#v(s,c),this.#y(),this.#r||(this.parent.addUndoableEditor(this),this.#r=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#m(h,s){let[c,f]=this.parentDimensions;this.width=h/c,this.height=s/f,this.setDims(h,s),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#c!==null&&clearTimeout(this.#c);let p=200;this.#c=setTimeout(()=>{this.#c=null,this.#v(h,s)},p)}#g(h,s){let{width:c,height:f}=this.#e,p=c,u=f,y=this.#e;for(;p>2*h||u>2*s;){let v=p,z=u;p>2*h&&(p=p>=16384?Math.floor(p/2)-1:Math.ceil(p/2)),u>2*s&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));let g=new OffscreenCanvas(p,u);g.getContext("2d").drawImage(y,0,0,v,z,0,0,p,u),y=g.transferToImageBitmap()}return y}#v(h,s){h=Math.ceil(h),s=Math.ceil(s);let c=this.#a;if(!c||c.width===h&&c.height===s)return;c.width=h,c.height=s;let f=this.#l?this.#e:this.#g(h,s),p=c.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,h,s)}#u(h){if(h){if(this.#l){let f=this._uiManager.imageManager.getSvgUrl(this.#t);if(f)return f}let s=document.createElement("canvas");return{width:s.width,height:s.height}=this.#e,s.getContext("2d").drawImage(this.#e,0,0),s.toDataURL()}if(this.#l){let[s,c]=this.pageDimensions,f=Math.round(this.width*s*a.PixelsPerInch.PDF_TO_CSS_UNITS),p=Math.round(this.height*c*a.PixelsPerInch.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(f,p);return u.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,f,p),u.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#o=new ResizeObserver(h=>{let s=h[0].contentRect;s.width&&s.height&&this.#m(s.width,s.height)}),this.#o.observe(this.div)}static deserialize(h,s,c){if(h instanceof o.StampAnnotationElement)return null;let f=super.deserialize(h,s,c),{rect:p,bitmapUrl:u,bitmapId:y,isSvg:v,accessibilityData:z}=h;y&&c.imageManager.isValidId(y)?f.#t=y:f.#n=u,f.#l=v;let[g,b]=f.pageDimensions;return f.width=(p[2]-p[0])/g,f.height=(p[3]-p[1])/b,z&&(f.altTextData=z),f}serialize(h=!1,s=null){if(this.isEmpty())return null;let c={annotationType:t.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(h)return c.bitmapUrl=this.#u(!0),c.accessibilityData=this.altTextData,c;let{decorative:f,altText:p}=this.altTextData;if(!f&&p&&(c.accessibilityData={type:"Figure",alt:p}),s===null)return c;s.stamps||=new Map;let u=this.#l?(c.rect[2]-c.rect[0])*(c.rect[3]-c.rect[1]):null;if(!s.stamps.has(this.#t))s.stamps.set(this.#t,{area:u,serialized:c}),c.bitmap=this.#u(!1);else if(this.#l){let y=s.stamps.get(this.#t);u>y.area&&(y.area=u,y.serialized.bitmap.close(),y.serialized.bitmap=this.#u(!1))}return c}}return m})();e.StampEditor=l}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var e=__webpack_module_cache__[i];if(e!==void 0)return e.exports;var r=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return a.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return o.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return l.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(i,"DOMSVGFactory",{enumerable:!0,get:function(){return t.DOMSVGFactory}}),Object.defineProperty(i,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return m.GlobalWorkerOptions}}),Object.defineProperty(i,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return t.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return t.PixelsPerInch}}),Object.defineProperty(i,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return t.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return r.SVGGraphics}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return t.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return t.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return t.getXfaPageViewport}}),Object.defineProperty(i,"isDataScheme",{enumerable:!0,get:function(){return t.isDataScheme}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return t.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return t.loadScript}}),Object.defineProperty(i,"noContextMenu",{enumerable:!0,get:function(){return t.noContextMenu}}),Object.defineProperty(i,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return n.renderTextLayer}}),Object.defineProperty(i,"setLayerDimensions",{enumerable:!0,get:function(){return t.setLayerDimensions}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(i,"updateTextLayer",{enumerable:!0,get:function(){return n.updateTextLayer}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return r.version}});var e=__w_pdfjs_require__(1),r=__w_pdfjs_require__(2),t=__w_pdfjs_require__(6),n=__w_pdfjs_require__(26),a=__w_pdfjs_require__(27),o=__w_pdfjs_require__(5),l=__w_pdfjs_require__(29),m=__w_pdfjs_require__(14),d=__w_pdfjs_require__(32);let h="3.11.174",s="ce8716743"})(),__webpack_exports__})())});var C2=_i((Wa,a1)=>{"use strict";(function(e,r){typeof Wa=="object"&&typeof a1=="object"?a1.exports=e.pdfjsViewer=r():typeof define=="function"&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],()=>e.pdfjsViewer=r()):typeof Wa=="object"?Wa["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=r():e["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=r()})(globalThis,()=>(()=>{"use strict";var i=[,(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFindController=a.FindState=void 0;var l=o(2),m=o(3),d=o(4);let h={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};a.FindState=h;let s=250,c=-50,f=-400,p={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},u=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),y,v=new RegExp("\\p{M}+","gu"),z=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),g=new RegExp("([^\\p{M}])\\p{M}*$","u"),b=new RegExp("^\\p{M}*([^\\p{M}])","u"),M=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,x=new Map,A="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",D=new Map,O=null,Y=null;function W(K){let R=[],B;for(;(B=M.exec(K))!==null;){let{index:T}=B;for(let E of B[0]){let F=x.get(E);F||(F=E.normalize("NFD").length,x.set(E,F)),R.push([F,T++])}}let k;if(R.length===0&&O)k=O;else if(R.length>0&&Y)k=Y;else{let T=Object.keys(p).join(""),E=(0,m.getNormalizeWithNFKC)(),j=`([${T}])|([${E}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;R.length===0?k=O=new RegExp(j+"|(\\u0000)","gum"):k=Y=new RegExp(j+`|(${A})`,"gum")}let _=[];for(;(B=v.exec(K))!==null;)_.push([B[0].length,B.index]);let C=K.normalize("NFD"),S=[[0,0]],P=0,V=0,L=0,N=0,I=0,w=!1;return C=C.replace(k,(T,E,F,H,j,q,ie,Q,U,X)=>{if(X-=N,E){let G=p[E],J=G.length;for(let ne=1;ne<J;ne++)S.push([X-L+ne,L-ne]);return L-=J-1,G}if(F){let G=D.get(F);G||(G=F.normalize("NFKC"),D.set(F,G));let J=G.length;for(let ne=1;ne<J;ne++)S.push([X-L+ne,L-ne]);return L-=J-1,G}if(H)return w=!0,X+I===_[P]?.[1]?++P:(S.push([X-1-L+1,L-1]),L-=1,N+=1),S.push([X-L+1,L]),N+=1,I+=1,H.charAt(0);if(j){let G=j.endsWith(`
`),J=G?j.length-2:j.length;w=!0;let ne=J;X+I===_[P]?.[1]&&(ne-=_[P][0],++P);for(let se=1;se<=ne;se++)S.push([X-1-L+se,L-se]);return L-=ne,N+=ne,G?(X+=J-1,S.push([X-L+1,1+L]),L+=1,N+=1,I+=1,j.slice(0,J)):j}if(q){let G=q.length-2;return S.push([X-L+G,1+L]),L+=1,N+=1,I+=1,q.slice(0,-2)}if(ie){let G=ie.length-1;return S.push([X-L+G,L]),N+=1,I+=1,ie.slice(0,-1)}if(Q)return S.push([X-L+1,L-1]),L-=1,N+=1,I+=1," ";if(X+I===R[V]?.[1]){let G=R[V][0]-1;++V;for(let J=1;J<=G;J++)S.push([X-(L-J),L-J]);L-=G,N+=G}return U}),S.push([C.length,L]),[C,S,w]}function $(K,R,B){if(!K)return[R,B];let k=R,_=R+B-1,C=(0,l.binarySearchFirstItem)(K,N=>N[0]>=k);K[C][0]>k&&--C;let S=(0,l.binarySearchFirstItem)(K,N=>N[0]>=_,C);K[S][0]>_&&--S;let P=k+K[C][1],L=_+K[S][1]+1-P;return[P,L]}class Z{#e=null;#t=!0;#i=0;constructor({linkService:R,eventBus:B,updateMatchesCountOnProgress:k=!0}){this._linkService=R,this._eventBus=B,this.#t=k,this.onIsPageVisible=null,this.#s(),B._on("find",this.#n.bind(this)),B._on("findbarclose",this.#S.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(R){this._pdfDocument&&this.#s(),R&&(this._pdfDocument=R,this._firstPageCapability.resolve())}#n(R){if(!R)return;R.phraseSearch===!1&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),typeof R.query=="string"&&(R.query=R.query.match(/\S+/g)));let B=this._pdfDocument,{type:k}=R;(this.#e===null||this.#o(R))&&(this._dirtyMatch=!0),this.#e=R,k!=="highlightallchange"&&this.#M(h.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||B&&this._pdfDocument!==B)return;this.#d();let _=!this._highlightMatches,C=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),k?this._dirtyMatch?this.#m():k==="again"?(this.#m(),_&&this.#e.highlightAll&&this.#f()):k==="highlightallchange"?(C?this.#m():this._highlightMatches=!0,this.#f()):this.#m():this._findTimeout=setTimeout(()=>{this.#m(),this._findTimeout=null},s)})}scrollMatchIntoView({element:R=null,selectedLeft:B=0,pageIndex:k=-1,matchIndex:_=-1}){if(!this._scrollMatches||!R)return;if(_===-1||_!==this._selected.matchIdx)return;if(k===-1||k!==this._selected.pageIdx)return;this._scrollMatches=!1;let C={top:c,left:B+f};(0,l.scrollIntoView)(R,C,!0)}#s(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#i=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new d.PromiseCapability}get#a(){let{query:R}=this.#e;return typeof R=="string"?(R!==this._rawQuery&&(this._rawQuery=R,[this._normalizedQuery]=W(R)),this._normalizedQuery):(R||[]).filter(B=>!!B).map(B=>W(B)[0])}#o(R){let B=R.query,k=this.#e.query,_=typeof B;if(_!==typeof k)return!0;if(_==="string"){if(B!==k)return!0}else if(JSON.stringify(B)!==JSON.stringify(k))return!0;switch(R.type){case"again":let S=this._selected.pageIdx+1,P=this._linkService;return S>=1&&S<=P.pagesCount&&S!==P.page&&!(this.onIsPageVisible?.(S)??!0);case"highlightallchange":return!1}return!0}#c(R,B,k){let _=R.slice(0,B).match(g);if(_){let C=R.charCodeAt(B),S=_[1].charCodeAt(0);if((0,m.getCharacterType)(C)===(0,m.getCharacterType)(S))return!1}if(_=R.slice(B+k).match(b),_){let C=R.charCodeAt(B+k-1),S=_[1].charCodeAt(0);if((0,m.getCharacterType)(C)===(0,m.getCharacterType)(S))return!1}return!0}#l(R,B,k,_){let C=this._pageMatches[k]=[],S=this._pageMatchesLength[k]=[];if(!R)return;let P=this._pageDiffs[k],V;for(;(V=R.exec(_))!==null;){if(B&&!this.#c(_,V.index,V[0].length))continue;let[L,N]=$(P,V.index,V[0].length);N&&(C.push(L),S.push(N))}}#r(R,B){let{matchDiacritics:k}=this.#e,_=!1;R=R.replaceAll(z,(S,P,V,L,N,I)=>P?`[ ]*\\${P}[ ]*`:V?`[ ]*${V}[ ]*`:L?"[ ]+":k?N||I:N?u.has(N.charCodeAt(0))?N:"":B?(_=!0,`${I}\\p{M}*`):I);let C="[ ]*";return R.endsWith(C)&&(R=R.slice(0,R.length-C.length)),k&&B&&(y||=String.fromCharCode(...u),_=!0,R=`${R}(?=[${y}]|[^\\p{M}]|$)`),[_,R]}#h(R){let B=this.#a;if(B.length===0)return;let{caseSensitive:k,entireWord:_}=this.#e,C=this._pageContents[R],S=this._hasDiacritics[R],P=!1;typeof B=="string"?[P,B]=this.#r(B,S):B=B.sort().reverse().map(N=>{let[I,w]=this.#r(N,S);return P||=I,`(${w})`}).join("|");let V=`g${P?"u":""}${k?"":"i"}`;B=B?new RegExp(B,V):null,this.#l(B,_,R,C),this.#e.highlightAll&&this.#p(R),this._resumePageIdx===R&&(this._resumePageIdx=null,this.#v());let L=this._pageMatches[R].length;this._matchesCountTotal+=L,this.#t?L>0&&this.#w():++this.#i===this._linkService.pagesCount&&this.#w()}#d(){if(this._extractTextPromises.length>0)return;let R=Promise.resolve(),B={disableNormalization:!0};for(let k=0,_=this._linkService.pagesCount;k<_;k++){let C=new d.PromiseCapability;this._extractTextPromises[k]=C.promise,R=R.then(()=>this._pdfDocument.getPage(k+1).then(S=>S.getTextContent(B)).then(S=>{let P=[];for(let V of S.items)P.push(V.str),V.hasEOL&&P.push(`
`);[this._pageContents[k],this._pageDiffs[k],this._hasDiacritics[k]]=W(P.join("")),C.resolve()},S=>{console.error(`Unable to get text content for page ${k+1}`,S),this._pageContents[k]="",this._pageDiffs[k]=null,this._hasDiacritics[k]=!1,C.resolve()}))}}#p(R){this._scrollMatches&&this._selected.pageIdx===R&&(this._linkService.page=R+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:R})}#f(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#m(){let R=this.#e.findPrevious,B=this._linkService.page-1,k=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=B,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#i=0,this._matchesCountTotal=0,this.#f();for(let S=0;S<k;S++)this._pendingFindMatches.has(S)||(this._pendingFindMatches.add(S),this._extractTextPromises[S].then(()=>{this._pendingFindMatches.delete(S),this.#h(S)}))}if(this.#a.length===0){this.#M(h.FOUND);return}if(this._resumePageIdx)return;let C=this._offset;if(this._pagesToSearch=k,C.matchIdx!==null){let S=this._pageMatches[C.pageIdx].length;if(!R&&C.matchIdx+1<S||R&&C.matchIdx>0){C.matchIdx=R?C.matchIdx-1:C.matchIdx+1,this.#y(!0);return}this.#u(R)}this.#v()}#g(R){let B=this._offset,k=R.length,_=this.#e.findPrevious;return k?(B.matchIdx=_?k-1:0,this.#y(!0),!0):(this.#u(_),B.wrapped&&(B.matchIdx=null,this._pagesToSearch<0)?(this.#y(!1),!0):!1)}#v(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let R=null;do{let B=this._offset.pageIdx;if(R=this._pageMatches[B],!R){this._resumePageIdx=B;break}}while(!this.#g(R))}#u(R){let B=this._offset,k=this._linkService.pagesCount;B.pageIdx=R?B.pageIdx-1:B.pageIdx+1,B.matchIdx=null,this._pagesToSearch--,(B.pageIdx>=k||B.pageIdx<0)&&(B.pageIdx=R?k-1:0,B.wrapped=!0)}#y(R=!1){let B=h.NOT_FOUND,k=this._offset.wrapped;if(this._offset.wrapped=!1,R){let _=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,B=k?h.WRAPPED:h.FOUND,_!==-1&&_!==this._selected.pageIdx&&this.#p(_)}this.#M(B,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#p(this._selected.pageIdx))}#S(R){let B=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||B&&this._pdfDocument!==B||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#M(h.FOUND),this._highlightMatches=!1,this.#f())})}#_(){let{pageIdx:R,matchIdx:B}=this._selected,k=0,_=this._matchesCountTotal;if(B!==-1){for(let C=0;C<R;C++)k+=this._pageMatches[C]?.length||0;k+=B+1}return(k<1||k>_)&&(k=_=0),{current:k,total:_}}#w(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#_()})}#M(R,B=!1){!this.#t&&(this.#i!==this._linkService.pagesCount||R===h.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:R,previous:B,matchesCount:this.#_(),rawQuery:this.#e?.query??null})}}a.PDFFindController=Z},(n,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.animationStarted=a.VERTICAL_PADDING=a.UNKNOWN_SCALE=a.TextLayerMode=a.SpreadMode=a.SidebarView=a.ScrollMode=a.SCROLLBAR_PADDING=a.RenderingStates=a.ProgressBar=a.PresentationModeState=a.OutputScale=a.MIN_SCALE=a.MAX_SCALE=a.MAX_AUTO_SCALE=a.DEFAULT_SCALE_VALUE=a.DEFAULT_SCALE_DELTA=a.DEFAULT_SCALE=a.CursorTool=a.AutoPrintRegExp=void 0,a.apiPageLayoutToViewerModes=H,a.apiPageModeToSidebarView=j,a.approximateFraction=K,a.backtrackBeforeAllVisibleElements=k,a.binarySearchFirstItem=Z,a.docStyle=void 0,a.getActiveOrFocusedElement=F,a.getPageSizeInches=B,a.getVisibleElements=_,a.isPortraitOrientation=N,a.isValidRotation=P,a.isValidScrollMode=V,a.isValidSpreadMode=L,a.normalizeWheelEventDelta=S,a.normalizeWheelEventDirection=C,a.parseQueryString=Y,a.removeNullCharacters=$,a.roundToDivide=R,a.scrollIntoView=D,a.toggleCheckedBtn=q,a.toggleExpandedBtn=ie,a.watchScroll=O;let o="auto";a.DEFAULT_SCALE_VALUE=o;let l=1;a.DEFAULT_SCALE=l;let m=1.1;a.DEFAULT_SCALE_DELTA=m;let d=.1;a.MIN_SCALE=d;let h=10;a.MAX_SCALE=h;let s=0;a.UNKNOWN_SCALE=s;let c=1.25;a.MAX_AUTO_SCALE=c;let f=40;a.SCROLLBAR_PADDING=f;let p=5;a.VERTICAL_PADDING=p;let u={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};a.RenderingStates=u;let y={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};a.PresentationModeState=y;let v={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};a.SidebarView=v;let z={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};a.TextLayerMode=z;let g={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};a.ScrollMode=g;let b={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};a.SpreadMode=b;let M={SELECT:0,HAND:1,ZOOM:2};a.CursorTool=M;let x=/\bprint\s*\(/;a.AutoPrintRegExp=x;class A{constructor(){let U=window.devicePixelRatio||1;this.sx=U,this.sy=U}get scaled(){return this.sx!==1||this.sy!==1}}a.OutputScale=A;function D(Q,U,X=!1){let G=Q.offsetParent;if(!G){console.error("offsetParent is not set -- cannot scroll");return}let J=Q.offsetTop+Q.clientTop,ne=Q.offsetLeft+Q.clientLeft;for(;G.clientHeight===G.scrollHeight&&G.clientWidth===G.scrollWidth||X&&(G.classList.contains("markedContent")||getComputedStyle(G).overflow==="hidden");)if(J+=G.offsetTop,ne+=G.offsetLeft,G=G.offsetParent,!G)return;U&&(U.top!==void 0&&(J+=U.top),U.left!==void 0&&(ne+=U.left,G.scrollLeft=ne)),G.scrollTop=J}function O(Q,U){let X=function(ne){J||(J=window.requestAnimationFrame(function(){J=null;let le=Q.scrollLeft,pe=G.lastX;le!==pe&&(G.right=le>pe),G.lastX=le;let ge=Q.scrollTop,_e=G.lastY;ge!==_e&&(G.down=ge>_e),G.lastY=ge,U(G)}))},G={right:!0,down:!0,lastX:Q.scrollLeft,lastY:Q.scrollTop,_eventHandler:X},J=null;return Q.addEventListener("scroll",X,!0),G}function Y(Q){let U=new Map;for(let[X,G]of new URLSearchParams(Q))U.set(X.toLowerCase(),G);return U}let W=/[\x01-\x1F]/g;function $(Q,U=!1){return typeof Q!="string"?(console.error("The argument must be a string."),Q):(U&&(Q=Q.replaceAll(W," ")),Q.replaceAll("\0",""))}function Z(Q,U,X=0){let G=X,J=Q.length-1;if(J<0||!U(Q[J]))return Q.length;if(U(Q[G]))return G;for(;G<J;){let ne=G+J>>1,se=Q[ne];U(se)?J=ne:G=ne+1}return G}function K(Q){if(Math.floor(Q)===Q)return[Q,1];let U=1/Q,X=8;if(U>X)return[1,X];if(Math.floor(U)===U)return[1,U];let G=Q>1?U:Q,J=0,ne=1,se=1,le=1;for(;;){let ge=J+se,_e=ne+le;if(_e>X)break;G<=ge/_e?(se=ge,le=_e):(J=ge,ne=_e)}let pe;return G-J/ne<se/le-G?pe=G===Q?[J,ne]:[ne,J]:pe=G===Q?[se,le]:[le,se],pe}function R(Q,U){let X=Q%U;return X===0?Q:Math.round(Q-X+U)}function B({view:Q,userUnit:U,rotate:X}){let[G,J,ne,se]=Q,le=X%180!==0,pe=(ne-G)/72*U,ge=(se-J)/72*U;return{width:le?ge:pe,height:le?pe:ge}}function k(Q,U,X){if(Q<2)return Q;let G=U[Q].div,J=G.offsetTop+G.clientTop;J>=X&&(G=U[Q-1].div,J=G.offsetTop+G.clientTop);for(let ne=Q-2;ne>=0&&(G=U[ne].div,!(G.offsetTop+G.clientTop+G.clientHeight<=J));--ne)Q=ne;return Q}function _({scrollEl:Q,views:U,sortByVisibility:X=!1,horizontal:G=!1,rtl:J=!1}){let ne=Q.scrollTop,se=ne+Q.clientHeight,le=Q.scrollLeft,pe=le+Q.clientWidth;function ge(Kt){let Mt=Kt.div;return Mt.offsetTop+Mt.clientTop+Mt.clientHeight>ne}function _e(Kt){let Mt=Kt.div,re=Mt.offsetLeft+Mt.clientLeft,te=re+Mt.clientWidth;return J?re<pe:te>le}let Fe=[],kt=new Set,ft=U.length,Gt=Z(U,G?_e:ge);Gt>0&&Gt<ft&&!G&&(Gt=k(Gt,U,ne));let ht=G?pe:-1;for(let Kt=Gt;Kt<ft;Kt++){let Mt=U[Kt],re=Mt.div,te=re.offsetLeft+re.clientLeft,ee=re.offsetTop+re.clientTop,de=re.clientWidth,Ve=re.clientHeight,st=te+de,at=ee+Ve;if(ht===-1)at>=se&&(ht=at);else if((G?te:ee)>ht)break;if(at<=ne||ee>=se||st<=le||te>=pe)continue;let Oi=Math.max(0,ne-ee)+Math.max(0,at-se),Li=Math.max(0,le-te)+Math.max(0,st-pe),bi=(Ve-Oi)/Ve,Ct=(de-Li)/de,Fi=bi*Ct*100|0;Fe.push({id:Mt.id,x:te,y:ee,view:Mt,percent:Fi,widthPercent:Ct*100|0}),kt.add(Mt.id)}let ei=Fe[0],Nn=Fe.at(-1);return X&&Fe.sort(function(Kt,Mt){let re=Kt.percent-Mt.percent;return Math.abs(re)>.001?-re:Kt.id-Mt.id}),{first:ei,last:Nn,views:Fe,ids:kt}}function C(Q){let U=Math.hypot(Q.deltaX,Q.deltaY),X=Math.atan2(Q.deltaY,Q.deltaX);return-.25*Math.PI<X&&X<.75*Math.PI&&(U=-U),U}function S(Q){let U=Q.deltaMode,X=C(Q),G=30,J=30;return U===WheelEvent.DOM_DELTA_PIXEL?X/=G*J:U===WheelEvent.DOM_DELTA_LINE&&(X/=J),X}function P(Q){return Number.isInteger(Q)&&Q%90===0}function V(Q){return Number.isInteger(Q)&&Object.values(g).includes(Q)&&Q!==g.UNKNOWN}function L(Q){return Number.isInteger(Q)&&Object.values(b).includes(Q)&&Q!==b.UNKNOWN}function N(Q){return Q.width<=Q.height}let I=new Promise(function(Q){window.requestAnimationFrame(Q)});a.animationStarted=I;let w=document.documentElement.style;a.docStyle=w;function T(Q,U,X){return Math.min(Math.max(Q,U),X)}class E{#e=null;#t=null;#i=0;#n=null;#s=!0;constructor(U){this.#e=U.classList,this.#n=U.style}get percent(){return this.#i}set percent(U){if(this.#i=T(U,0,100),isNaN(U)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#n.setProperty("--progressBar-percent",`${this.#i}%`)}setWidth(U){if(!U)return;let G=U.parentNode.offsetWidth-U.offsetWidth;G>0&&this.#n.setProperty("--progressBar-end-offset",`${G}px`)}setDisableAutoFetch(U=5e3){isNaN(this.#i)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},U))}hide(){this.#s&&(this.#s=!1,this.#e.add("hidden"))}show(){this.#s||(this.#s=!0,this.#e.remove("hidden"))}}a.ProgressBar=E;function F(){let Q=document,U=Q.activeElement||Q.querySelector(":focus");for(;U?.shadowRoot;)Q=U.shadowRoot,U=Q.activeElement||Q.querySelector(":focus");return U}function H(Q){let U=g.VERTICAL,X=b.NONE;switch(Q){case"SinglePage":U=g.PAGE;break;case"OneColumn":break;case"TwoPageLeft":U=g.PAGE;case"TwoColumnLeft":X=b.ODD;break;case"TwoPageRight":U=g.PAGE;case"TwoColumnRight":X=b.EVEN;break}return{scrollMode:U,spreadMode:X}}function j(Q){switch(Q){case"UseNone":return v.NONE;case"UseThumbs":return v.THUMBS;case"UseOutlines":return v.OUTLINE;case"UseAttachments":return v.ATTACHMENTS;case"UseOC":return v.LAYERS}return v.NONE}function q(Q,U,X=null){Q.classList.toggle("toggled",U),Q.setAttribute("aria-checked",U),X?.classList.toggle("hidden",!U)}function ie(Q,U,X=null){Q.classList.toggle("toggled",U),Q.setAttribute("aria-expanded",U),X?.classList.toggle("hidden",!U)}},(n,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CharacterType=void 0,a.getCharacterType=v,a.getNormalizeWithNFKC=g;let o={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};a.CharacterType=o;function l(b){return b<11904}function m(b){return(b&65408)===0}function d(b){return b>=97&&b<=122||b>=65&&b<=90}function h(b){return b>=48&&b<=57}function s(b){return b===32||b===9||b===13||b===10}function c(b){return b>=13312&&b<=40959||b>=63744&&b<=64255}function f(b){return b>=12448&&b<=12543}function p(b){return b>=12352&&b<=12447}function u(b){return b>=65376&&b<=65439}function y(b){return(b&65408)===3584}function v(b){return l(b)?m(b)?s(b)?o.SPACE:d(b)||h(b)||b===95?o.ALPHA_LETTER:o.PUNCT:y(b)?o.THAI_LETTER:b===160?o.SPACE:o.ALPHA_LETTER:c(b)?o.HAN_LETTER:f(b)?o.KATAKANA_LETTER:p(b)?o.HIRAGANA_LETTER:u(b)?o.HALFWIDTH_KATAKANA_LETTER:o.ALPHA_LETTER}let z;function g(){return z||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",z}},n=>{n.exports=globalThis.pdfjsLib},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SimpleLinkService=a.PDFLinkService=a.LinkTarget=void 0;var l=o(2);let m="noopener noreferrer nofollow",d={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};a.LinkTarget=d;function h(f,{url:p,target:u,rel:y,enabled:v=!0}={}){if(!p||typeof p!="string")throw new Error('A valid "url" parameter must provided.');v?f.href=f.title=p:(f.href="",f.title=`Disabled: ${p}`,f.onclick=()=>!1);let z="";switch(u){case d.NONE:break;case d.SELF:z="_self";break;case d.BLANK:z="_blank";break;case d.PARENT:z="_parent";break;case d.TOP:z="_top";break}f.target=z,f.rel=typeof y=="string"?y:m}class s{#e=new Map;constructor({eventBus:p,externalLinkTarget:u=null,externalLinkRel:y=null,ignoreDestinationZoom:v=!1}={}){this.eventBus=p,this.externalLinkTarget=u,this.externalLinkRel=y,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=v,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(p,u=null){this.baseUrl=u,this.pdfDocument=p,this.#e.clear()}setViewer(p){this.pdfViewer=p}setHistory(p){this.pdfHistory=p}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(p){this.pdfViewer.currentPageNumber=p}get rotation(){return this.pdfViewer.pagesRotation}set rotation(p){this.pdfViewer.pagesRotation=p}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}#t(p,u=null,y){let v=y[0],z;if(typeof v=="object"&&v!==null){if(z=this._cachedPageNumber(v),!z){this.pdfDocument.getPageIndex(v).then(g=>{this.cachePageRef(g+1,v),this.#t(p,u,y)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${v}" is not a valid page reference, for dest="${p}".`)});return}}else if(Number.isInteger(v))z=v+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${v}" is not a valid destination reference, for dest="${p}".`);return}if(!z||z<1||z>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${z}" is not a valid page number, for dest="${p}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:u,explicitDest:y,pageNumber:z})),this.pdfViewer.scrollPageIntoView({pageNumber:z,destArray:y,ignoreDestinationZoom:this._ignoreDestinationZoom})}goToDestination(p){return ce(this,null,function*(){if(!this.pdfDocument)return;let u,y;if(typeof p=="string"?(u=p,y=yield this.pdfDocument.getDestination(p)):(u=null,y=yield p),!Array.isArray(y)){console.error(`PDFLinkService.goToDestination: "${y}" is not a valid destination array, for dest="${p}".`);return}this.#t(p,u,y)})}goToPage(p){if(!this.pdfDocument)return;let u=typeof p=="string"&&this.pdfViewer.pageLabelToPageNumber(p)||p|0;if(!(Number.isInteger(u)&&u>0&&u<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${p}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(u)),this.pdfViewer.scrollPageIntoView({pageNumber:u})}addLinkAttributes(p,u,y=!1){h(p,{url:u,target:y?d.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(p){if(typeof p=="string"){if(p.length>0)return this.getAnchorUrl("#"+escape(p))}else if(Array.isArray(p)){let u=JSON.stringify(p);if(u.length>0)return this.getAnchorUrl("#"+escape(u))}return this.getAnchorUrl("")}getAnchorUrl(p){return this.baseUrl?this.baseUrl+p:p}setHash(p){if(!this.pdfDocument)return;let u,y;if(p.includes("=")){let v=(0,l.parseQueryString)(p);if(v.has("search")){let z=v.get("search").replaceAll('"',""),g=v.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:g?z:z.match(/\S+/g)})}if(v.has("page")&&(u=v.get("page")|0||1),v.has("zoom")){let z=v.get("zoom").split(","),g=z[0],b=parseFloat(g);g.includes("Fit")?g==="Fit"||g==="FitB"?y=[null,{name:g}]:g==="FitH"||g==="FitBH"||g==="FitV"||g==="FitBV"?y=[null,{name:g},z.length>1?z[1]|0:null]:g==="FitR"?z.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):y=[null,{name:g},z[1]|0,z[2]|0,z[3]|0,z[4]|0]:console.error(`PDFLinkService.setHash: "${g}" is not a valid zoom value.`):y=[null,{name:"XYZ"},z.length>1?z[1]|0:null,z.length>2?z[2]|0:null,b?b/100:g]}y?this.pdfViewer.scrollPageIntoView({pageNumber:u||this.page,destArray:y,allowNegativeOffset:!0}):u&&(this.page=u),v.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:v.get("pagemode")}),v.has("nameddest")&&this.goToDestination(v.get("nameddest"))}else{y=unescape(p);try{y=JSON.parse(y),Array.isArray(y)||(y=y.toString())}catch{}if(typeof y=="string"||s.#i(y)){this.goToDestination(y);return}console.error(`PDFLinkService.setHash: "${unescape(p)}" is not a valid destination.`)}}executeNamedAction(p){switch(p){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:p})}executeSetOCGState(p){return ce(this,null,function*(){let u=this.pdfDocument,y=yield this.pdfViewer.optionalContentConfigPromise;if(u!==this.pdfDocument)return;let v;for(let z of p.state){switch(z){case"ON":case"OFF":case"Toggle":v=z;continue}switch(v){case"ON":y.setVisibility(z,!0);break;case"OFF":y.setVisibility(z,!1);break;case"Toggle":let g=y.getGroup(z);g&&y.setVisibility(z,!g.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(y)})}cachePageRef(p,u){if(!u)return;let y=u.gen===0?`${u.num}R`:`${u.num}R${u.gen}`;this.#e.set(y,p)}_cachedPageNumber(p){if(!p)return null;let u=p.gen===0?`${p.num}R`:`${p.num}R${p.gen}`;return this.#e.get(u)||null}static#i(p){if(!Array.isArray(p))return!1;let u=p.length;if(u<2)return!1;let y=p[0];if(!(typeof y=="object"&&Number.isInteger(y.num)&&Number.isInteger(y.gen))&&!(Number.isInteger(y)&&y>=0))return!1;let v=p[1];if(!(typeof v=="object"&&typeof v.name=="string"))return!1;let z=!0;switch(v.name){case"XYZ":if(u!==5)return!1;break;case"Fit":case"FitB":return u===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(u!==3)return!1;break;case"FitR":if(u!==6)return!1;z=!1;break;default:return!1}for(let g=2;g<u;g++){let b=p[g];if(!(typeof b=="number"||z&&b===null))return!1}return!0}}a.PDFLinkService=s;class c{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(p){}get rotation(){return 0}set rotation(p){}get isInPresentationMode(){return!1}goToDestination(p){return ce(this,null,function*(){})}goToPage(p){}addLinkAttributes(p,u,y=!1){h(p,{url:u,enabled:this.externalLinkEnabled})}getDestinationHash(p){return"#"}getAnchorUrl(p){return"#"}setHash(p){}executeNamedAction(p){}executeSetOCGState(p){}cachePageRef(p,u){}}a.SimpleLinkService=c},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayerBuilder=void 0;var l=o(4),m=o(7),d=o(2);class h{#e=null;constructor({pageDiv:c,pdfPage:f,linkService:p,downloadManager:u,annotationStorage:y=null,imageResourcesPath:v="",renderForms:z=!0,l10n:g=m.NullL10n,enableScripting:b=!1,hasJSActionsPromise:M=null,fieldObjectsPromise:x=null,annotationCanvasMap:A=null,accessibilityManager:D=null}){this.pageDiv=c,this.pdfPage=f,this.linkService=p,this.downloadManager=u,this.imageResourcesPath=v,this.renderForms=z,this.l10n=g,this.annotationStorage=y,this.enableScripting=b,this._hasJSActionsPromise=M||Promise.resolve(!1),this._fieldObjectsPromise=x||Promise.resolve(null),this._annotationCanvasMap=A,this._accessibilityManager=D,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=p.eventBus}render(c,f="display"){return ce(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:c.clone({dontFlip:!0})});return}let[p,u,y]=yield Promise.all([this.pdfPage.getAnnotations({intent:f}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let v=this.div=document.createElement("div");if(v.className="annotationLayer",this.pageDiv.append(v),p.length===0){this.hide();return}this.annotationLayer=new l.AnnotationLayer({div:v,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,l10n:this.l10n,page:this.pdfPage,viewport:c.clone({dontFlip:!0})}),yield this.annotationLayer.render({annotations:p,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:u,fieldObjects:y}),this.linkService.isInPresentationMode&&this.#t(d.PresentationModeState.FULLSCREEN),this.#e||(this.#e=z=>{this.#t(z.state)},this._eventBus?._on("presentationmodechanged",this.#e))})}cancel(){this._cancelled=!0,this.#e&&(this._eventBus?._off("presentationmodechanged",this.#e),this.#e=null)}hide(){this.div&&(this.div.hidden=!0)}#t(c){if(!this.div)return;let f=!1;switch(c){case d.PresentationModeState.FULLSCREEN:f=!0;break;case d.PresentationModeState.NORMAL:break;default:return}for(let p of this.div.childNodes)p.hasAttribute("data-internal-link")||(p.inert=f)}}a.AnnotationLayerBuilder=h},(n,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NullL10n=void 0,a.getL10nFallback=l;let o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};o.print_progress_percent="{{progress}}%";function l(s,c){switch(s){case"find_match_count":s=`find_match_count[${c.total===1?"one":"other"}]`;break;case"find_match_count_limit":s=`find_match_count_limit[${c.limit===1?"one":"other"}]`;break}return o[s]||""}function m(s,c){return c?s.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(f,p)=>p in c?c[p]:"{{"+p+"}}"):s}let d={getLanguage(){return ce(this,null,function*(){return"en-us"})},getDirection(){return ce(this,null,function*(){return"ltr"})},get(p){return ce(this,arguments,function*(s,c=null,f=l(s,c)){return m(f,c)})},translate(s){return ce(this,null,function*(){})}};a.NullL10n=d},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DownloadManager=void 0;var l=o(4);function m(h,s){let c=document.createElement("a");if(!c.click)throw new Error('DownloadManager: "a.click()" is not supported.');c.href=h,c.target="_parent","download"in c&&(c.download=s),(document.body||document.documentElement).append(c),c.click(),c.remove()}class d{#e=new WeakMap;downloadUrl(s,c,f){if(!(0,l.createValidAbsoluteUrl)(s,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${s}`);return}m(s+"#pdfjs.action=download",c)}downloadData(s,c,f){let p=URL.createObjectURL(new Blob([s],{type:f}));m(p,c)}openOrDownloadData(s,c,f){let u=(0,l.isPdfFile)(f)?"application/pdf":"";return this.downloadData(c,f,u),!1}download(s,c,f,p){let u=URL.createObjectURL(s);m(u,f)}}a.DownloadManager=d},(n,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WaitOnType=a.EventBus=a.AutomationEventBus=void 0,a.waitOnEventOrTimeout=l;let o={EVENT:"event",TIMEOUT:"timeout"};a.WaitOnType=o;function l({target:h,name:s,delay:c=0}){return new Promise(function(f,p){if(typeof h!="object"||!(s&&typeof s=="string")||!(Number.isInteger(c)&&c>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function u(g){h instanceof m?h._off(s,y):h.removeEventListener(s,y),z&&clearTimeout(z),f(g)}let y=u.bind(null,o.EVENT);h instanceof m?h._on(s,y):h.addEventListener(s,y);let v=u.bind(null,o.TIMEOUT),z=setTimeout(v,c)})}class m{#e=Object.create(null);on(s,c,f=null){this._on(s,c,{external:!0,once:f?.once})}off(s,c,f=null){this._off(s,c,{external:!0,once:f?.once})}dispatch(s,c){let f=this.#e[s];if(!f||f.length===0)return;let p;for(let{listener:u,external:y,once:v}of f.slice(0)){if(v&&this._off(s,u),y){(p||=[]).push(u);continue}u(c)}if(p){for(let u of p)u(c);p=null}}_on(s,c,f=null){(this.#e[s]||=[]).push({listener:c,external:f?.external===!0,once:f?.once===!0})}_off(s,c,f=null){let p=this.#e[s];if(p){for(let u=0,y=p.length;u<y;u++)if(p[u].listener===c){p.splice(u,1);return}}}}a.EventBus=m;class d extends m{dispatch(s,c){throw new Error("Not implemented: AutomationEventBus.dispatch")}}a.AutomationEventBus=d},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GenericL10n=void 0,o(11);var l=o(7);let m={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function d(s){return m[s?.toLowerCase()]||s}class h{constructor(c){let{webL10n:f}=document;this._lang=c,this._ready=new Promise((p,u)=>{f.setLanguage(d(c),()=>{p(f)})})}getLanguage(){return ce(this,null,function*(){return(yield this._ready).getLanguage()})}getDirection(){return ce(this,null,function*(){return(yield this._ready).getDirection()})}get(u){return ce(this,arguments,function*(c,f=null,p=(0,l.getL10nFallback)(c,f)){return(yield this._ready).get(c,f,p)})}translate(c){return ce(this,null,function*(){return(yield this._ready).translate(c)})}}a.GenericL10n=h},()=>{document.webL10n=function(n,a){var o={},l="",m="textContent",d="",h={},s="loading",c=!0;function f(){return a.querySelectorAll('link[type="application/l10n"]')}function p(){var $=a.querySelector('script[type="application/l10n"]');return $?JSON.parse($.innerHTML):null}function u($){return $?$.querySelectorAll("*[data-l10n-id]"):[]}function y($){if(!$)return{};var Z=$.getAttribute("data-l10n-id"),K=$.getAttribute("data-l10n-args"),R={};if(K)try{R=JSON.parse(K)}catch{console.warn("could not parse arguments for #"+Z)}return{id:Z,args:R}}function v($,Z,K){Z=Z||function(k){},K=K||function(){};var R=new XMLHttpRequest;R.open("GET",$,c),R.overrideMimeType&&R.overrideMimeType("text/plain; charset=utf-8"),R.onreadystatechange=function(){R.readyState==4&&(R.status==200||R.status===0?Z(R.responseText):K())},R.onerror=K,R.ontimeout=K;try{R.send(null)}catch{K()}}function z($,Z,K,R){var B=$.replace(/[^\/]*$/,"")||"./";function k(C){return C.lastIndexOf("\\")<0?C:C.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function _(C,S){var P={},V=/^\s*|\s*$/,L=/^\s*#|^\s*$/,N=/^\s*\[(.*)\]\s*$/,I=/^\s*@import\s+url\((.*)\)\s*$/i,w=/^([^=\s]*)\s*=\s*(.+)$/;function T(F,H,j){var q=F.replace(V,"").split(/[\r\n]+/),ie="*",Q=Z.split("-",1)[0],U=!1,X="";function G(){for(;;){if(!q.length){j();return}var J=q.shift();if(!L.test(J)){if(H){if(X=N.exec(J),X){ie=X[1].toLowerCase(),U=ie!=="*"&&ie!==Z&&ie!==Q;continue}else if(U)continue;if(X=I.exec(J),X){E(B+X[1],G);return}}var ne=J.match(w);ne&&ne.length==3&&(P[ne[1]]=k(ne[2]))}}}G()}function E(F,H){v(F,function(j){T(j,!1,H)},function(){console.warn(F+" not found."),H()})}T(C,!0,function(){S(P)})}v($,function(C){l+=C,_(C,function(S){for(var P in S){var V,L,N=P.lastIndexOf(".");N>0?(V=P.substring(0,N),L=P.substring(N+1)):(V=P,L=m),o[V]||(o[V]={}),o[V][L]=S[P]}K&&K()})},R)}function g($,Z){$&&($=$.toLowerCase()),Z=Z||function(){},b(),d=$;var K=f(),R=K.length;if(R===0){var B=p();if(B&&B.locales&&B.default_locale){if(console.log("using the embedded JSON directory, early way out"),o=B.locales[$],!o){var k=B.default_locale.toLowerCase();for(var _ in B.locales)if(_=_.toLowerCase(),_===$){o=B.locales[$];break}else _===k&&(o=B.locales[k])}Z()}else console.log("no resource to load, early way out");s="complete";return}var C=null,S=0;C=function(){S++,S>=R&&(Z(),s="complete")};function P(N){var I=N.href;this.load=function(w,T){z(I,w,T,function(){console.warn(I+" not found."),console.warn('"'+w+'" resource not found'),d="",T()})}}for(var V=0;V<R;V++){var L=new P(K[V]);L.load($,C)}}function b(){o={},l="",d=""}function M($){var Z={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function K(_,C){return C.indexOf(_)!==-1}function R(_,C,S){return C<=_&&_<=S}var B={0:function(_){return"other"},1:function(_){return R(_%100,3,10)?"few":_===0?"zero":R(_%100,11,99)?"many":_==2?"two":_==1?"one":"other"},2:function(_){return _!==0&&_%10===0?"many":_==2?"two":_==1?"one":"other"},3:function(_){return _==1?"one":"other"},4:function(_){return R(_,0,1)?"one":"other"},5:function(_){return R(_,0,2)&&_!=2?"one":"other"},6:function(_){return _===0?"zero":_%10==1&&_%100!=11?"one":"other"},7:function(_){return _==2?"two":_==1?"one":"other"},8:function(_){return R(_,3,6)?"few":R(_,7,10)?"many":_==2?"two":_==1?"one":"other"},9:function(_){return _===0||_!=1&&R(_%100,1,19)?"few":_==1?"one":"other"},10:function(_){return R(_%10,2,9)&&!R(_%100,11,19)?"few":_%10==1&&!R(_%100,11,19)?"one":"other"},11:function(_){return R(_%10,2,4)&&!R(_%100,12,14)?"few":_%10===0||R(_%10,5,9)||R(_%100,11,14)?"many":_%10==1&&_%100!=11?"one":"other"},12:function(_){return R(_,2,4)?"few":_==1?"one":"other"},13:function(_){return R(_%10,2,4)&&!R(_%100,12,14)?"few":_!=1&&R(_%10,0,1)||R(_%10,5,9)||R(_%100,12,14)?"many":_==1?"one":"other"},14:function(_){return R(_%100,3,4)?"few":_%100==2?"two":_%100==1?"one":"other"},15:function(_){return _===0||R(_%100,2,10)?"few":R(_%100,11,19)?"many":_==1?"one":"other"},16:function(_){return _%10==1&&_!=11?"one":"other"},17:function(_){return _==3?"few":_===0?"zero":_==6?"many":_==2?"two":_==1?"one":"other"},18:function(_){return _===0?"zero":R(_,0,2)&&_!==0&&_!=2?"one":"other"},19:function(_){return R(_,2,10)?"few":R(_,0,1)?"one":"other"},20:function(_){return(R(_%10,3,4)||_%10==9)&&!(R(_%100,10,19)||R(_%100,70,79)||R(_%100,90,99))?"few":_%1e6===0&&_!==0?"many":_%10==2&&!K(_%100,[12,72,92])?"two":_%10==1&&!K(_%100,[11,71,91])?"one":"other"},21:function(_){return _===0?"zero":_==1?"one":"other"},22:function(_){return R(_,0,1)||R(_,11,99)?"one":"other"},23:function(_){return R(_%10,1,2)||_%20===0?"one":"other"},24:function(_){return R(_,3,10)||R(_,13,19)?"few":K(_,[2,12])?"two":K(_,[1,11])?"one":"other"}},k=Z[$.replace(/-.*$/,"")];return k in B?B[k]:(console.warn("plural form unknown for ["+$+"]"),function(){return"other"})}h.plural=function($,Z,K,R){var B=parseFloat(Z);if(isNaN(B)||R!=m)return $;h._pluralRules||(h._pluralRules=M(d));var k="["+h._pluralRules(B)+"]";return B===0&&K+"[zero]"in o?$=o[K+"[zero]"][R]:B==1&&K+"[one]"in o?$=o[K+"[one]"][R]:B==2&&K+"[two]"in o?$=o[K+"[two]"][R]:K+k in o?$=o[K+k][R]:K+"[other]"in o&&($=o[K+"[other]"][R]),$};function x($,Z,K){var R=o[$];if(!R){if(console.warn("#"+$+" is undefined."),!K)return null;R=K}var B={};for(var k in R){var _=R[k];_=A(_,Z,$,k),_=D(_,Z,$),B[k]=_}return B}function A($,Z,K,R){var B=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,k=B.exec($);if(!k||!k.length)return $;var _=k[1],C=k[2],S;if(Z&&C in Z?S=Z[C]:C in o&&(S=o[C]),_ in h){var P=h[_];$=P($,S,K,R)}return $}function D($,Z,K){var R=/\{\{\s*(.+?)\s*\}\}/g;return $.replace(R,function(B,k){return Z&&k in Z?Z[k]:k in o?o[k]:(console.log("argument {{"+k+"}} for #"+K+" is undefined."),B)})}function O($){var Z=y($);if(Z.id){var K=x(Z.id,Z.args);if(!K){console.warn("#"+Z.id+" is undefined.");return}if(K[m]){if(Y($)===0)$[m]=K[m];else{for(var R=$.childNodes,B=!1,k=0,_=R.length;k<_;k++)R[k].nodeType===3&&/\S/.test(R[k].nodeValue)&&(B?R[k].nodeValue="":(R[k].nodeValue=K[m],B=!0));if(!B){var C=a.createTextNode(K[m]);$.prepend(C)}}delete K[m]}for(var S in K)$[S]=K[S]}}function Y($){if($.children)return $.children.length;if(typeof $.childElementCount<"u")return $.childElementCount;for(var Z=0,K=0;K<$.childNodes.length;K++)Z+=$.nodeType===1?1:0;return Z}function W($){$=$||a.documentElement;for(var Z=u($),K=Z.length,R=0;R<K;R++)O(Z[R]);O($)}return{get:function($,Z,K){var R=$.lastIndexOf("."),B=m;R>0&&(B=$.substring(R+1),$=$.substring(0,R));var k;K&&(k={},k[B]=K);var _=x($,Z,k);return _&&B in _?_[B]:"{{"+$+"}}"},getData:function(){return o},getText:function(){return l},getLanguage:function(){return d},setLanguage:function($,Z){g($,function(){Z&&Z()})},getDirection:function(){var $=["ar","he","fa","ps","ur"],Z=d.split("-",1)[0];return $.indexOf(Z)>=0?"rtl":"ltr"},translate:W,getReadyState:function(){return s},ready:function($){if($)s=="complete"||s=="interactive"?n.setTimeout(function(){$()}):a.addEventListener&&a.addEventListener("localized",function Z(){a.removeEventListener("localized",Z),$()});else return}}}(window,document)},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFHistory=void 0,a.isDestArraysEqual=u,a.isDestHashesEqual=p;var l=o(2),m=o(9);let d=1e3,h=50,s=1e3;function c(){return document.location.hash}class f{constructor({linkService:v,eventBus:z}){this.linkService=v,this.eventBus=z,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",g=>{this._isPagesLoaded=!!g.pagesCount},{once:!0})})}initialize({fingerprint:v,resetHistory:z=!1,updateUrl:g=!1}){if(!v||typeof v!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let b=this._fingerprint!==""&&this._fingerprint!==v;this._fingerprint=v,this._updateUrl=g===!0,this._initialized=!0,this._bindEvents();let M=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=c(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(M,!0)||z){let{hash:A,page:D,rotation:O}=this._parseCurrentHash(!0);if(!A||b||z){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:A,page:D,rotation:O},!0);return}let x=M.destination;this._updateInternalState(x,M.uid,!0),x.rotation!==void 0&&(this._initialRotation=x.rotation),x.dest?(this._initialBookmark=JSON.stringify(x.dest),this._destination.page=null):x.hash?this._initialBookmark=x.hash:x.page&&(this._initialBookmark=`page=${x.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:v=null,explicitDest:z,pageNumber:g}){if(!this._initialized)return;if(v&&typeof v!="string"){console.error(`PDFHistory.push: "${v}" is not a valid namedDest parameter.`);return}else if(Array.isArray(z)){if(!this._isValidPage(g)&&(g!==null||this._destination)){console.error(`PDFHistory.push: "${g}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${z}" is not a valid explicitDest parameter.`);return}let b=v||JSON.stringify(z);if(!b)return;let M=!1;if(this._destination&&(p(this._destination.hash,b)||u(this._destination.dest,z))){if(this._destination.page)return;M=!0}this._popStateInProgress&&!M||(this._pushOrReplaceState({dest:z,hash:b,page:g,rotation:this.linkService.rotation},M),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(v){if(this._initialized){if(!this._isValidPage(v)){console.error(`PDFHistory.pushPage: "${v}" is not a valid page number.`);return}this._destination?.page!==v&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${v}`,page:v,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;let v=window.history.state;this._isValidState(v)&&v.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let v=window.history.state;this._isValidState(v)&&v.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(v,z=!1){let g=z||!this._destination,b={fingerprint:this._fingerprint,uid:g?this._uid:this._uid+1,destination:v};this._updateInternalState(v,b.uid);let M;if(this._updateUrl&&v?.hash){let x=document.location.href.split("#")[0];x.startsWith("file://")||(M=`${x}#${v.hash}`)}g?window.history.replaceState(b,"",M):window.history.pushState(b,"",M)}_tryPushCurrentPosition(v=!1){if(!this._position)return;let z=this._position;if(v&&(z=Object.assign(Object.create(null),this._position),z.temporary=!0),!this._destination){this._pushOrReplaceState(z);return}if(this._destination.temporary){this._pushOrReplaceState(z,!0);return}if(this._destination.hash===z.hash||!this._destination.page&&(h<=0||this._numPositionUpdates<=h))return;let g=!1;if(this._destination.page>=z.first&&this._destination.page<=z.page){if(this._destination.dest!==void 0||!this._destination.first)return;g=!0}this._pushOrReplaceState(z,g)}_isValidPage(v){return Number.isInteger(v)&&v>0&&v<=this.linkService.pagesCount}_isValidState(v,z=!1){if(!v)return!1;if(v.fingerprint!==this._fingerprint)if(z){if(typeof v.fingerprint!="string"||v.fingerprint.length!==this._fingerprint.length)return!1;let[g]=performance.getEntriesByType("navigation");if(g?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(v.uid)||v.uid<0||v.destination===null||typeof v.destination!="object")}_updateInternalState(v,z,g=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),g&&v?.temporary&&delete v.temporary,this._destination=v,this._uid=z,this._maxUid=Math.max(this._maxUid,z),this._numPositionUpdates=0}_parseCurrentHash(v=!1){let z=unescape(c()).substring(1),g=(0,l.parseQueryString)(z),b=g.get("nameddest")||"",M=g.get("page")|0;return(!this._isValidPage(M)||v&&b.length>0)&&(M=null),{hash:z,page:M,rotation:this.linkService.rotation}}_updateViewarea({location:v}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:v.pdfOpenParams.substring(1),page:this.linkService.page,first:v.pageNumber,rotation:v.rotation},!this._popStateInProgress&&(h>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,s>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},s)))}_popState({state:v}){let z=c(),g=this._currentHash!==z;if(this._currentHash=z,!v){this._uid++;let{hash:M,page:x,rotation:A}=this._parseCurrentHash();this._pushOrReplaceState({hash:M,page:x,rotation:A},!0);return}if(!this._isValidState(v))return;this._popStateInProgress=!0,g&&(this._blockHashChange++,(0,m.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:d}).then(()=>{this._blockHashChange--}));let b=v.destination;this._updateInternalState(b,v.uid,!0),(0,l.isValidRotation)(b.rotation)&&(this.linkService.rotation=b.rotation),b.dest?this.linkService.goToDestination(b.dest):b.hash?this.linkService.setHash(b.hash):b.page&&(this.linkService.page=b.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}a.PDFHistory=f;function p(y,v){return typeof y!="string"||typeof v!="string"?!1:y===v||(0,l.parseQueryString)(y).get("nameddest")===v}function u(y,v){function z(g,b){if(typeof g!=typeof b||Array.isArray(g)||Array.isArray(b))return!1;if(g!==null&&typeof g=="object"&&b!==null){if(Object.keys(g).length!==Object.keys(b).length)return!1;for(let M in g)if(!z(g[M],b[M]))return!1;return!0}return g===b||Number.isNaN(g)&&Number.isNaN(b)}if(!(Array.isArray(y)&&Array.isArray(v))||y.length!==v.length)return!1;for(let g=0,b=y.length;g<b;g++)if(!z(y[g],v[g]))return!1;return!0}},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFPageView=void 0;var l=o(4),m=o(2),d=o(14),h=o(6),s=o(15),c=o(7),f=o(5),p=o(16),u=o(17),y=o(18),v=o(19),z=o(20);let g=s.compatibilityParams.maxCanvasPixels||16777216,b=()=>({annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new f.SimpleLinkService}});class M{#e=l.AnnotationMode.ENABLE_FORMS;#t=!1;#i=null;#n=null;#s=null;#a=null;#o=m.RenderingStates.INITIAL;#c=m.TextLayerMode.ENABLE;#l={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#r=new WeakMap;constructor(A){let D=A.container,O=A.defaultViewport;this.id=A.id,this.renderingId="page"+this.id,this.#i=A.layerProperties||b,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=A.scale||m.DEFAULT_SCALE,this.viewport=O,this.pdfPageRotate=O.rotation,this._optionalContentConfigPromise=A.optionalContentConfigPromise||null,this.#c=A.textLayerMode??m.TextLayerMode.ENABLE,this.#e=A.annotationMode??l.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=A.imageResourcesPath||"",this.isOffscreenCanvasSupported=A.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=A.maxCanvasPixels??g,this.pageColors=A.pageColors||null,this.eventBus=A.eventBus,this.renderingQueue=A.renderingQueue,this.l10n=A.l10n||c.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=D,A.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),this.maxCanvasPixels=0),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;let Y=document.createElement("div");if(Y.className="page",Y.setAttribute("data-page-number",this.id),Y.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(W=>{Y.setAttribute("aria-label",W)}),this.div=Y,this.#h(),D?.append(Y),this._isStandalone){D?.style.setProperty("--scale-factor",this.scale*l.PixelsPerInch.PDF_TO_CSS_UNITS);let{optionalContentConfigPromise:W}=A;W&&W.then($=>{W===this._optionalContentConfigPromise&&(this.#l.initialOptionalContent=$.hasInitialVisibility)})}}get renderingState(){return this.#o}set renderingState(A){if(A!==this.#o)switch(this.#o=A,this.#n&&(clearTimeout(this.#n),this.#n=null),A){case m.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case m.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),this.#n=setTimeout(()=>{this.div.classList.add("loading"),this.#n=null},0);break;case m.RenderingStates.INITIAL:case m.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#h(){let{viewport:A}=this;if(this.pdfPage){if(this.#s===A.rotation)return;this.#s=A.rotation}(0,l.setLayerDimensions)(this.div,A,!0,!1)}setPdfPage(A){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&this._container?.style.setProperty("--hcm-highligh-filter",A.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight")),this.pdfPage=A,this.pdfPageRotate=A.rotate;let D=(this.rotation+this.pdfPageRotate)%360;this.viewport=A.getViewport({scale:this.scale*l.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:D}),this.#h(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}get _textHighlighter(){return(0,l.shadow)(this,"_textHighlighter",new y.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#i().findController}))}#d(){return ce(this,null,function*(){let A=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(D){console.error(`#renderAnnotationLayer: "${D}".`),A=D}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:A})}})}#p(){return ce(this,null,function*(){let A=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(D){console.error(`#renderAnnotationEditorLayer: "${D}".`),A=D}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:A})}})}#f(){return ce(this,null,function*(){let A=null;try{let D=yield this.xfaLayer.render(this.viewport,"display");D?.textDivs&&this._textHighlighter&&this.#v(D.textDivs)}catch(D){console.error(`#renderXfaLayer: "${D}".`),A=D}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:A})}})}#m(){return ce(this,null,function*(){let{pdfPage:A,textLayer:D,viewport:O}=this;if(!D)return;let Y=null;try{if(!D.renderingDone){let W=A.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});D.setTextContentSource(W)}yield D.render(O)}catch(W){if(W instanceof l.AbortException)return;console.error(`#renderTextLayer: "${W}".`),Y=W}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:D.numTextDivs,error:Y}),this.#g()})}#g(){return ce(this,null,function*(){if(!this.textLayer)return;this.structTreeLayer||=new p.StructTreeLayerBuilder;let A=yield this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree(),D=this.structTreeLayer?.render(A);D&&this.canvas?.append(D),this.structTreeLayer?.show()})}#v(A){return ce(this,null,function*(){let D=yield this.pdfPage.getTextContent(),O=[];for(let Y of D.items)O.push(Y.str);this._textHighlighter.setTextMapping(A,O),this._textHighlighter.enable()})}_resetZoomLayer(A=!1){if(!this.zoomLayer)return;let D=this.zoomLayer.firstChild;this.#r.delete(D),D.width=0,D.height=0,A&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:A=!1,keepAnnotationLayer:D=!1,keepAnnotationEditorLayer:O=!1,keepXfaLayer:Y=!1,keepTextLayer:W=!1}={}){this.cancelRendering({keepAnnotationLayer:D,keepAnnotationEditorLayer:O,keepXfaLayer:Y,keepTextLayer:W}),this.renderingState=m.RenderingStates.INITIAL;let $=this.div,Z=$.childNodes,K=A&&this.zoomLayer||null,R=D&&this.annotationLayer?.div||null,B=O&&this.annotationEditorLayer?.div||null,k=Y&&this.xfaLayer?.div||null,_=W&&this.textLayer?.div||null;for(let C=Z.length-1;C>=0;C--){let S=Z[C];switch(S){case K:case R:case B:case k:case _:continue}S.remove()}$.removeAttribute("data-loaded"),R&&this.annotationLayer.hide(),B&&this.annotationEditorLayer.hide(),k&&this.xfaLayer.hide(),_&&this.textLayer.hide(),this.structTreeLayer?.hide(),K||(this.canvas&&(this.#r.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:A=0,rotation:D=null,optionalContentConfigPromise:O=null,drawingDelay:Y=-1}){this.scale=A||this.scale,typeof D=="number"&&(this.rotation=D),O instanceof Promise&&(this._optionalContentConfigPromise=O,O.then($=>{O===this._optionalContentConfigPromise&&(this.#l.initialOptionalContent=$.hasInitialVisibility)})),this.#l.directDrawing=!0;let W=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*l.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:W}),this.#h(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let $=!1;if(this.#t){if(this.maxCanvasPixels===0)$=!0;else if(this.maxCanvasPixels>0){let{width:K,height:R}=this.viewport,{sx:B,sy:k}=this.outputScale;$=(Math.floor(K)*B|0)*(Math.floor(R)*k|0)>this.maxCanvasPixels}}let Z=!$&&Y>=0&&Y<1e3;if(Z||$){if(Z&&this.renderingState!==m.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:Y}),this.renderingState=m.RenderingStates.FINISHED,this.#l.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!Z,hideTextLayer:Z}),Z)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#a});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:A=!1,keepAnnotationEditorLayer:D=!1,keepXfaLayer:O=!1,keepTextLayer:Y=!1,cancelExtraDelay:W=0}={}){this.renderTask&&(this.renderTask.cancel(W),this.renderTask=null),this.resume=null,this.textLayer&&(!Y||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!A||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!D||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!O||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:A,redrawAnnotationLayer:D=!1,redrawAnnotationEditorLayer:O=!1,redrawXfaLayer:Y=!1,redrawTextLayer:W=!1,hideTextLayer:$=!1}){if(!A.hasAttribute("zooming")){A.setAttribute("zooming",!0);let{style:K}=A;K.width=K.height=""}let Z=this.#r.get(A);if(this.viewport!==Z){let K=this.viewport.rotation-Z.rotation,R=Math.abs(K),B=1,k=1;if(R===90||R===270){let{width:_,height:C}=this.viewport;B=C/_,k=_/C}A.style.transform=`rotate(${K}deg) scale(${B}, ${k})`}D&&this.annotationLayer&&this.#d(),O&&this.annotationEditorLayer&&this.#p(),Y&&this.xfaLayer&&this.#f(),this.textLayer&&($?(this.textLayer.hide(),this.structTreeLayer?.hide()):W&&this.#m())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(A,D){return this.viewport.convertToPdfPoint(A,D)}#u(A,D=null){return ce(this,null,function*(){if(A===this.renderTask&&(this.renderTask=null),D instanceof l.RenderingCancelledException){this.#a=null;return}if(this.#a=D,this.renderingState=m.RenderingStates.FINISHED,this._resetZoomLayer(!0),this.#l.regularAnnotations=!A.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#a}),D)throw D})}draw(){return ce(this,null,function*(){this.renderingState!==m.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:A,l10n:D,pageColors:O,pdfPage:Y,viewport:W}=this;if(!Y)throw this.renderingState=m.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=m.RenderingStates.RUNNING;let $=document.createElement("div");if($.classList.add("canvasWrapper"),A.append($),!this.textLayer&&this.#c!==m.TextLayerMode.DISABLE&&!Y.isPureXfa&&(this._accessibilityManager||=new u.TextAccessibilityManager,this.textLayer=new v.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:this.#c===m.TextLayerMode.ENABLE_PERMISSIONS}),A.append(this.textLayer.div)),!this.annotationLayer&&this.#e!==l.AnnotationMode.DISABLE){let{annotationStorage:E,downloadManager:F,enableScripting:H,fieldObjectsPromise:j,hasJSActionsPromise:q,linkService:ie}=this.#i();this._annotationCanvasMap||=new Map,this.annotationLayer=new h.AnnotationLayerBuilder({pageDiv:A,pdfPage:Y,annotationStorage:E,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===l.AnnotationMode.ENABLE_FORMS,linkService:ie,downloadManager:F,l10n:D,enableScripting:H,hasJSActionsPromise:q,fieldObjectsPromise:j,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}let Z=E=>{if(_?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=m.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=m.RenderingStates.RUNNING,E()};return}E()},{width:K,height:R}=W,B=document.createElement("canvas");B.setAttribute("role","presentation"),B.hidden=!0;let k=!!(O?.background&&O?.foreground),_=E=>{(!k||E)&&(B.hidden=!1,_=null)};$.append(B),this.canvas=B;let C=B.getContext("2d",{alpha:!1}),S=this.outputScale=new m.OutputScale;if(this.maxCanvasPixels===0){let E=1/this.scale;S.sx*=E,S.sy*=E,this.#t=!0}else if(this.maxCanvasPixels>0){let E=K*R,F=Math.sqrt(this.maxCanvasPixels/E);S.sx>F||S.sy>F?(S.sx=F,S.sy=F,this.#t=!0):this.#t=!1}let P=(0,m.approximateFraction)(S.sx),V=(0,m.approximateFraction)(S.sy);B.width=(0,m.roundToDivide)(K*S.sx,P[0]),B.height=(0,m.roundToDivide)(R*S.sy,V[0]);let{style:L}=B;L.width=(0,m.roundToDivide)(K,P[1])+"px",L.height=(0,m.roundToDivide)(R,V[1])+"px",this.#r.set(B,W);let N=S.scaled?[S.sx,0,0,S.sy,0,0]:null,I={canvasContext:C,transform:N,viewport:W,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:O},w=this.renderTask=this.pdfPage.render(I);w.onContinue=Z;let T=w.promise.then(()=>ce(this,null,function*(){if(_?.(!0),yield this.#u(w),this.#m(),this.annotationLayer&&(yield this.#d()),!this.annotationEditorLayer){let{annotationEditorUIManager:E}=this.#i();if(!E)return;this.annotationEditorLayer=new d.AnnotationEditorLayerBuilder({uiManager:E,pageDiv:A,pdfPage:Y,l10n:D,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer})}this.#p()}),E=>(E instanceof l.RenderingCancelledException||_?.(!0),this.#u(w,E)));if(Y.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&A.append(this.xfaLayer.div);else{let{annotationStorage:E,linkService:F}=this.#i();this.xfaLayer=new z.XfaLayerBuilder({pageDiv:A,pdfPage:Y,annotationStorage:E,linkService:F})}this.#f()}return A.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),T})}setPageLabel(A){this.pageLabel=typeof A=="string"?A:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:A,initialOptionalContent:D,regularAnnotations:O}=this.#l;return A&&D&&O?this.canvas:null}}a.PDFPageView=M},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationEditorLayerBuilder=void 0;var l=o(4),m=o(7);class d{#e=null;#t;constructor(s){this.pageDiv=s.pageDiv,this.pdfPage=s.pdfPage,this.accessibilityManager=s.accessibilityManager,this.l10n=s.l10n||m.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#t=s.uiManager,this.#e=s.annotationLayer||null}render(s,c="display"){return ce(this,null,function*(){if(c!=="display"||this._cancelled)return;let f=s.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:f}),this.show();return}let p=this.div=document.createElement("div");p.className="annotationEditorLayer",p.tabIndex=0,p.hidden=!0,p.dir=this.#t.direction,this.pageDiv.append(p),this.annotationEditorLayer=new l.AnnotationEditorLayer({uiManager:this.#t,div:p,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:f,annotationLayer:this.#e});let u={viewport:f,div:p,annotations:null,intent:c};this.annotationEditorLayer.render(u),this.show()})}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}a.AnnotationEditorLayerBuilder=d},(n,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.compatibilityParams=a.OptionKind=a.AppOptions=void 0;let o=Object.create(null);a.compatibilityParams=o;{let s=navigator.userAgent||"",c=navigator.platform||"",f=navigator.maxTouchPoints||1,p=/Android/.test(s),u=/\b(iPad|iPhone|iPod)(?=;)/.test(s)||c==="MacIntel"&&f>1;(function(){(u||p)&&(o.maxCanvasPixels=5242880)})()}let l={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};a.OptionKind=l;let m={annotationEditorMode:{value:0,kind:l.VIEWER+l.PREFERENCE},annotationMode:{value:2,kind:l.VIEWER+l.PREFERENCE},cursorToolOnLoad:{value:0,kind:l.VIEWER+l.PREFERENCE},defaultZoomDelay:{value:400,kind:l.VIEWER+l.PREFERENCE},defaultZoomValue:{value:"",kind:l.VIEWER+l.PREFERENCE},disableHistory:{value:!1,kind:l.VIEWER},disablePageLabels:{value:!1,kind:l.VIEWER+l.PREFERENCE},enablePermissions:{value:!1,kind:l.VIEWER+l.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:l.VIEWER+l.PREFERENCE},enableScripting:{value:!0,kind:l.VIEWER+l.PREFERENCE},enableStampEditor:{value:!0,kind:l.VIEWER+l.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:l.VIEWER},externalLinkTarget:{value:0,kind:l.VIEWER+l.PREFERENCE},historyUpdateUrl:{value:!1,kind:l.VIEWER+l.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:l.VIEWER+l.PREFERENCE},imageResourcesPath:{value:"./images/",kind:l.VIEWER},maxCanvasPixels:{value:16777216,kind:l.VIEWER},forcePageColors:{value:!1,kind:l.VIEWER+l.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:l.VIEWER+l.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:l.VIEWER+l.PREFERENCE},pdfBugEnabled:{value:!1,kind:l.VIEWER+l.PREFERENCE},printResolution:{value:150,kind:l.VIEWER},sidebarViewOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},scrollModeOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},spreadModeOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},textLayerMode:{value:1,kind:l.VIEWER+l.PREFERENCE},viewerCssTheme:{value:0,kind:l.VIEWER+l.PREFERENCE},viewOnLoad:{value:0,kind:l.VIEWER+l.PREFERENCE},cMapPacked:{value:!0,kind:l.API},cMapUrl:{value:"../web/cmaps/",kind:l.API},disableAutoFetch:{value:!1,kind:l.API+l.PREFERENCE},disableFontFace:{value:!1,kind:l.API+l.PREFERENCE},disableRange:{value:!1,kind:l.API+l.PREFERENCE},disableStream:{value:!1,kind:l.API+l.PREFERENCE},docBaseUrl:{value:"",kind:l.API},enableXfa:{value:!0,kind:l.API+l.PREFERENCE},fontExtraProperties:{value:!1,kind:l.API},isEvalSupported:{value:!0,kind:l.API},isOffscreenCanvasSupported:{value:!0,kind:l.API},maxImageSize:{value:-1,kind:l.API},pdfBug:{value:!1,kind:l.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:l.API},verbosity:{value:1,kind:l.API},workerPort:{value:null,kind:l.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:l.WORKER}};m.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:l.VIEWER},m.disablePreferences={value:!1,kind:l.VIEWER},m.locale={value:navigator.language||"en-US",kind:l.VIEWER},m.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:l.VIEWER};let d=Object.create(null);class h{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(c){let f=d[c];if(f!==void 0)return f;let p=m[c];if(p!==void 0)return o[c]??p.value}static getAll(c=null){let f=Object.create(null);for(let p in m){let u=m[p];if(c){if(!(c&u.kind))continue;if(c===l.PREFERENCE){let v=u.value,z=typeof v;if(z==="boolean"||z==="string"||z==="number"&&Number.isInteger(v)){f[p]=v;continue}throw new Error(`Invalid type for preference: ${p}`)}}let y=d[p];f[p]=y!==void 0?y:o[p]??u.value}return f}static set(c,f){d[c]=f}static setAll(c){for(let f in c)d[f]=c[f]}static remove(c){delete d[c]}}a.AppOptions=h,h._hasUserOptions=function(){return Object.keys(d).length>0}},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StructTreeLayerBuilder=void 0;var l=o(2);let m={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},d=/^H(\d+)$/;class h{#e=void 0;get renderingDone(){return this.#e!==void 0}render(c){if(this.#e!==void 0)return this.#e;let f=this.#i(c);return f?.classList.add("structTree"),this.#e=f}hide(){this.#e&&!this.#e.hidden&&(this.#e.hidden=!0)}show(){this.#e?.hidden&&(this.#e.hidden=!1)}#t(c,f){let{alt:p,id:u,lang:y}=c;p!==void 0&&f.setAttribute("aria-label",(0,l.removeNullCharacters)(p)),u!==void 0&&f.setAttribute("aria-owns",u),y!==void 0&&f.setAttribute("lang",(0,l.removeNullCharacters)(y,!0))}#i(c){if(!c)return null;let f=document.createElement("span");if("role"in c){let{role:p}=c,u=p.match(d);u?(f.setAttribute("role","heading"),f.setAttribute("aria-level",u[1])):m[p]&&f.setAttribute("role",m[p])}if(this.#t(c,f),c.children)if(c.children.length===1&&"id"in c.children[0])this.#t(c.children[0],f);else for(let p of c.children)f.append(this.#i(p));return f}}a.StructTreeLayerBuilder=h},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TextAccessibilityManager=void 0;var l=o(2);class m{#e=!1;#t=null;#i=new Map;#n=new Map;setTextMapping(h){this.#t=h}static#s(h,s){let c=h.getBoundingClientRect(),f=s.getBoundingClientRect();if(c.width===0&&c.height===0)return 1;if(f.width===0&&f.height===0)return-1;let p=c.y,u=c.y+c.height,y=c.y+c.height/2,v=f.y,z=f.y+f.height,g=f.y+f.height/2;if(y<=v&&g>=u)return-1;if(g<=p&&y>=z)return 1;let b=c.x+c.width/2,M=f.x+f.width/2;return b-M}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(m.#s),this.#i.size>0){let h=this.#t;for(let[s,c]of this.#i){if(!document.getElementById(s)){this.#i.delete(s);continue}this.#a(s,h[c])}}for(let[h,s]of this.#n)this.addPointerInTextLayer(h,s);this.#n.clear()}disable(){this.#e&&(this.#n.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(h){if(!this.#e){this.#n.delete(h);return}let s=this.#t;if(!s||s.length===0)return;let{id:c}=h,f=this.#i.get(c);if(f===void 0)return;let p=s[f];this.#i.delete(c);let u=p.getAttribute("aria-owns");u?.includes(c)&&(u=u.split(" ").filter(y=>y!==c).join(" "),u?p.setAttribute("aria-owns",u):(p.removeAttribute("aria-owns"),p.setAttribute("role","presentation")))}#a(h,s){let c=s.getAttribute("aria-owns");c?.includes(h)||s.setAttribute("aria-owns",c?`${c} ${h}`:h),s.removeAttribute("role")}addPointerInTextLayer(h,s){let{id:c}=h;if(!c)return null;if(!this.#e)return this.#n.set(h,s),null;s&&this.removePointerInTextLayer(h);let f=this.#t;if(!f||f.length===0)return null;let p=(0,l.binarySearchFirstItem)(f,z=>m.#s(h,z)<0),u=Math.max(0,p-1),y=f[u];this.#a(c,y),this.#i.set(c,u);let v=y.parentNode;return v?.classList.contains("markedContent")?v.id:null}moveElementInDOM(h,s,c,f){let p=this.addPointerInTextLayer(c,f);if(!h.hasChildNodes())return h.append(s),p;let u=Array.from(h.childNodes).filter(z=>z!==s);if(u.length===0)return p;let y=c||s,v=(0,l.binarySearchFirstItem)(u,z=>m.#s(y,z)<0);return v===0?u[0].before(s):u[v-1].after(s),p}}a.TextAccessibilityManager=m},(n,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TextHighlighter=void 0;class o{constructor({findController:m,eventBus:d,pageIndex:h}){this.findController=m,this.matches=[],this.eventBus=d,this.pageIdx=h,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(m,d){this.textDivs=m,this.textContentItemsStr=d}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=m=>{(m.pageIndex===this.pageIdx||m.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(m,d){if(!m)return[];let{textContentItemsStr:h}=this,s=0,c=0,f=h.length-1,p=[];for(let u=0,y=m.length;u<y;u++){let v=m[u];for(;s!==f&&v>=c+h[s].length;)c+=h[s].length,s++;s===h.length&&console.error("Could not find a matching mapping");let z={begin:{divIdx:s,offset:v-c}};for(v+=d[u];s!==f&&v>c+h[s].length;)c+=h[s].length,s++;z.end={divIdx:s,offset:v-c},p.push(z)}return p}_renderMatches(m){if(m.length===0)return;let{findController:d,pageIdx:h}=this,{textContentItemsStr:s,textDivs:c}=this,f=h===d.selected.pageIdx,p=d.selected.matchIdx,u=d.state.highlightAll,y=null,v={divIdx:-1,offset:void 0};function z(D,O){let Y=D.divIdx;return c[Y].textContent="",g(Y,0,D.offset,O)}function g(D,O,Y,W){let $=c[D];if($.nodeType===Node.TEXT_NODE){let R=document.createElement("span");$.before(R),R.append($),c[D]=R,$=R}let Z=s[D].substring(O,Y),K=document.createTextNode(Z);if(W){let R=document.createElement("span");return R.className=`${W} appended`,R.append(K),$.append(R),W.includes("selected")?R.offsetLeft:0}return $.append(K),0}let b=p,M=b+1;if(u)b=0,M=m.length;else if(!f)return;let x=-1,A=-1;for(let D=b;D<M;D++){let O=m[D],Y=O.begin;if(Y.divIdx===x&&Y.offset===A)continue;x=Y.divIdx,A=Y.offset;let W=O.end,$=f&&D===p,Z=$?" selected":"",K=0;if(!y||Y.divIdx!==y.divIdx?(y!==null&&g(y.divIdx,y.offset,v.offset),z(Y)):g(y.divIdx,y.offset,Y.offset),Y.divIdx===W.divIdx)K=g(Y.divIdx,Y.offset,W.offset,"highlight"+Z);else{K=g(Y.divIdx,Y.offset,v.offset,"highlight begin"+Z);for(let R=Y.divIdx+1,B=W.divIdx;R<B;R++)c[R].className="highlight middle"+Z;z(W,"highlight end"+Z)}y=W,$&&d.scrollMatchIntoView({element:c[Y.divIdx],selectedLeft:K,pageIndex:h,matchIndex:p})}y&&g(y.divIdx,y.offset,v.offset)}_updateMatches(m=!1){if(!this.enabled&&!m)return;let{findController:d,matches:h,pageIdx:s}=this,{textContentItemsStr:c,textDivs:f}=this,p=-1;for(let v of h){let z=Math.max(p,v.begin.divIdx);for(let g=z,b=v.end.divIdx;g<=b;g++){let M=f[g];M.textContent=c[g],M.className=""}p=v.end.divIdx+1}if(!d?.highlightMatches||m)return;let u=d.pageMatches[s]||null,y=d.pageMatchesLength[s]||null;this.matches=this._convertMatches(u,y),this._renderMatches(this.matches)}}a.TextHighlighter=o},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TextLayerBuilder=void 0;var l=o(4),m=o(2);class d{#e=!1;#t=0;#i=0;#n=null;constructor({highlighter:s=null,accessibilityManager:c=null,isOffscreenCanvasSupported:f=!0,enablePermissions:p=!1}){this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=s,this.accessibilityManager=c,this.isOffscreenCanvasSupported=f,this.#e=p===!0,this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}#s(){this.renderingDone=!0;let s=document.createElement("div");s.className="endOfContent",this.div.append(s),this.#a()}get numTextDivs(){return this.textDivs.length}render(s){return ce(this,null,function*(){if(!this.#n)throw new Error('No "textContentSource" parameter specified.');let c=s.scale*(globalThis.devicePixelRatio||1),{rotation:f}=s;if(this.renderingDone){let p=f!==this.#t,u=c!==this.#i;(p||u)&&(this.hide(),(0,l.updateTextLayer)({container:this.div,viewport:s,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:u,mustRotate:p}),this.#i=c,this.#t=f),this.show();return}this.cancel(),this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs),this.textLayerRenderTask=(0,l.renderTextLayer)({textContentSource:this.#n,container:this.div,viewport:s,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported}),yield this.textLayerRenderTask.promise,this.#s(),this.#i=c,this.#t=f,this.show(),this.accessibilityManager?.enable()})}hide(){this.div.hidden||(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(s){this.cancel(),this.#n=s}#a(){let{div:s}=this;s.addEventListener("mousedown",c=>{let f=s.querySelector(".endOfContent");if(!f)return;let p=c.target!==s;if(p&&=getComputedStyle(f).getPropertyValue("-moz-user-select")!=="none",p){let u=s.getBoundingClientRect(),y=Math.max(0,(c.pageY-u.top)/u.height);f.style.top=(y*100).toFixed(2)+"%"}f.classList.add("active")}),s.addEventListener("mouseup",()=>{let c=s.querySelector(".endOfContent");c&&(c.style.top="",c.classList.remove("active"))}),s.addEventListener("copy",c=>{if(!this.#e){let f=document.getSelection();c.clipboardData.setData("text/plain",(0,m.removeNullCharacters)((0,l.normalizeUnicode)(f.toString())))}c.preventDefault(),c.stopPropagation()})}}a.TextLayerBuilder=d},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayerBuilder=void 0;var l=o(4);class m{constructor({pageDiv:h,pdfPage:s,annotationStorage:c=null,linkService:f,xfaHtml:p=null}){this.pageDiv=h,this.pdfPage=s,this.annotationStorage=c,this.linkService=f,this.xfaHtml=p,this.div=null,this._cancelled=!1}render(h,s="display"){return ce(this,null,function*(){if(s==="print"){let p={viewport:h.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:s},u=document.createElement("div");return this.pageDiv.append(u),p.div=u,l.XfaLayer.render(p)}let c=yield this.pdfPage.getXfa();if(this._cancelled||!c)return{textDivs:[]};let f={viewport:h.clone({dontFlip:!0}),div:this.div,xfaHtml:c,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:s};return this.div?l.XfaLayer.update(f):(this.div=document.createElement("div"),this.pageDiv.append(this.div),f.div=this.div,l.XfaLayer.render(f))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}a.XfaLayerBuilder=m},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFScriptingManager=void 0;var l=o(22),m=o(23);class d extends m.PDFScriptingManager{constructor(s){s.externalServices||window.addEventListener("updatefromsandbox",c=>{s.eventBus.dispatch("updatefromsandbox",{source:window,detail:c.detail})}),s.externalServices||={createScripting:({sandboxBundleSrc:c})=>new l.GenericScripting(c)},s.docProperties||=c=>(0,l.docProperties)(c),super(s)}}a.PDFScriptingManager=d},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GenericScripting=void 0,a.docProperties=m;var l=o(4);function m(h){return ce(this,null,function*(){let s="",c=s.split("#")[0],{info:f,metadata:p,contentDispositionFilename:u,contentLength:y}=yield h.getMetadata();if(!y){let{length:v}=yield h.getDownloadInfo();y=v}return Be(he({},f),{baseURL:c,filesize:y,filename:u||(0,l.getPdfFilenameFromUrl)(s),metadata:p?.getRaw(),authors:p?.get("dc:creator"),numPages:h.numPages,URL:s})})}class d{constructor(s){this._ready=(0,l.loadScript)(s,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(s){return ce(this,null,function*(){(yield this._ready).create(s)})}dispatchEventInSandbox(s){return ce(this,null,function*(){let c=yield this._ready;setTimeout(()=>c.dispatchEvent(s),0)})}destroySandbox(){return ce(this,null,function*(){(yield this._ready).nukeSandbox()})}}a.GenericScripting=d},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFScriptingManager=void 0;var l=o(2),m=o(4);class d{#e=null;#t=null;#i=null;#n=null;#s=null;#a=null;#o=null;#c=!1;#l=null;#r=null;#h=null;constructor({eventBus:s,sandboxBundleSrc:c=null,externalServices:f=null,docProperties:p=null}){this.#n=s,this.#l=c,this.#s=f,this.#i=p}setViewer(s){this.#o=s}setDocument(s){return ce(this,null,function*(){if(this.#a&&(yield this.#g()),this.#a=s,!s)return;let[c,f,p]=yield Promise.all([s.getFieldObjects(),s.getCalculationOrderIds(),s.getJSActions()]);if(!c&&!p){yield this.#g();return}if(s===this.#a){try{this.#r=this.#m()}catch(u){console.error(`setDocument: "${u.message}".`),yield this.#g();return}this._internalEvents.set("updatefromsandbox",u=>{u?.source===window&&this.#d(u.detail)}),this._internalEvents.set("dispatcheventinsandbox",u=>{this.#r?.dispatchEventInSandbox(u.detail)}),this._internalEvents.set("pagechanging",({pageNumber:u,previous:y})=>{u!==y&&(this.#f(y),this.#p(u))}),this._internalEvents.set("pagerendered",({pageNumber:u})=>{this._pageOpenPending.has(u)&&u===this.#o.currentPageNumber&&this.#p(u)}),this._internalEvents.set("pagesdestroy",()=>ce(this,null,function*(){yield this.#f(this.#o.currentPageNumber),yield this.#r?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}));for(let[u,y]of this._internalEvents)this.#n._on(u,y);try{let u=yield this.#i(s);if(s!==this.#a)return;yield this.#r.createSandbox({objects:c,calculationOrder:f,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Be(he({},u),{actions:p})}),this.#n.dispatch("sandboxcreated",{source:this})}catch(u){console.error(`setDocument: "${u.message}".`),yield this.#g();return}yield this.#r?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#p(this.#o.currentPageNumber,!0),Promise.resolve().then(()=>{s===this.#a&&(this.#c=!0)})}})}dispatchWillSave(){return ce(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return ce(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return ce(this,null,function*(){if(this.#r){yield this.#h?.promise,this.#h=new m.PromiseCapability;try{yield this.#r.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(s){throw this.#h.resolve(),this.#h=null,s}yield this.#h.promise}})}dispatchDidPrint(){return ce(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#c}get _internalEvents(){return(0,m.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,m.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,m.shadow)(this,"_visitedPages",new Map)}#d(s){return ce(this,null,function*(){let c=this.#o,f=c.isInPresentationMode||c.isChangingPresentationMode,{id:p,siblings:u,command:y,value:v}=s;if(!p){switch(y){case"clear":console.clear();break;case"error":console.error(v);break;case"layout":if(!f){let g=(0,l.apiPageLayoutToViewerModes)(v);c.spreadMode=g.spreadMode}break;case"page-num":c.currentPageNumber=v+1;break;case"print":yield c.pagesPromise,this.#n.dispatch("print",{source:this});break;case"println":console.log(v);break;case"zoom":f||(c.currentScaleValue=v);break;case"SaveAs":this.#n.dispatch("download",{source:this});break;case"FirstPage":c.currentPageNumber=1;break;case"LastPage":c.currentPageNumber=c.pagesCount;break;case"NextPage":c.nextPage();break;case"PrevPage":c.previousPage();break;case"ZoomViewIn":f||c.increaseScale();break;case"ZoomViewOut":f||c.decreaseScale();break;case"WillPrintFinished":this.#h?.resolve(),this.#h=null;break}return}if(f&&s.focus)return;delete s.id,delete s.siblings;let z=u?[p,...u]:[p];for(let g of z){let b=document.querySelector(`[data-element-id="${g}"]`);b?b.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:s})):this.#a?.annotationStorage.setValue(g,s)}})}#p(s,c=!1){return ce(this,null,function*(){let f=this.#a,p=this._visitedPages;if(c&&(this.#e=new m.PromiseCapability),!this.#e)return;let u=this.#o.getPageView(s-1);if(u?.renderingState!==l.RenderingStates.FINISHED){this._pageOpenPending.add(s);return}this._pageOpenPending.delete(s);let y=ce(this,null,function*(){let v=yield p.has(s)?null:u.pdfPage?.getJSActions();f===this.#a&&(yield this.#r?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:s,actions:v}))});p.set(s,y)})}#f(s){return ce(this,null,function*(){let c=this.#a,f=this._visitedPages;if(!this.#e||this._pageOpenPending.has(s))return;let p=f.get(s);p&&(f.set(s,null),yield p,c===this.#a&&(yield this.#r?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:s})))})}#m(){if(this.#t=new m.PromiseCapability,this.#r)throw new Error("#initScripting: Scripting already exists.");return this.#s.createScripting({sandboxBundleSrc:this.#l})}#g(){return ce(this,null,function*(){if(!this.#r){this.#a=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),this.#e=null),this.#a=null;try{yield this.#r.destroySandbox()}catch{}this.#h?.reject(new Error("Scripting destroyed.")),this.#h=null;for(let[s,c]of this._internalEvents)this.#n._off(s,c);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this.#r=null,this.#c=!1,this.#t?.resolve()})}}a.PDFScriptingManager=d},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFSinglePageViewer=void 0;var l=o(2),m=o(25);class d extends m.PDFViewer{_resetView(){super._resetView(),this._scrollMode=l.ScrollMode.PAGE,this._spreadMode=l.SpreadMode.NONE}set scrollMode(s){}_updateScrollMode(){}set spreadMode(s){}_updateSpreadMode(){}}a.PDFSinglePageViewer=d},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PagesCountLimit=a.PDFViewer=a.PDFPageViewBuffer=void 0;var l=o(4),m=o(2),d=o(7),h=o(13),s=o(26),c=o(5);let f=10,p={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};a.PagesCountLimit=p;function u(z){return Object.values(l.AnnotationEditorType).includes(z)&&z!==l.AnnotationEditorType.DISABLE}class y{#e=new Set;#t=0;constructor(g){this.#t=g}push(g){let b=this.#e;b.has(g)&&b.delete(g),b.add(g),b.size>this.#t&&this.#i()}resize(g,b=null){this.#t=g;let M=this.#e;if(b){let x=M.size,A=1;for(let D of M)if(b.has(D.id)&&(M.delete(D),M.add(D)),++A>x)break}for(;M.size>this.#t;)this.#i()}has(g){return this.#e.has(g)}[Symbol.iterator](){return this.#e.keys()}#i(){let g=this.#e.keys().next().value;g?.destroy(),this.#e.delete(g)}}a.PDFPageViewBuffer=y;class v{#e=null;#t=null;#i=l.AnnotationEditorType.NONE;#n=null;#s=l.AnnotationMode.ENABLE_FORMS;#a=null;#o=null;#c=!1;#l=!1;#r=null;#h=!1;#d=0;#p=new ResizeObserver(this.#x.bind(this));#f=null;#m=null;#g=null;#v=m.TextLayerMode.ENABLE;constructor(g){let b="3.11.174";if(l.version!==b)throw new Error(`The API version "${l.version}" does not match the Viewer version "${b}".`);if(this.container=g.container,this.viewer=g.viewer||g.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#p.observe(this.container),this.eventBus=g.eventBus,this.linkService=g.linkService||new c.SimpleLinkService,this.downloadManager=g.downloadManager||null,this.findController=g.findController||null,this.#t=g.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=M=>this._getVisiblePages().ids.has(M)),this._scriptingManager=g.scriptingManager||null,this.#v=g.textLayerMode??m.TextLayerMode.ENABLE,this.#s=g.annotationMode??l.AnnotationMode.ENABLE_FORMS,this.#i=g.annotationEditorMode??l.AnnotationEditorType.NONE,this.imageResourcesPath=g.imageResourcesPath||"",this.enablePrintAutoRotate=g.enablePrintAutoRotate||!1,this.removePageBorders=g.removePageBorders||!1,g.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),g.maxCanvasPixels=0),this.isOffscreenCanvasSupported=g.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=g.maxCanvasPixels,this.l10n=g.l10n||d.NullL10n,this.#c=g.enablePermissions||!1,this.pageColors=g.pageColors||null,this.defaultRenderingQueue=!g.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new s.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=g.renderingQueue,this.scroll=(0,m.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=m.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#C(),this.eventBus._on("thumbnailrendered",({pageNumber:M,pdfPage:x})=>{let A=this._pages[M-1];this.#e.has(A)||x?.cleanup()})}get pagesCount(){return this._pages.length}getPageView(g){return this._pages[g]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(g=>g?.pdfPage)}get renderForms(){return this.#s===l.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(g){if(!Number.isInteger(g))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(g,!0)||console.error(`currentPageNumber: "${g}" is not a valid page.`))}_setCurrentPageNumber(g,b=!1){if(this._currentPageNumber===g)return b&&this.#P(),!0;if(!(0<g&&g<=this.pagesCount))return!1;let M=this._currentPageNumber;return this._currentPageNumber=g,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:g,pageLabel:this._pageLabels?.[g-1]??null,previous:M}),b&&this.#P(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(g){if(!this.pdfDocument)return;let b=g|0;if(this._pageLabels){let M=this._pageLabels.indexOf(g);M>=0&&(b=M+1)}this._setCurrentPageNumber(b,!0)||console.error(`currentPageLabel: "${g}" is not a valid page.`)}get currentScale(){return this._currentScale!==m.UNKNOWN_SCALE?this._currentScale:m.DEFAULT_SCALE}set currentScale(g){if(isNaN(g))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#b(g,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(g){this.pdfDocument&&this.#b(g,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(g){if(!(0,m.isValidRotation)(g))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(g%=360,g<0&&(g+=360),this._pagesRotation===g))return;this._pagesRotation=g;let b=this._currentPageNumber;this.refresh(!0,{rotation:g}),this._currentScaleValue&&this.#b(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:g,pageNumber:b}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#u(){let g=this;return{get annotationEditorUIManager(){return g.#n},get annotationStorage(){return g.pdfDocument?.annotationStorage},get downloadManager(){return g.downloadManager},get enableScripting(){return!!g._scriptingManager},get fieldObjectsPromise(){return g.pdfDocument?.getFieldObjects()},get findController(){return g.findController},get hasJSActionsPromise(){return g.pdfDocument?.hasJSActions()},get linkService(){return g.linkService}}}#y(g){let b={annotationEditorMode:this.#i,annotationMode:this.#s,textLayerMode:this.#v};return g&&(!g.includes(l.PermissionFlag.COPY)&&this.#v===m.TextLayerMode.ENABLE&&(b.textLayerMode=m.TextLayerMode.ENABLE_PERMISSIONS),g.includes(l.PermissionFlag.MODIFY_CONTENTS)||(b.annotationEditorMode=l.AnnotationEditorType.DISABLE),!g.includes(l.PermissionFlag.MODIFY_ANNOTATIONS)&&!g.includes(l.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#s===l.AnnotationMode.ENABLE_FORMS&&(b.annotationMode=l.AnnotationMode.ENABLE)),b}#S(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();let g=new Promise(b=>{this.#m=()=>{document.visibilityState==="hidden"&&(b(),document.removeEventListener("visibilitychange",this.#m),this.#m=null)},document.addEventListener("visibilitychange",this.#m)});return Promise.race([this._onePageRenderedCapability.promise,g])}getAllText(){return ce(this,null,function*(){let g=[],b=[];for(let M=1,x=this.pdfDocument.numPages;M<=x;++M){if(this.#h)return null;b.length=0;let A=yield this.pdfDocument.getPage(M),{items:D}=yield A.getTextContent();for(let O of D)O.str&&b.push(O.str),O.hasEOL&&b.push(`
`);g.push((0,m.removeNullCharacters)(b.join("")))}return g.join(`
`)})}#_(g,b){let M=document.getSelection(),{focusNode:x,anchorNode:A}=M;if(A&&x&&M.containsNode(this.#r)){if(this.#l||g===m.TextLayerMode.ENABLE_PERMISSIONS){b.preventDefault(),b.stopPropagation();return}this.#l=!0;let D=this.container.style.cursor;this.container.style.cursor="wait";let O=Y=>this.#h=Y.key==="Escape";window.addEventListener("keydown",O),this.getAllText().then(Y=>ce(this,null,function*(){Y!==null&&(yield navigator.clipboard.writeText(Y))})).catch(Y=>{console.warn(`Something goes wrong when extracting the text: ${Y.message}`)}).finally(()=>{this.#l=!1,this.#h=!1,window.removeEventListener("keydown",O),this.container.style.cursor=D}),b.preventDefault(),b.stopPropagation()}}setDocument(g){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#n&&(this.#n.destroy(),this.#n=null)),this.pdfDocument=g,!g)return;let b=g.numPages,M=g.getPage(1),x=g.getOptionalContentConfig(),A=this.#c?g.getPermissions():Promise.resolve();if(b>p.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let D=this._scrollMode=m.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:D})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:b})},()=>{}),this._onBeforeDraw=D=>{let O=this._pages[D.pageNumber-1];O&&this.#e.push(O)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=D=>{D.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:D.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#m&&(document.removeEventListener("visibilitychange",this.#m),this.#m=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([M,A]).then(([D,O])=>{if(g!==this.pdfDocument)return;this._firstPageCapability.resolve(D),this._optionalContentConfigPromise=x;let{annotationEditorMode:Y,annotationMode:W,textLayerMode:$}=this.#y(O);if($!==m.TextLayerMode.DISABLE){let _=this.#r=document.createElement("div");_.id="hiddenCopyElement",this.viewer.before(_)}if(Y!==l.AnnotationEditorType.DISABLE){let _=Y;g.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):u(_)?(this.#n=new l.AnnotationEditorUIManager(this.container,this.viewer,this.#t,this.eventBus,g,this.pageColors),_!==l.AnnotationEditorType.NONE&&this.#n.updateMode(_)):console.error(`Invalid AnnotationEditor mode: ${_}`)}let Z=this.#u.bind(this),K=this._scrollMode===m.ScrollMode.PAGE?null:this.viewer,R=this.currentScale,B=D.getViewport({scale:R*l.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",B.scale),(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&this.viewer.style.setProperty("--hcm-highligh-filter",g.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let _=1;_<=b;++_){let C=new h.PDFPageView({container:K,eventBus:this.eventBus,id:_,scale:R,defaultViewport:B.clone(),optionalContentConfigPromise:x,renderingQueue:this.renderingQueue,textLayerMode:$,annotationMode:W,imageResourcesPath:this.imageResourcesPath,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:Z});this._pages.push(C)}let k=this._pages[0];k&&(k.setPdfPage(D),this.linkService.cachePageRef(1,D.ref)),this._scrollMode===m.ScrollMode.PAGE?this.#w():this._spreadMode!==m.SpreadMode.NONE&&this._updateSpreadMode(),this.#S().then(()=>ce(this,null,function*(){if(this.findController?.setDocument(g),this._scriptingManager?.setDocument(g),this.#r&&(this.#o=this.#_.bind(this,$),document.addEventListener("copy",this.#o)),this.#n&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:this.#i}),g.loadingParams.disableAutoFetch||b>p.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let _=b-1;if(_<=0){this._pagesCapability.resolve();return}for(let C=2;C<=b;++C){let S=g.getPage(C).then(P=>{let V=this._pages[C-1];V.pdfPage||V.setPdfPage(P),this.linkService.cachePageRef(C,P.ref),--_===0&&this._pagesCapability.resolve()},P=>{console.error(`Unable to get page ${C} to initialize viewer`,P),--_===0&&this._pagesCapability.resolve()});C%p.PAUSE_EAGER_PAGE_INIT===0&&(yield S)}})),this.eventBus.dispatch("pagesinit",{source:this}),g.getMetadata().then(({info:_})=>{g===this.pdfDocument&&_.Language&&(this.viewer.lang=_.Language)}),this.defaultRenderingQueue&&this.update()}).catch(D=>{console.error("Unable to initialize viewer",D),this._pagesCapability.reject(D)})}setPageLabels(g){if(this.pdfDocument){g?Array.isArray(g)&&this.pdfDocument.numPages===g.length?this._pageLabels=g:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let b=0,M=this._pages.length;b<M;b++)this._pages[b].setPageLabel(this._pageLabels?.[b]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=m.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new y(f),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new l.PromiseCapability,this._onePageRenderedCapability=new l.PromiseCapability,this._pagesCapability=new l.PromiseCapability,this._scrollMode=m.ScrollMode.VERTICAL,this._previousScrollMode=m.ScrollMode.UNKNOWN,this._spreadMode=m.SpreadMode.NONE,this.#f={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#m&&(document.removeEventListener("visibilitychange",this.#m),this.#m=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#r&&(document.removeEventListener("copy",this.#o),this.#o=null,this.#r.remove(),this.#r=null)}#w(){if(this._scrollMode!==m.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let g=this._currentPageNumber,b=this.#f,M=this.viewer;if(M.textContent="",b.pages.length=0,this._spreadMode===m.SpreadMode.NONE&&!this.isInPresentationMode){let x=this._pages[g-1];M.append(x.div),b.pages.push(x)}else{let x=new Set,A=this._spreadMode-1;A===-1?x.add(g-1):g%2!==A?(x.add(g-1),x.add(g)):(x.add(g-2),x.add(g-1));let D=document.createElement("div");if(D.className="spread",this.isInPresentationMode){let O=document.createElement("div");O.className="dummyPage",D.append(O)}for(let O of x){let Y=this._pages[O];Y&&(D.append(Y.div),b.pages.push(Y))}M.append(D)}b.scrollDown=g>=b.previousPageNumber,b.previousPageNumber=g}_scrollUpdate(){this.pagesCount!==0&&this.update()}#M(g,b=null){let{div:M,id:x}=g;if(this._currentPageNumber!==x&&this._setCurrentPageNumber(x),this._scrollMode===m.ScrollMode.PAGE&&(this.#w(),this.update()),!b&&!this.isInPresentationMode){let A=M.offsetLeft+M.clientLeft,D=A+M.clientWidth,{scrollLeft:O,clientWidth:Y}=this.container;(this._scrollMode===m.ScrollMode.HORIZONTAL||A<O||D>O+Y)&&(b={left:0,top:0})}(0,m.scrollIntoView)(M,b),!this._currentScaleValue&&this._location&&(this._location=null)}#O(g){return g===this._currentScale||Math.abs(g-this._currentScale)<1e-15}#D(g,b,{noScroll:M=!1,preset:x=!1,drawingDelay:A=-1}){if(this._currentScaleValue=b.toString(),this.#O(g)){x&&this.eventBus.dispatch("scalechanging",{source:this,scale:g,presetValue:b});return}this.viewer.style.setProperty("--scale-factor",g*l.PixelsPerInch.PDF_TO_CSS_UNITS);let D=A>=0&&A<1e3;if(this.refresh(!0,{scale:g,drawingDelay:D?A:-1}),D&&(this.#g=setTimeout(()=>{this.#g=null,this.refresh()},A)),this._currentScale=g,!M){let O=this._currentPageNumber,Y;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(O=this._location.pageNumber,Y=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:O,destArray:Y,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:g,presetValue:x?b:void 0}),this.defaultRenderingQueue&&this.update()}get#L(){return this._spreadMode!==m.SpreadMode.NONE&&this._scrollMode!==m.ScrollMode.HORIZONTAL?2:1}#b(g,b){let M=parseFloat(g);if(M>0)b.preset=!1,this.#D(M,g,b);else{let x=this._pages[this._currentPageNumber-1];if(!x)return;let A=m.SCROLLBAR_PADDING,D=m.VERTICAL_PADDING;this.isInPresentationMode?(A=D=4,this._spreadMode!==m.SpreadMode.NONE&&(A*=2)):this.removePageBorders?A=D=0:this._scrollMode===m.ScrollMode.HORIZONTAL&&([A,D]=[D,A]);let O=(this.container.clientWidth-A)/x.width*x.scale/this.#L,Y=(this.container.clientHeight-D)/x.height*x.scale;switch(g){case"page-actual":M=1;break;case"page-width":M=O;break;case"page-height":M=Y;break;case"page-fit":M=Math.min(O,Y);break;case"auto":let W=(0,m.isPortraitOrientation)(x)?O:Math.min(Y,O);M=Math.min(m.MAX_AUTO_SCALE,W);break;default:console.error(`#setScale: "${g}" is an unknown zoom value.`);return}b.preset=!0,this.#D(M,g,b)}}#P(){let g=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#b(this._currentScaleValue,{noScroll:!0}),this.#M(g)}pageLabelToPageNumber(g){if(!this._pageLabels)return null;let b=this._pageLabels.indexOf(g);return b<0?null:b+1}scrollPageIntoView({pageNumber:g,destArray:b=null,allowNegativeOffset:M=!1,ignoreDestinationZoom:x=!1}){if(!this.pdfDocument)return;let A=Number.isInteger(g)&&this._pages[g-1];if(!A){console.error(`scrollPageIntoView: "${g}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!b){this._setCurrentPageNumber(g,!0);return}let D=0,O=0,Y=0,W=0,$,Z,K=A.rotation%180!==0,R=(K?A.height:A.width)/A.scale/l.PixelsPerInch.PDF_TO_CSS_UNITS,B=(K?A.width:A.height)/A.scale/l.PixelsPerInch.PDF_TO_CSS_UNITS,k=0;switch(b[1].name){case"XYZ":D=b[2],O=b[3],k=b[4],D=D!==null?D:0,O=O!==null?O:B;break;case"Fit":case"FitB":k="page-fit";break;case"FitH":case"FitBH":O=b[2],k="page-width",O===null&&this._location?(D=this._location.left,O=this._location.top):(typeof O!="number"||O<0)&&(O=B);break;case"FitV":case"FitBV":D=b[2],Y=R,W=B,k="page-height";break;case"FitR":D=b[2],O=b[3],Y=b[4]-D,W=b[5]-O;let P=m.SCROLLBAR_PADDING,V=m.VERTICAL_PADDING;this.removePageBorders&&(P=V=0),$=(this.container.clientWidth-P)/Y/l.PixelsPerInch.PDF_TO_CSS_UNITS,Z=(this.container.clientHeight-V)/W/l.PixelsPerInch.PDF_TO_CSS_UNITS,k=Math.min(Math.abs($),Math.abs(Z));break;default:console.error(`scrollPageIntoView: "${b[1].name}" is not a valid destination type.`);return}if(x||(k&&k!==this._currentScale?this.currentScaleValue=k:this._currentScale===m.UNKNOWN_SCALE&&(this.currentScaleValue=m.DEFAULT_SCALE_VALUE)),k==="page-fit"&&!b[4]){this.#M(A);return}let _=[A.viewport.convertToViewportPoint(D,O),A.viewport.convertToViewportPoint(D+Y,O+W)],C=Math.min(_[0][0],_[1][0]),S=Math.min(_[0][1],_[1][1]);M||(C=Math.max(C,0),S=Math.max(S,0)),this.#M(A,{left:C,top:S})}_updateLocation(g){let b=this._currentScale,M=this._currentScaleValue,x=parseFloat(M)===b?Math.round(b*1e4)/100:M,A=g.id,D=this._pages[A-1],O=this.container,Y=D.getPagePoint(O.scrollLeft-g.x,O.scrollTop-g.y),W=Math.round(Y[0]),$=Math.round(Y[1]),Z=`#page=${A}`;this.isInPresentationMode||(Z+=`&zoom=${x},${W},${$}`),this._location={pageNumber:A,scale:x,top:$,left:W,rotation:this._pagesRotation,pdfOpenParams:Z}}update(){let g=this._getVisiblePages(),b=g.views,M=b.length;if(M===0)return;let x=Math.max(f,2*M+1);this.#e.resize(x,g.ids),this.renderingQueue.renderHighestPriority(g);let A=this._spreadMode===m.SpreadMode.NONE&&(this._scrollMode===m.ScrollMode.PAGE||this._scrollMode===m.ScrollMode.VERTICAL),D=this._currentPageNumber,O=!1;for(let Y of b){if(Y.percent<100)break;if(Y.id===D&&A){O=!0;break}}this._setCurrentPageNumber(O?D:b[0].id),this._updateLocation(g.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(g){return this.container.contains(g)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===m.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===m.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let g=this._scrollMode===m.ScrollMode.PAGE?this.#f.pages:this._pages,b=this._scrollMode===m.ScrollMode.HORIZONTAL,M=b&&this._isContainerRtl;return(0,m.getVisibleElements)({scrollEl:this.container,views:g,sortByVisibility:!0,horizontal:b,rtl:M})}cleanup(){for(let g of this._pages)g.renderingState!==m.RenderingStates.FINISHED&&g.reset()}_cancelRendering(){for(let g of this._pages)g.cancelRendering()}#A(g){return ce(this,null,function*(){if(g.pdfPage)return g.pdfPage;try{let b=yield this.pdfDocument.getPage(g.id);return g.pdfPage||g.setPdfPage(b),this.linkService._cachedPageNumber?.(b.ref)||this.linkService.cachePageRef(g.id,b.ref),b}catch(b){return console.error("Unable to get page for page view",b),null}})}#T(g){if(g.first?.id===1)return!0;if(g.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case m.ScrollMode.PAGE:return this.#f.scrollDown;case m.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(g){let b=g||this._getVisiblePages(),M=this.#T(b),x=this._spreadMode!==m.SpreadMode.NONE&&this._scrollMode!==m.ScrollMode.HORIZONTAL,A=this.renderingQueue.getHighestPriority(b,this._pages,M,x);return A?(this.#A(A).then(()=>{this.renderingQueue.renderView(A)}),!0):!1}get hasEqualPageSizes(){let g=this._pages[0];for(let b=1,M=this._pages.length;b<M;++b){let x=this._pages[b];if(x.width!==g.width||x.height!==g.height)return!1}return!0}getPagesOverview(){let g;return this._pages.map(b=>{let M=b.pdfPage.getViewport({scale:1}),x=(0,m.isPortraitOrientation)(M);if(g===void 0)g=x;else if(this.enablePrintAutoRotate&&x!==g)return{width:M.height,height:M.width,rotation:(M.rotation-90)%360};return{width:M.width,height:M.height,rotation:M.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(g){if(!(g instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${g}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=g,this.refresh(!1,{optionalContentConfigPromise:g}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:g}))}get scrollMode(){return this._scrollMode}set scrollMode(g){if(this._scrollMode!==g){if(!(0,m.isValidScrollMode)(g))throw new Error(`Invalid scroll mode: ${g}`);this.pagesCount>p.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=g,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:g}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(g=null){let b=this._scrollMode,M=this.viewer;M.classList.toggle("scrollHorizontal",b===m.ScrollMode.HORIZONTAL),M.classList.toggle("scrollWrapped",b===m.ScrollMode.WRAPPED),!(!this.pdfDocument||!g)&&(b===m.ScrollMode.PAGE?this.#w():this._previousScrollMode===m.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#b(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(g,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(g){if(this._spreadMode!==g){if(!(0,m.isValidSpreadMode)(g))throw new Error(`Invalid spread mode: ${g}`);this._spreadMode=g,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:g}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(g=null){if(!this.pdfDocument)return;let b=this.viewer,M=this._pages;if(this._scrollMode===m.ScrollMode.PAGE)this.#w();else if(b.textContent="",this._spreadMode===m.SpreadMode.NONE)for(let x of this._pages)b.append(x.div);else{let x=this._spreadMode-1,A=null;for(let D=0,O=M.length;D<O;++D)A===null?(A=document.createElement("div"),A.className="spread",b.append(A)):D%2===x&&(A=A.cloneNode(!1),b.append(A)),A.append(M[D].div)}g&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#b(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(g,!0),this.update())}_getPageAdvance(g,b=!1){switch(this._scrollMode){case m.ScrollMode.WRAPPED:{let{views:M}=this._getVisiblePages(),x=new Map;for(let{id:A,y:D,percent:O,widthPercent:Y}of M){if(O===0||Y<100)continue;let W=x.get(D);W||x.set(D,W||=[]),W.push(A)}for(let A of x.values()){let D=A.indexOf(g);if(D===-1)continue;let O=A.length;if(O===1)break;if(b)for(let Y=D-1,W=0;Y>=W;Y--){let $=A[Y],Z=A[Y+1]-1;if($<Z)return g-Z}else for(let Y=D+1,W=O;Y<W;Y++){let $=A[Y],Z=A[Y-1]+1;if($>Z)return Z-g}if(b){let Y=A[0];if(Y<g)return g-Y+1}else{let Y=A[O-1];if(Y>g)return Y-g+1}break}break}case m.ScrollMode.HORIZONTAL:break;case m.ScrollMode.PAGE:case m.ScrollMode.VERTICAL:{if(this._spreadMode===m.SpreadMode.NONE)break;let M=this._spreadMode-1;if(b&&g%2!==M)break;if(!b&&g%2===M)break;let{views:x}=this._getVisiblePages(),A=b?g-1:g+1;for(let{id:D,percent:O,widthPercent:Y}of x)if(D===A){if(O>0&&Y===100)return 2;break}break}}return 1}nextPage(){let g=this._currentPageNumber,b=this.pagesCount;if(g>=b)return!1;let M=this._getPageAdvance(g,!1)||1;return this.currentPageNumber=Math.min(g+M,b),!0}previousPage(){let g=this._currentPageNumber;if(g<=1)return!1;let b=this._getPageAdvance(g,!0)||1;return this.currentPageNumber=Math.max(g-b,1),!0}increaseScale({drawingDelay:g,scaleFactor:b,steps:M}={}){if(!this.pdfDocument)return;let x=this._currentScale;if(b>1)x=Math.round(x*b*100)/100;else{M??=1;do x=Math.ceil((x*m.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--M>0&&x<m.MAX_SCALE)}this.#b(Math.min(m.MAX_SCALE,x),{noScroll:!1,drawingDelay:g})}decreaseScale({drawingDelay:g,scaleFactor:b,steps:M}={}){if(!this.pdfDocument)return;let x=this._currentScale;if(b>0&&b<1)x=Math.round(x*b*100)/100;else{M??=1;do x=Math.floor((x/m.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--M>0&&x>m.MIN_SCALE)}this.#b(Math.max(m.MIN_SCALE,x),{noScroll:!1,drawingDelay:g})}#C(g=this.container.clientHeight){g!==this.#d&&(this.#d=g,m.docStyle.setProperty("--viewer-container-height",`${g}px`))}#x(g){for(let b of g)if(b.target===this.container){this.#C(Math.floor(b.borderBoxSize[0].blockSize)),this.#a=null;break}}get containerTopLeft(){return this.#a||=[this.container.offsetTop,this.container.offsetLeft]}get annotationEditorMode(){return this.#n?this.#i:l.AnnotationEditorType.DISABLE}set annotationEditorMode({mode:g,editId:b=null}){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");if(this.#i!==g){if(!u(g))throw new Error(`Invalid AnnotationEditor mode: ${g}`);this.pdfDocument&&(this.#i=g,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:g}),this.#n.updateMode(g,b))}}set annotationEditorParams({type:g,value:b}){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");this.#n.updateParams(g,b)}refresh(g=!1,b=Object.create(null)){if(this.pdfDocument){for(let M of this._pages)M.update(b);this.#g!==null&&(clearTimeout(this.#g),this.#g=null),g||this.update()}}}a.PDFViewer=v},(n,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFRenderingQueue=void 0;var l=o(4),m=o(2);let d=3e4;class h{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(c){this.pdfViewer=c}setThumbnailViewer(c){this.pdfThumbnailViewer=c}isHighestPriority(c){return this.highestPriorityPage===c.renderingId}renderHighestPriority(c){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(c)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),d)))}getHighestPriority(c,f,p,u=!1){let y=c.views,v=y.length;if(v===0)return null;for(let x=0;x<v;x++){let A=y[x].view;if(!this.isViewFinished(A))return A}let z=c.first.id,g=c.last.id;if(g-z+1>v){let x=c.ids;for(let A=1,D=g-z;A<D;A++){let O=p?z+A:g-A;if(x.has(O))continue;let Y=f[O-1];if(!this.isViewFinished(Y))return Y}}let b=p?g:z-2,M=f[b];return M&&!this.isViewFinished(M)||u&&(b+=p?1:-1,M=f[b],M&&!this.isViewFinished(M))?M:null}isViewFinished(c){return c.renderingState===m.RenderingStates.FINISHED}renderView(c){switch(c.renderingState){case m.RenderingStates.FINISHED:return!1;case m.RenderingStates.PAUSED:this.highestPriorityPage=c.renderingId,c.resume();break;case m.RenderingStates.RUNNING:this.highestPriorityPage=c.renderingId;break;case m.RenderingStates.INITIAL:this.highestPriorityPage=c.renderingId,c.draw().finally(()=>{this.renderHighestPriority()}).catch(f=>{f instanceof l.RenderingCancelledException||console.error(`renderView: "${f}"`)});break}return!0}}a.PDFRenderingQueue=h}],e={};function r(n){var a=e[n];if(a!==void 0)return a.exports;var o=e[n]={exports:{}};return i[n](o,o.exports,r),o.exports}var t={};return(()=>{var n=t;Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return m.AnnotationLayerBuilder}}),Object.defineProperty(n,"DownloadManager",{enumerable:!0,get:function(){return d.DownloadManager}}),Object.defineProperty(n,"EventBus",{enumerable:!0,get:function(){return h.EventBus}}),Object.defineProperty(n,"FindState",{enumerable:!0,get:function(){return a.FindState}}),Object.defineProperty(n,"GenericL10n",{enumerable:!0,get:function(){return s.GenericL10n}}),Object.defineProperty(n,"LinkTarget",{enumerable:!0,get:function(){return o.LinkTarget}}),Object.defineProperty(n,"NullL10n",{enumerable:!0,get:function(){return c.NullL10n}}),Object.defineProperty(n,"PDFFindController",{enumerable:!0,get:function(){return a.PDFFindController}}),Object.defineProperty(n,"PDFHistory",{enumerable:!0,get:function(){return f.PDFHistory}}),Object.defineProperty(n,"PDFLinkService",{enumerable:!0,get:function(){return o.PDFLinkService}}),Object.defineProperty(n,"PDFPageView",{enumerable:!0,get:function(){return p.PDFPageView}}),Object.defineProperty(n,"PDFScriptingManager",{enumerable:!0,get:function(){return u.PDFScriptingManager}}),Object.defineProperty(n,"PDFSinglePageViewer",{enumerable:!0,get:function(){return y.PDFSinglePageViewer}}),Object.defineProperty(n,"PDFViewer",{enumerable:!0,get:function(){return v.PDFViewer}}),Object.defineProperty(n,"ProgressBar",{enumerable:!0,get:function(){return l.ProgressBar}}),Object.defineProperty(n,"RenderingStates",{enumerable:!0,get:function(){return l.RenderingStates}}),Object.defineProperty(n,"ScrollMode",{enumerable:!0,get:function(){return l.ScrollMode}}),Object.defineProperty(n,"SimpleLinkService",{enumerable:!0,get:function(){return o.SimpleLinkService}}),Object.defineProperty(n,"SpreadMode",{enumerable:!0,get:function(){return l.SpreadMode}}),Object.defineProperty(n,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return z.StructTreeLayerBuilder}}),Object.defineProperty(n,"TextLayerBuilder",{enumerable:!0,get:function(){return g.TextLayerBuilder}}),Object.defineProperty(n,"XfaLayerBuilder",{enumerable:!0,get:function(){return b.XfaLayerBuilder}}),Object.defineProperty(n,"parseQueryString",{enumerable:!0,get:function(){return l.parseQueryString}});var a=r(1),o=r(5),l=r(2),m=r(6),d=r(8),h=r(9),s=r(10),c=r(7),f=r(12),p=r(13),u=r(21),y=r(24),v=r(25),z=r(16),g=r(19),b=r(20);let M="3.11.174",x="ce8716743"})(),t})())});var Zn=class{},Hi=class{},an=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(r=>{let t=r.indexOf(":");if(t>0){let n=r.slice(0,t),a=n.toLowerCase(),o=r.slice(t+1).trim();this.maybeSetNormalizedName(n,a),this.headers.has(a)?this.headers.get(a).push(o):this.headers.set(a,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,t)=>{this.setHeaderEntries(t,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,t])=>{this.setHeaderEntries(r,t)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){let r=new i;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){let r=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(e.name,r);let n=(e.op==="a"?this.headers.get(r):void 0)||[];n.push(...t),this.headers.set(r,n);break;case"d":let a=e.value;if(!a)this.headers.delete(r),this.normalizedNames.delete(r);else{let o=this.headers.get(r);if(!o)return;o=o.filter(l=>a.indexOf(l)===-1),o.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,o)}break}}setHeaderEntries(e,r){let t=(Array.isArray(r)?r:[r]).map(a=>a.toString()),n=e.toLowerCase();this.headers.set(n,t),this.maybeSetNormalizedName(e,n)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}};var vo=class{encodeKey(e){return K1(e)}encodeValue(e){return K1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function H2(i,e){let r=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(n=>{let a=n.indexOf("="),[o,l]=a==-1?[e.decodeKey(n),""]:[e.decodeKey(n.slice(0,a)),e.decodeValue(n.slice(a+1))],m=r.get(o)||[];m.push(l),r.set(o,m)}),r}var N2=/%(\d[a-f0-9])/gi,Y2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function K1(i){return encodeURIComponent(i).replace(N2,(e,r)=>Y2[r]??e)}function $r(i){return`${i}`}var Ri=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vo,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=H2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{let t=e.fromObject[r],n=Array.isArray(t)?t.map($r):[$r(t)];this.map.set(r,n)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){let r=[];return Object.keys(e).forEach(t=>{let n=e[t];Array.isArray(n)?n.forEach(a=>{r.push({param:t,value:a,op:"a"})}):r.push({param:t,value:n,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let r=this.encoder.encodeKey(e);return this.map.get(e).map(t=>r+"="+this.encoder.encodeValue(t)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let r=new i({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let r=(e.op==="a"?this.map.get(e.param):void 0)||[];r.push($r(e.value)),this.map.set(e.param,r);break;case"d":if(e.value!==void 0){let t=this.map.get(e.param)||[],n=t.indexOf($r(e.value));n!==-1&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var yo=class{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function B2(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function X1(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Z1(i){return typeof Blob<"u"&&i instanceof Blob}function Q1(i){return typeof FormData<"u"&&i instanceof FormData}function j2(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Xn=class i{constructor(e,r,t,n){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let a;if(B2(this.method)||n?(this.body=t!==void 0?t:null,a=n):a=t,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),this.transferCache=a.transferCache),this.headers??=new an,this.context??=new yo,!this.params)this.params=new Ri,this.urlWithParams=r;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=r;else{let l=r.indexOf("?"),m=l===-1?"?":l<r.length-1?"&":"";this.urlWithParams=r+m+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||X1(this.body)||Z1(this.body)||Q1(this.body)||j2(this.body)?this.body:this.body instanceof Ri?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Q1(this.body)?null:Z1(this.body)?this.body.type||null:X1(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ri?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let r=e.method||this.method,t=e.url||this.url,n=e.responseType||this.responseType,a=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,l=e.withCredentials??this.withCredentials,m=e.reportProgress??this.reportProgress,d=e.headers||this.headers,h=e.params||this.params,s=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((c,f)=>c.set(f,e.setHeaders[f]),d)),e.setParams&&(h=Object.keys(e.setParams).reduce((c,f)=>c.set(f,e.setParams[f]),h)),new i(r,t,o,{params:h,headers:d,context:s,reportProgress:m,responseType:n,withCredentials:l,transferCache:a})}},Pn=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(Pn||{}),Qn=class{constructor(e,r=Kr.Ok,t="OK"){this.headers=e.headers||new an,this.status=e.status!==void 0?e.status:r,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},bo=class i extends Qn{constructor(e={}){super(e),this.type=Pn.ResponseHeader}clone(e={}){return new i({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},qr=class i extends Qn{constructor(e={}){super(e),this.type=Pn.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Gr=class extends Qn{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Kr=function(i){return i[i.Continue=100]="Continue",i[i.SwitchingProtocols=101]="SwitchingProtocols",i[i.Processing=102]="Processing",i[i.EarlyHints=103]="EarlyHints",i[i.Ok=200]="Ok",i[i.Created=201]="Created",i[i.Accepted=202]="Accepted",i[i.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",i[i.NoContent=204]="NoContent",i[i.ResetContent=205]="ResetContent",i[i.PartialContent=206]="PartialContent",i[i.MultiStatus=207]="MultiStatus",i[i.AlreadyReported=208]="AlreadyReported",i[i.ImUsed=226]="ImUsed",i[i.MultipleChoices=300]="MultipleChoices",i[i.MovedPermanently=301]="MovedPermanently",i[i.Found=302]="Found",i[i.SeeOther=303]="SeeOther",i[i.NotModified=304]="NotModified",i[i.UseProxy=305]="UseProxy",i[i.Unused=306]="Unused",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.PaymentRequired=402]="PaymentRequired",i[i.Forbidden=403]="Forbidden",i[i.NotFound=404]="NotFound",i[i.MethodNotAllowed=405]="MethodNotAllowed",i[i.NotAcceptable=406]="NotAcceptable",i[i.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",i[i.RequestTimeout=408]="RequestTimeout",i[i.Conflict=409]="Conflict",i[i.Gone=410]="Gone",i[i.LengthRequired=411]="LengthRequired",i[i.PreconditionFailed=412]="PreconditionFailed",i[i.PayloadTooLarge=413]="PayloadTooLarge",i[i.UriTooLong=414]="UriTooLong",i[i.UnsupportedMediaType=415]="UnsupportedMediaType",i[i.RangeNotSatisfiable=416]="RangeNotSatisfiable",i[i.ExpectationFailed=417]="ExpectationFailed",i[i.ImATeapot=418]="ImATeapot",i[i.MisdirectedRequest=421]="MisdirectedRequest",i[i.UnprocessableEntity=422]="UnprocessableEntity",i[i.Locked=423]="Locked",i[i.FailedDependency=424]="FailedDependency",i[i.TooEarly=425]="TooEarly",i[i.UpgradeRequired=426]="UpgradeRequired",i[i.PreconditionRequired=428]="PreconditionRequired",i[i.TooManyRequests=429]="TooManyRequests",i[i.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",i[i.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",i[i.InternalServerError=500]="InternalServerError",i[i.NotImplemented=501]="NotImplemented",i[i.BadGateway=502]="BadGateway",i[i.ServiceUnavailable=503]="ServiceUnavailable",i[i.GatewayTimeout=504]="GatewayTimeout",i[i.HttpVersionNotSupported=505]="HttpVersionNotSupported",i[i.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",i[i.InsufficientStorage=507]="InsufficientStorage",i[i.LoopDetected=508]="LoopDetected",i[i.NotExtended=510]="NotExtended",i[i.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",i}(Kr||{});function go(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var Jn=(()=>{let e=class e{constructor(t){this.handler=t}request(t,n,a={}){let o;if(t instanceof Xn)o=t;else{let d;a.headers instanceof an?d=a.headers:d=new an(a.headers);let h;a.params&&(a.params instanceof Ri?h=a.params:h=new Ri({fromObject:a.params})),o=new Xn(t,n,a.body!==void 0?a.body:null,{headers:d,context:a.context,params:h,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}let l=be(o).pipe(Ki(d=>this.handler.handle(d)));if(t instanceof Xn||a.observe==="events")return l;let m=l.pipe(Ne(d=>d instanceof qr));switch(a.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return m.pipe(Me(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return m.pipe(Me(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return m.pipe(Me(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return m.pipe(Me(d=>d.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:new Ri().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,a={}){return this.request("PATCH",t,go(a,n))}post(t,n,a={}){return this.request("POST",t,go(a,n))}put(t,n,a={}){return this.request("PUT",t,go(a,n))}};e.\u0275fac=function(n){return new(n||e)(ae(Zn))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})();function U2(i,e){return e(i)}function W2(i,e,r){return(t,n)=>Ci(r,()=>e(t,a=>i(a,n)))}var ic=new xe(""),$2=new xe(""),q2=new xe("");var J1=(()=>{let e=class e extends Zn{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=me(Ir);let a=me(q2,{optional:!0});this.backend=a??t}handle(t){if(this.chain===null){let a=Array.from(new Set([...this.injector.get(ic),...this.injector.get($2,[])]));this.chain=a.reduceRight((o,l)=>W2(o,l,this.injector),U2)}let n=this.pendingTasks.add();return this.chain(t,a=>this.backend.handle(a)).pipe(di(()=>this.pendingTasks.remove(n)))}};e.\u0275fac=function(n){return new(n||e)(ae(Hi),ae(wn))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})();var G2=/^\)\]\}',?\n/;function K2(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var ec=(()=>{let e=class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Qe(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?dt(n.\u0275loadImpl()):be(null)).pipe(St(()=>new _n(o=>{let l=n.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((y,v)=>l.setRequestHeader(y,v.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let y=t.detectContentTypeHeader();y!==null&&l.setRequestHeader("Content-Type",y)}if(t.responseType){let y=t.responseType.toLowerCase();l.responseType=y!=="json"?y:"text"}let m=t.serializeBody(),d=null,h=()=>{if(d!==null)return d;let y=l.statusText||"OK",v=new an(l.getAllResponseHeaders()),z=K2(l)||t.url;return d=new bo({headers:v,status:l.status,statusText:y,url:z}),d},s=()=>{let{headers:y,status:v,statusText:z,url:g}=h(),b=null;v!==Kr.NoContent&&(b=typeof l.response>"u"?l.responseText:l.response),v===0&&(v=b?Kr.Ok:0);let M=v>=200&&v<300;if(t.responseType==="json"&&typeof b=="string"){let x=b;b=b.replace(G2,"");try{b=b!==""?JSON.parse(b):null}catch(A){b=x,M&&(M=!1,b={error:A,text:b})}}M?(o.next(new qr({body:b,headers:y,status:v,statusText:z,url:g||void 0})),o.complete()):o.error(new Gr({error:b,headers:y,status:v,statusText:z,url:g||void 0}))},c=y=>{let{url:v}=h(),z=new Gr({error:y,status:l.status||0,statusText:l.statusText||"Unknown Error",url:v||void 0});o.error(z)},f=!1,p=y=>{f||(o.next(h()),f=!0);let v={type:Pn.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),t.responseType==="text"&&l.responseText&&(v.partialText=l.responseText),o.next(v)},u=y=>{let v={type:Pn.UploadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),o.next(v)};return l.addEventListener("load",s),l.addEventListener("error",c),l.addEventListener("timeout",c),l.addEventListener("abort",c),t.reportProgress&&(l.addEventListener("progress",p),m!==null&&l.upload&&l.upload.addEventListener("progress",u)),l.send(m),o.next({type:Pn.Sent}),()=>{l.removeEventListener("error",c),l.removeEventListener("abort",c),l.removeEventListener("load",s),l.removeEventListener("timeout",c),t.reportProgress&&(l.removeEventListener("progress",p),m!==null&&l.upload&&l.upload.removeEventListener("progress",u)),l.readyState!==l.DONE&&l.abort()}})))}};e.\u0275fac=function(n){return new(n||e)(ae(jr))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})(),nc=new xe(""),X2="XSRF-TOKEN",Z2=new xe("",{providedIn:"root",factory:()=>X2}),Q2="X-XSRF-TOKEN",J2=new xe("",{providedIn:"root",factory:()=>Q2}),Xr=class{},e3=(()=>{let e=class e{constructor(t,n,a){this.doc=t,this.platform=n,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nr(t,this.cookieName),this.lastCookieString=t),this.lastToken}};e.\u0275fac=function(n){return new(n||e)(ae(Le),ae(zi),ae(Z2))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})();function t3(i,e){let r=i.url.toLowerCase();if(!me(nc)||i.method==="GET"||i.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return e(i);let t=me(Xr).getToken(),n=me(J2);return t!=null&&!i.headers.has(n)&&(i=i.clone({headers:i.headers.set(n,t)})),e(i)}function rc(...i){let e=[Jn,ec,J1,{provide:Zn,useExisting:J1},{provide:Hi,useExisting:ec},{provide:ic,useValue:t3,multi:!0},{provide:nc,useValue:!0},{provide:Xr,useClass:e3}];for(let r of i)e.push(...r.\u0275providers);return ui(e)}var Co=class extends N1{constructor(){super(...arguments),this.supportsDOMEvents=!0}},So=class i extends Co{static makeCurrent(){H1(new i)}onAndCancel(e,r,t){return e.addEventListener(r,t),()=>{e.removeEventListener(r,t)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=r3();return r==null?null:a3(r)}resetBaseElement(){er=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Nr(document.cookie,e)}},er=null;function r3(){return er=er||document.querySelector("base"),er?er.getAttribute("href"):null}function a3(i){return new URL(i,document.baseURI).pathname}var o3=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})(),zo=new xe(""),cc=(()=>{let e=class e{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(a=>{a.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,a){return this._findPluginFor(n).addEventListener(t,n,a)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(o=>o.supports(t)),!n)throw new Qe(5101,!1);return this._eventNameToPlugin.set(t,n),n}};e.\u0275fac=function(n){return new(n||e)(ae(zo),ae(He))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})(),Zr=class{constructor(e){this._doc=e}},wo="ng-app-id",lc=(()=>{let e=class e{constructor(t,n,a,o={}){this.doc=t,this.appId=n,this.nonce=a,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Br(o),this.resetHostNodes()}addStyles(t){for(let n of t)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(t){for(let n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){let n=this.styleRef;n.get(t)?.elements?.forEach(a=>a.remove()),n.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${wo}="${this.appId}"]`);if(t?.length){let n=new Map;return t.forEach(a=>{a.textContent!=null&&n.set(a.textContent,a)}),n}return null}changeUsageCount(t,n){let a=this.styleRef;if(a.has(t)){let o=a.get(t);return o.usage+=n,o.usage}return a.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){let a=this.styleNodesInDOM,o=a?.get(n);if(o?.parentNode===t)return a.delete(n),o.removeAttribute(wo),o;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=n,this.platformIsServer&&l.setAttribute(wo,this.appId),t.appendChild(l),l}}addStyleToHost(t,n){let a=this.getStyleElement(t,n),o=this.styleRef,l=o.get(n)?.elements;l?l.push(a):o.set(n,{elements:[a],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};e.\u0275fac=function(n){return new(n||e)(ae(Le),ae(ro),ae(Zi,8),ae(zi))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})(),Mo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Po=/%COMP%/g,hc="%COMP%",s3=`_nghost-${hc}`,c3=`_ngcontent-${hc}`,l3=!0,h3=new xe("",{providedIn:"root",factory:()=>l3});function d3(i){return c3.replace(Po,i)}function u3(i){return s3.replace(Po,i)}function dc(i,e){return e.map(r=>r.replace(Po,i))}var An=(()=>{let e=class e{constructor(t,n,a,o,l,m,d,h=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=a,this.removeStylesOnCompDestroy=o,this.doc=l,this.platformId=m,this.ngZone=d,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Br(m),this.defaultRenderer=new tr(t,l,d,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Un.ShadowDom&&(n=Be(he({},n),{encapsulation:Un.Emulated}));let a=this.getOrCreateRenderer(t,n);return a instanceof Qr?a.applyToHost(t):a instanceof ir&&a.applyStyles(),a}getOrCreateRenderer(t,n){let a=this.rendererByCompId,o=a.get(n.id);if(!o){let l=this.doc,m=this.ngZone,d=this.eventManager,h=this.sharedStylesHost,s=this.removeStylesOnCompDestroy,c=this.platformIsServer;switch(n.encapsulation){case Un.Emulated:o=new Qr(d,h,n,this.appId,s,l,m,c);break;case Un.ShadowDom:return new xo(d,h,t,n,l,m,this.nonce,c);default:o=new ir(d,h,n,s,l,m,c);break}a.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(n){return new(n||e)(ae(cc),ae(lc),ae(ro),ae(h3),ae(Le),ae(zi),ae(He),ae(Zi))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})(),tr=class{constructor(e,r,t,n){this.eventManager=e,this.doc=r,this.ngZone=t,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Mo[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(ac(e)?e.content:e).appendChild(r)}insertBefore(e,r,t){e&&(ac(e)?e.content:e).insertBefore(r,t)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let t=typeof e=="string"?this.doc.querySelector(e):e;if(!t)throw new Qe(-5104,!1);return r||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,t,n){if(n){r=n+":"+r;let a=Mo[n];a?e.setAttributeNS(a,r,t):e.setAttribute(r,t)}else e.setAttribute(r,t)}removeAttribute(e,r,t){if(t){let n=Mo[t];n?e.removeAttributeNS(n,r):e.removeAttribute(`${t}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,t,n){n&(Wn.DashCase|Wn.Important)?e.style.setProperty(r,t,n&Wn.Important?"important":""):e.style[r]=t}removeStyle(e,r,t){t&Wn.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,t){e!=null&&(e[r]=t)}setValue(e,r){e.nodeValue=r}listen(e,r,t){if(typeof e=="string"&&(e=uo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(t))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function ac(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var xo=class extends tr{constructor(e,r,t,n,a,o,l,m){super(e,a,o,m),this.sharedStylesHost=r,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=dc(n.id,n.styles);for(let h of d){let s=document.createElement("style");l&&s.setAttribute("nonce",l),s.textContent=h,this.shadowRoot.appendChild(s)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,t){return super.insertBefore(this.nodeOrShadowRoot(e),r,t)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ir=class extends tr{constructor(e,r,t,n,a,o,l,m){super(e,a,o,l),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=n,this.styles=m?dc(m,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Qr=class extends ir{constructor(e,r,t,n,a,o,l,m){let d=n+"-"+t.id;super(e,r,t,a,o,l,m,d),this.contentAttr=d3(d),this.hostAttr=u3(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let t=super.createElement(e,r);return super.setAttribute(t,this.contentAttr,""),t}},p3=(()=>{let e=class e extends Zr{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,a){return t.addEventListener(n,a,!1),()=>this.removeEventListener(t,n,a)}removeEventListener(t,n,a){return t.removeEventListener(n,a)}};e.\u0275fac=function(n){return new(n||e)(ae(Le))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})(),oc=["alt","control","meta","shift"],f3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},m3={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},g3=(()=>{let e=class e extends Zr{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,n,a){let o=e.parseEventName(n),l=e.eventCallback(o.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uo().onAndCancel(t,o.domEventName,l))}static parseEventName(t){let n=t.toLowerCase().split("."),a=n.shift();if(n.length===0||!(a==="keydown"||a==="keyup"))return null;let o=e._normalizeKey(n.pop()),l="",m=n.indexOf("code");if(m>-1&&(n.splice(m,1),l="code."),oc.forEach(h=>{let s=n.indexOf(h);s>-1&&(n.splice(s,1),l+=h+".")}),l+=o,n.length!=0||o.length===0)return null;let d={};return d.domEventName=a,d.fullKey=l,d}static matchEventFullKeyCode(t,n){let a=f3[t.key]||t.key,o="";return n.indexOf("code.")>-1&&(a=t.code,o="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),oc.forEach(l=>{if(l!==a){let m=m3[l];m(t)&&(o+=l+".")}}),o+=a,o===n)}static eventCallback(t,n,a){return o=>{e.matchEventFullKeyCode(o,t)&&a.runGuarded(()=>n(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}};e.\u0275fac=function(n){return new(n||e)(ae(Le))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})();function uc(i,e){return R1(he({rootComponent:i},v3(e)))}function v3(i){return{appProviders:[...M3,...i?.providers??[]],platformProviders:w3}}function y3(){So.makeCurrent()}function b3(){return new no}function _3(){return S1(document),document}var w3=[{provide:zi,useValue:j1},{provide:z1,useValue:y3,multi:!0},{provide:Le,useFactory:_3,deps:[]}];var M3=[{provide:_1,useValue:"root"},{provide:no,useFactory:b3,deps:[]},{provide:zo,useClass:p3,multi:!0,deps:[Le,He,zi]},{provide:zo,useClass:g3,multi:!0,deps:[Le]},An,lc,cc,{provide:Zt,useExisting:An},{provide:jr,useClass:o3,deps:[]},[]];var pc=(()=>{let e=class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}};e.\u0275fac=function(n){return new(n||e)(ae(Le))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var nr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:function(n){let a=null;return n?a=new(n||e):a=ae(C3),a},providedIn:"root"});let i=e;return i})(),C3=(()=>{let e=class e extends nr{constructor(t){super(),this._doc=t}sanitize(t,n){if(n==null)return null;switch(t){case xi.NONE:return n;case xi.HTML:return Cn(n,"HTML")?Mn(n):D1(this._doc,String(n)).toString();case xi.STYLE:return Cn(n,"Style")?Mn(n):n;case xi.SCRIPT:if(Cn(n,"Script"))return Mn(n);throw new Qe(5200,!1);case xi.URL:return Cn(n,"URL")?Mn(n):k1(String(n));case xi.RESOURCE_URL:if(Cn(n,"ResourceURL"))return Mn(n);throw new Qe(5201,!1);default:throw new Qe(5202,!1)}}bypassSecurityTrustHtml(t){return x1(t)}bypassSecurityTrustStyle(t){return P1(t)}bypassSecurityTrustScript(t){return A1(t)}bypassSecurityTrustUrl(t){return T1(t)}bypassSecurityTrustResourceUrl(t){return E1(t)}};e.\u0275fac=function(n){return new(n||e)(ae(Le))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ce="primary",yr=Symbol("RouteTitle"),Oo=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function On(i){return new Oo(i)}function S3(i,e,r){let t=r.path.split("/");if(t.length>i.length||r.pathMatch==="full"&&(e.hasChildren()||t.length<i.length))return null;let n={};for(let a=0;a<t.length;a++){let o=t[a],l=i[a];if(o.startsWith(":"))n[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:i.slice(0,t.length),posParams:n}}function z3(i,e){if(i.length!==e.length)return!1;for(let r=0;r<i.length;++r)if(!gi(i[r],e[r]))return!1;return!0}function gi(i,e){let r=i?Lo(i):void 0,t=e?Lo(e):void 0;if(!r||!t||r.length!=t.length)return!1;let n;for(let a=0;a<r.length;a++)if(n=r[a],!bc(i[n],e[n]))return!1;return!0}function Lo(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function bc(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let r=[...i].sort(),t=[...e].sort();return r.every((n,a)=>t[a]===n)}else return i===e}function _c(i){return i.length>0?i[i.length-1]:null}function Bi(i){return Lr(i)?i:co(i)?dt(Promise.resolve(i)):be(i)}var x3={exact:Mc,subset:Cc},wc={exact:P3,subset:A3,ignored:()=>!0};function fc(i,e,r){return x3[r.paths](i.root,e.root,r.matrixParams)&&wc[r.queryParams](i.queryParams,e.queryParams)&&!(r.fragment==="exact"&&i.fragment!==e.fragment)}function P3(i,e){return gi(i,e)}function Mc(i,e,r){if(!sn(i.segments,e.segments)||!ta(i.segments,e.segments,r)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let t in e.children)if(!i.children[t]||!Mc(i.children[t],e.children[t],r))return!1;return!0}function A3(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(r=>bc(i[r],e[r]))}function Cc(i,e,r){return Sc(i,e,e.segments,r)}function Sc(i,e,r,t){if(i.segments.length>r.length){let n=i.segments.slice(0,r.length);return!(!sn(n,r)||e.hasChildren()||!ta(n,r,t))}else if(i.segments.length===r.length){if(!sn(i.segments,r)||!ta(i.segments,r,t))return!1;for(let n in e.children)if(!i.children[n]||!Cc(i.children[n],e.children[n],t))return!1;return!0}else{let n=r.slice(0,i.segments.length),a=r.slice(i.segments.length);return!sn(i.segments,n)||!ta(i.segments,n,t)||!i.children[Ce]?!1:Sc(i.children[Ce],e,a,t)}}function ta(i,e,r){return e.every((t,n)=>wc[r](i[n].parameters,t.parameters))}var Ni=class{constructor(e=new We([],{}),r={},t=null){this.root=e,this.queryParams=r,this.fragment=t}get queryParamMap(){return this._queryParamMap??=On(this.queryParams),this._queryParamMap}toString(){return k3.serialize(this)}},We=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ia(this)}},on=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=On(this.parameters),this._parameterMap}toString(){return xc(this)}};function T3(i,e){return sn(i,e)&&i.every((r,t)=>gi(r.parameters,e[t].parameters))}function sn(i,e){return i.length!==e.length?!1:i.every((r,t)=>r.path===e[t].path)}function E3(i,e){let r=[];return Object.entries(i.children).forEach(([t,n])=>{t===Ce&&(r=r.concat(e(n,t)))}),Object.entries(i.children).forEach(([t,n])=>{t!==Ce&&(r=r.concat(e(n,t)))}),r}var os=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:()=>new ra,providedIn:"root"});let i=e;return i})(),ra=class{parse(e){let r=new Vo(e);return new Ni(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${rr(e.root,!0)}`,t=L3(e.queryParams),n=typeof e.fragment=="string"?`#${D3(e.fragment)}`:"";return`${r}${t}${n}`}},k3=new ra;function ia(i){return i.segments.map(e=>xc(e)).join("/")}function rr(i,e){if(!i.hasChildren())return ia(i);if(e){let r=i.children[Ce]?rr(i.children[Ce],!1):"",t=[];return Object.entries(i.children).forEach(([n,a])=>{n!==Ce&&t.push(`${n}:${rr(a,!1)}`)}),t.length>0?`${r}(${t.join("//")})`:r}else{let r=E3(i,(t,n)=>n===Ce?[rr(i.children[Ce],!1)]:[`${n}:${rr(t,!1)}`]);return Object.keys(i.children).length===1&&i.children[Ce]!=null?`${ia(i)}/${r[0]}`:`${ia(i)}/(${r.join("//")})`}}function zc(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jr(i){return zc(i).replace(/%3B/gi,";")}function D3(i){return encodeURI(i)}function Fo(i){return zc(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function na(i){return decodeURIComponent(i)}function mc(i){return na(i.replace(/\+/g,"%20"))}function xc(i){return`${Fo(i.path)}${O3(i.parameters)}`}function O3(i){return Object.entries(i).map(([e,r])=>`;${Fo(e)}=${Fo(r)}`).join("")}function L3(i){let e=Object.entries(i).map(([r,t])=>Array.isArray(t)?t.map(n=>`${Jr(r)}=${Jr(n)}`).join("&"):`${Jr(r)}=${Jr(t)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var F3=/^[^\/()?;#]+/;function To(i){let e=i.match(F3);return e?e[0]:""}var V3=/^[^\/()?;=#]+/;function I3(i){let e=i.match(V3);return e?e[0]:""}var R3=/^[^=?&#]+/;function H3(i){let e=i.match(R3);return e?e[0]:""}var N3=/^[^&#]+/;function Y3(i){let e=i.match(N3);return e?e[0]:""}var Vo=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(t[Ce]=new We(e,r)),t}parseSegment(){let e=To(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Qe(4009,!1);return this.capture(e),new on(na(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=I3(this.remaining);if(!r)return;this.capture(r);let t="";if(this.consumeOptional("=")){let n=To(this.remaining);n&&(t=n,this.capture(t))}e[na(r)]=na(t)}parseQueryParam(e){let r=H3(this.remaining);if(!r)return;this.capture(r);let t="";if(this.consumeOptional("=")){let o=Y3(this.remaining);o&&(t=o,this.capture(t))}let n=mc(r),a=mc(t);if(e.hasOwnProperty(n)){let o=e[n];Array.isArray(o)||(o=[o],e[n]=o),o.push(a)}else e[n]=a}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=To(this.remaining),n=this.remaining[t.length];if(n!=="/"&&n!==")"&&n!==";")throw new Qe(4010,!1);let a;t.indexOf(":")>-1?(a=t.slice(0,t.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Ce);let o=this.parseChildren();r[a]=Object.keys(o).length===1?o[Ce]:new We([],o),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Qe(4011,!1)}};function Pc(i){return i.segments.length>0?new We([],{[Ce]:i}):i}function Ac(i){let e={};for(let[t,n]of Object.entries(i.children)){let a=Ac(n);if(t===Ce&&a.segments.length===0&&a.hasChildren())for(let[o,l]of Object.entries(a.children))e[o]=l;else(a.segments.length>0||a.hasChildren())&&(e[t]=a)}let r=new We(i.segments,e);return B3(r)}function B3(i){if(i.numberOfChildren===1&&i.children[Ce]){let e=i.children[Ce];return new We(i.segments.concat(e.segments),e.children)}return i}function Ln(i){return i instanceof Ni}function j3(i,e,r=null,t=null){let n=Tc(i);return Ec(n,e,r,t)}function Tc(i){let e;function r(a){let o={};for(let m of a.children){let d=r(m);o[m.outlet]=d}let l=new We(a.url,o);return a===i&&(e=l),l}let t=r(i.root),n=Pc(t);return e??n}function Ec(i,e,r,t){let n=i;for(;n.parent;)n=n.parent;if(e.length===0)return Eo(n,n,n,r,t);let a=U3(e);if(a.toRoot())return Eo(n,n,new We([],{}),r,t);let o=W3(a,n,i),l=o.processChildren?sr(o.segmentGroup,o.index,a.commands):Dc(o.segmentGroup,o.index,a.commands);return Eo(n,o.segmentGroup,l,r,t)}function aa(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function hr(i){return typeof i=="object"&&i!=null&&i.outlets}function Eo(i,e,r,t,n){let a={};t&&Object.entries(t).forEach(([m,d])=>{a[m]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let o;i===e?o=r:o=kc(i,e,r);let l=Pc(Ac(o));return new Ni(l,a,n)}function kc(i,e,r){let t={};return Object.entries(i.children).forEach(([n,a])=>{a===e?t[n]=r:t[n]=kc(a,e,r)}),new We(i.segments,t)}var oa=class{constructor(e,r,t){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=t,e&&t.length>0&&aa(t[0]))throw new Qe(4003,!1);let n=t.find(hr);if(n&&n!==_c(t))throw new Qe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function U3(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new oa(!0,0,i);let e=0,r=!1,t=i.reduce((n,a,o)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let l={};return Object.entries(a.outlets).forEach(([m,d])=>{l[m]=typeof d=="string"?d.split("/"):d}),[...n,{outlets:l}]}if(a.segmentPath)return[...n,a.segmentPath]}return typeof a!="string"?[...n,a]:o===0?(a.split("/").forEach((l,m)=>{m==0&&l==="."||(m==0&&l===""?r=!0:l===".."?e++:l!=""&&n.push(l))}),n):[...n,a]},[]);return new oa(r,e,t)}var kn=class{constructor(e,r,t){this.segmentGroup=e,this.processChildren=r,this.index=t}};function W3(i,e,r){if(i.isAbsolute)return new kn(e,!0,0);if(!r)return new kn(e,!1,NaN);if(r.parent===null)return new kn(r,!0,0);let t=aa(i.commands[0])?0:1,n=r.segments.length-1+t;return $3(r,n,i.numberOfDoubleDots)}function $3(i,e,r){let t=i,n=e,a=r;for(;a>n;){if(a-=n,t=t.parent,!t)throw new Qe(4005,!1);n=t.segments.length}return new kn(t,!1,n-a)}function q3(i){return hr(i[0])?i[0].outlets:{[Ce]:i}}function Dc(i,e,r){if(i??=new We([],{}),i.segments.length===0&&i.hasChildren())return sr(i,e,r);let t=G3(i,e,r),n=r.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){let a=new We(i.segments.slice(0,t.pathIndex),{});return a.children[Ce]=new We(i.segments.slice(t.pathIndex),i.children),sr(a,0,n)}else return t.match&&n.length===0?new We(i.segments,{}):t.match&&!i.hasChildren()?Io(i,e,r):t.match?sr(i,0,n):Io(i,e,r)}function sr(i,e,r){if(r.length===0)return new We(i.segments,{});{let t=q3(r),n={};if(Object.keys(t).some(a=>a!==Ce)&&i.children[Ce]&&i.numberOfChildren===1&&i.children[Ce].segments.length===0){let a=sr(i.children[Ce],e,r);return new We(i.segments,a.children)}return Object.entries(t).forEach(([a,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(n[a]=Dc(i.children[a],e,o))}),Object.entries(i.children).forEach(([a,o])=>{t[a]===void 0&&(n[a]=o)}),new We(i.segments,n)}}function G3(i,e,r){let t=0,n=e,a={match:!1,pathIndex:0,commandIndex:0};for(;n<i.segments.length;){if(t>=r.length)return a;let o=i.segments[n],l=r[t];if(hr(l))break;let m=`${l}`,d=t<r.length-1?r[t+1]:null;if(n>0&&m===void 0)break;if(m&&d&&typeof d=="object"&&d.outlets===void 0){if(!vc(m,d,o))return a;t+=2}else{if(!vc(m,{},o))return a;t++}n++}return{match:!0,pathIndex:n,commandIndex:t}}function Io(i,e,r){let t=i.segments.slice(0,e),n=0;for(;n<r.length;){let a=r[n];if(hr(a)){let m=K3(a.outlets);return new We(t,m)}if(n===0&&aa(r[0])){let m=i.segments[e];t.push(new on(m.path,gc(r[0]))),n++;continue}let o=hr(a)?a.outlets[Ce]:`${a}`,l=n<r.length-1?r[n+1]:null;o&&l&&aa(l)?(t.push(new on(o,gc(l))),n+=2):(t.push(new on(o,{})),n++)}return new We(t,{})}function K3(i){let e={};return Object.entries(i).forEach(([r,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(e[r]=Io(new We([],{}),0,t))}),e}function gc(i){let e={};return Object.entries(i).forEach(([r,t])=>e[r]=`${t}`),e}function vc(i,e,r){return i==r.path&&gi(e,r.parameters)}var cr="imperative",zt=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(zt||{}),Qt=class{constructor(e,r){this.id=e,this.url=r}},dr=class extends Qt{constructor(e,r,t="imperative",n=null){super(e,r),this.type=zt.NavigationStart,this.navigationTrigger=t,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jt=class extends Qt{constructor(e,r,t){super(e,r),this.urlAfterRedirects=t,this.type=zt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qt=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(qt||{}),Ro=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(Ro||{}),Yi=class extends Qt{constructor(e,r,t,n){super(e,r),this.reason=t,this.code=n,this.type=zt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},cn=class extends Qt{constructor(e,r,t,n){super(e,r),this.reason=t,this.code=n,this.type=zt.NavigationSkipped}},ur=class extends Qt{constructor(e,r,t,n){super(e,r),this.error=t,this.target=n,this.type=zt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sa=class extends Qt{constructor(e,r,t,n){super(e,r),this.urlAfterRedirects=t,this.state=n,this.type=zt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ho=class extends Qt{constructor(e,r,t,n){super(e,r),this.urlAfterRedirects=t,this.state=n,this.type=zt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},No=class extends Qt{constructor(e,r,t,n,a){super(e,r),this.urlAfterRedirects=t,this.state=n,this.shouldActivate=a,this.type=zt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yo=class extends Qt{constructor(e,r,t,n){super(e,r),this.urlAfterRedirects=t,this.state=n,this.type=zt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bo=class extends Qt{constructor(e,r,t,n){super(e,r),this.urlAfterRedirects=t,this.state=n,this.type=zt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jo=class{constructor(e){this.route=e,this.type=zt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Uo=class{constructor(e){this.route=e,this.type=zt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wo=class{constructor(e){this.snapshot=e,this.type=zt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$o=class{constructor(e){this.snapshot=e,this.type=zt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qo=class{constructor(e){this.snapshot=e,this.type=zt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Go=class{constructor(e){this.snapshot=e,this.type=zt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var pr=class{},fr=class{constructor(e){this.url=e}};var Ko=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pa,this.attachRef=null}},pa=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){let a=this.getOrCreateContext(t);a.outlet=n,this.contexts.set(t,a)}onChildOutletDestroyed(t){let n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new Ko,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ca=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=Xo(e,this._root);return r?r.children.map(t=>t.value):[]}firstChild(e){let r=Xo(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=Zo(e,this._root);return r.length<2?[]:r[r.length-2].children.map(n=>n.value).filter(n=>n!==e)}pathFromRoot(e){return Zo(e,this._root).map(r=>r.value)}};function Xo(i,e){if(i===e.value)return e;for(let r of e.children){let t=Xo(i,r);if(t)return t}return null}function Zo(i,e){if(i===e.value)return[e];for(let r of e.children){let t=Zo(i,r);if(t.length)return t.unshift(e),t}return[]}var $t=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function En(i){let e={};return i&&i.children.forEach(r=>e[r.value.outlet]=r),e}var la=class extends ca{constructor(e,r){super(e),this.snapshot=r,cs(this,e)}toString(){return this.snapshot.toString()}};function Oc(i){let e=X3(i),r=new it([new on("",{})]),t=new it({}),n=new it({}),a=new it({}),o=new it(""),l=new Ti(r,t,a,o,n,Ce,i,e.root);return l.snapshot=e.root,new la(new $t(l,[]),e)}function X3(i){let e={},r={},t={},n="",a=new mr([],e,t,n,r,Ce,i,null,{});return new ha("",new $t(a,[]))}var Ti=class{constructor(e,r,t,n,a,o,l,m){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=t,this.fragmentSubject=n,this.dataSubject=a,this.outlet=o,this.component=l,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(Me(d=>d[yr]))??be(void 0),this.url=e,this.params=r,this.queryParams=t,this.fragment=n,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Me(e=>On(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Me(e=>On(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ss(i,e,r="emptyOnly"){let t,{routeConfig:n}=i;return e!==null&&(r==="always"||n?.path===""||!e.component&&!e.routeConfig?.loadComponent)?t={params:he(he({},e.params),i.params),data:he(he({},e.data),i.data),resolve:he(he(he(he({},i.data),e.data),n?.data),i._resolvedData)}:t={params:he({},i.params),data:he({},i.data),resolve:he(he({},i.data),i._resolvedData??{})},n&&Fc(n)&&(t.resolve[yr]=n.title),t}var mr=class{get title(){return this.data?.[yr]}constructor(e,r,t,n,a,o,l,m,d){this.url=e,this.params=r,this.queryParams=t,this.fragment=n,this.data=a,this.outlet=o,this.component=l,this.routeConfig=m,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=On(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=On(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(t=>t.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},ha=class extends ca{constructor(e,r){super(r),this.url=e,cs(this,r)}toString(){return Lc(this._root)}};function cs(i,e){e.value._routerState=i,e.children.forEach(r=>cs(i,r))}function Lc(i){let e=i.children.length>0?` { ${i.children.map(Lc).join(", ")} } `:"";return`${i.value}${e}`}function ko(i){if(i.snapshot){let e=i.snapshot,r=i._futureSnapshot;i.snapshot=r,gi(e.queryParams,r.queryParams)||i.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&i.fragmentSubject.next(r.fragment),gi(e.params,r.params)||i.paramsSubject.next(r.params),z3(e.url,r.url)||i.urlSubject.next(r.url),gi(e.data,r.data)||i.dataSubject.next(r.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function Qo(i,e){let r=gi(i.params,e.params)&&T3(i.url,e.url),t=!i.parent!=!e.parent;return r&&!t&&(!i.parent||Qo(i.parent,e.parent))}function Fc(i){return typeof i.title=="string"||i.title===null}var ls=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ce,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=me(pa),this.location=me(ri),this.changeDetector=me(lt),this.environmentInjector=me(wn),this.inputBinder=me(hs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:n,previousValue:a}=t.name;if(n)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Qe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Qe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Qe(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new Qe(4013,!1);this._activatedRoute=t;let a=this.location,l=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,d=new Jo(t,m,a.injector);this.activated=a.createComponent(l,{index:a.length,injector:d,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Je({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ze]});let i=e;return i})(),Jo=class i{__ngOutletInjector(e){return new i(this.route,this.childContexts,e)}constructor(e,r,t){this.route=e,this.childContexts=r,this.parent=t}get(e,r){return e===Ti?this.route:e===pa?this.childContexts:this.parent.get(e,r)}},hs=new xe("");function Z3(i,e,r){let t=gr(i,e._root,r?r._root:void 0);return new la(t,e)}function gr(i,e,r){if(r&&i.shouldReuseRoute(e.value,r.value.snapshot)){let t=r.value;t._futureSnapshot=e.value;let n=Q3(i,e,r);return new $t(t,n)}else{if(i.shouldAttach(e.value)){let a=i.retrieve(e.value);if(a!==null){let o=a.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(l=>gr(i,l)),o}}let t=J3(e.value),n=e.children.map(a=>gr(i,a));return new $t(t,n)}}function Q3(i,e,r){return e.children.map(t=>{for(let n of r.children)if(i.shouldReuseRoute(t.value,n.value.snapshot))return gr(i,t,n);return gr(i,t)})}function J3(i){return new Ti(new it(i.url),new it(i.params),new it(i.queryParams),new it(i.fragment),new it(i.data),i.outlet,i.component,i)}var Vc="ngNavigationCancelingError";function Ic(i,e){let{redirectTo:r,navigationBehaviorOptions:t}=Ln(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,n=Rc(!1,qt.Redirect);return n.url=r,n.navigationBehaviorOptions=t,n}function Rc(i,e){let r=new Error(`NavigationCancelingError: ${i||""}`);return r[Vc]=!0,r.cancellationCode=e,r}function e0(i){return Hc(i)&&Ln(i.url)}function Hc(i){return!!i&&i[Vc]}var t0=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ie({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ye],decls:1,vars:0,template:function(n,a){n&1&&$e(0,"router-outlet")},dependencies:[ls],encapsulation:2});let i=e;return i})();function i0(i,e){return i.providers&&!i._injector&&(i._injector=V1(i.providers,e,`Route: ${i.path}`)),i._injector??e}function ds(i){let e=i.children&&i.children.map(ds),r=e?Be(he({},i),{children:e}):he({},i);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==Ce&&(r.component=t0),r}function vi(i){return i.outlet||Ce}function n0(i,e){let r=i.filter(t=>vi(t)===e);return r.push(...i.filter(t=>vi(t)!==e)),r}function br(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var r0=(i,e,r,t)=>Me(n=>(new es(e,n.targetRouterState,n.currentRouterState,r,t).activate(i),n)),es=class{constructor(e,r,t,n,a){this.routeReuseStrategy=e,this.futureState=r,this.currState=t,this.forwardEvent=n,this.inputBindingEnabled=a}activate(e){let r=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,t,e),ko(this.futureState.root),this.activateChildRoutes(r,t,e)}deactivateChildRoutes(e,r,t){let n=En(r);e.children.forEach(a=>{let o=a.value.outlet;this.deactivateRoutes(a,n[o],t),delete n[o]}),Object.values(n).forEach(a=>{this.deactivateRouteAndItsChildren(a,t)})}deactivateRoutes(e,r,t){let n=e.value,a=r?r.value:null;if(n===a)if(n.component){let o=t.getContext(n.outlet);o&&this.deactivateChildRoutes(e,r,o.children)}else this.deactivateChildRoutes(e,r,t);else a&&this.deactivateRouteAndItsChildren(r,t)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let t=r.getContext(e.value.outlet),n=t&&e.value.component?t.children:r,a=En(e);for(let o of Object.values(a))this.deactivateRouteAndItsChildren(o,n);if(t&&t.outlet){let o=t.outlet.detach(),l=t.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,r){let t=r.getContext(e.value.outlet),n=t&&e.value.component?t.children:r,a=En(e);for(let o of Object.values(a))this.deactivateRouteAndItsChildren(o,n);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(e,r,t){let n=En(r);e.children.forEach(a=>{this.activateRoutes(a,n[a.value.outlet],t),this.forwardEvent(new Go(a.value.snapshot))}),e.children.length&&this.forwardEvent(new $o(e.value.snapshot))}activateRoutes(e,r,t){let n=e.value,a=r?r.value:null;if(ko(n),n===a)if(n.component){let o=t.getOrCreateContext(n.outlet);this.activateChildRoutes(e,r,o.children)}else this.activateChildRoutes(e,r,t);else if(n.component){let o=t.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let l=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),ko(l.route.value),this.activateChildRoutes(e,null,o.children)}else{let l=br(n.snapshot);o.attachRef=null,o.route=n,o.injector=l,o.outlet&&o.outlet.activateWith(n,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,t)}},da=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Dn=class{constructor(e,r){this.component=e,this.route=r}};function a0(i,e,r){let t=i._root,n=e?e._root:null;return ar(t,n,r,[t.value])}function o0(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function Vn(i,e){let r=Symbol(),t=e.get(i,r);return t===r?typeof i=="function"&&!y1(i)?i:e.get(i):t}function ar(i,e,r,t,n={canDeactivateChecks:[],canActivateChecks:[]}){let a=En(e);return i.children.forEach(o=>{s0(o,a[o.value.outlet],r,t.concat([o.value]),n),delete a[o.value.outlet]}),Object.entries(a).forEach(([o,l])=>lr(l,r.getContext(o),n)),n}function s0(i,e,r,t,n={canDeactivateChecks:[],canActivateChecks:[]}){let a=i.value,o=e?e.value:null,l=r?r.getContext(i.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){let m=c0(o,a,a.routeConfig.runGuardsAndResolvers);m?n.canActivateChecks.push(new da(t)):(a.data=o.data,a._resolvedData=o._resolvedData),a.component?ar(i,e,l?l.children:null,t,n):ar(i,e,r,t,n),m&&l&&l.outlet&&l.outlet.isActivated&&n.canDeactivateChecks.push(new Dn(l.outlet.component,o))}else o&&lr(e,l,n),n.canActivateChecks.push(new da(t)),a.component?ar(i,null,l?l.children:null,t,n):ar(i,null,r,t,n);return n}function c0(i,e,r){if(typeof r=="function")return r(i,e);switch(r){case"pathParamsChange":return!sn(i.url,e.url);case"pathParamsOrQueryParamsChange":return!sn(i.url,e.url)||!gi(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qo(i,e)||!gi(i.queryParams,e.queryParams);case"paramsChange":default:return!Qo(i,e)}}function lr(i,e,r){let t=En(i),n=i.value;Object.entries(t).forEach(([a,o])=>{n.component?e?lr(o,e.children.getContext(a),r):lr(o,null,r):lr(o,e,r)}),n.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new Dn(e.outlet.component,n)):r.canDeactivateChecks.push(new Dn(null,n)):r.canDeactivateChecks.push(new Dn(null,n))}function _r(i){return typeof i=="function"}function l0(i){return typeof i=="boolean"}function h0(i){return i&&_r(i.canLoad)}function d0(i){return i&&_r(i.canActivate)}function u0(i){return i&&_r(i.canActivateChild)}function p0(i){return i&&_r(i.canDeactivate)}function f0(i){return i&&_r(i.canMatch)}function Nc(i){return i instanceof d1||i?.name==="EmptyError"}var ea=Symbol("INITIAL_VALUE");function Fn(){return St(i=>ci(i.map(e=>e.pipe(Xt(1),ni(ea)))).pipe(Me(e=>{for(let r of e)if(r!==!0){if(r===ea)return ea;if(r===!1||r instanceof Ni)return r}return!0}),Ne(e=>e!==ea),Xt(1)))}function m0(i,e){return Vt(r=>{let{targetSnapshot:t,currentSnapshot:n,guards:{canActivateChecks:a,canDeactivateChecks:o}}=r;return o.length===0&&a.length===0?be(Be(he({},r),{guardsResult:!0})):g0(o,t,n,i).pipe(Vt(l=>l&&l0(l)?v0(t,a,i,e):be(l)),Me(l=>Be(he({},r),{guardsResult:l})))})}function g0(i,e,r,t){return dt(i).pipe(Vt(n=>M0(n.component,n.route,r,e,t)),Mi(n=>n!==!0,!0))}function v0(i,e,r,t){return dt(e).pipe(Ki(n=>u1(b0(n.route.parent,t),y0(n.route,t),w0(i,n.path,r),_0(i,n.route,r))),Mi(n=>n!==!0,!0))}function y0(i,e){return i!==null&&e&&e(new qo(i)),be(!0)}function b0(i,e){return i!==null&&e&&e(new Wo(i)),be(!0)}function _0(i,e,r){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return be(!0);let n=t.map(a=>Ja(()=>{let o=br(e)??r,l=Vn(a,o),m=d0(l)?l.canActivate(e,i):Ci(o,()=>l(e,i));return Bi(m).pipe(Mi())}));return be(n).pipe(Fn())}function w0(i,e,r){let t=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(o=>o0(o)).filter(o=>o!==null).map(o=>Ja(()=>{let l=o.guards.map(m=>{let d=br(o.node)??r,h=Vn(m,d),s=u0(h)?h.canActivateChild(t,i):Ci(d,()=>h(t,i));return Bi(s).pipe(Mi())});return be(l).pipe(Fn())}));return be(a).pipe(Fn())}function M0(i,e,r,t,n){let a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||a.length===0)return be(!0);let o=a.map(l=>{let m=br(e)??n,d=Vn(l,m),h=p0(d)?d.canDeactivate(i,e,r,t):Ci(m,()=>d(i,e,r,t));return Bi(h).pipe(Mi())});return be(o).pipe(Fn())}function C0(i,e,r,t){let n=e.canLoad;if(n===void 0||n.length===0)return be(!0);let a=n.map(o=>{let l=Vn(o,i),m=h0(l)?l.canLoad(e,r):Ci(i,()=>l(e,r));return Bi(m)});return be(a).pipe(Fn(),Yc(t))}function Yc(i){return h1(ut(e=>{if(Ln(e))throw Ic(i,e)}),Me(e=>e===!0))}function S0(i,e,r,t){let n=e.canMatch;if(!n||n.length===0)return be(!0);let a=n.map(o=>{let l=Vn(o,i),m=f0(l)?l.canMatch(e,r):Ci(i,()=>l(e,r));return Bi(m)});return be(a).pipe(Fn(),Yc(t))}var vr=class{constructor(e){this.segmentGroup=e||null}},ua=class extends Error{constructor(e){super(),this.urlTree=e}};function Tn(i){return jn(new vr(i))}function z0(i){return jn(new Qe(4e3,!1))}function x0(i){return jn(Rc(!1,qt.GuardRejected))}var ts=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let t=[],n=r.root;for(;;){if(t=t.concat(n.segments),n.numberOfChildren===0)return be(t);if(n.numberOfChildren>1||!n.children[Ce])return z0(e.redirectTo);n=n.children[Ce]}}applyRedirectCommands(e,r,t){let n=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,t);if(r.startsWith("/"))throw new ua(n);return n}applyRedirectCreateUrlTree(e,r,t,n){let a=this.createSegmentGroup(e,r.root,t,n);return new Ni(a,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let t={};return Object.entries(e).forEach(([n,a])=>{if(typeof a=="string"&&a.startsWith(":")){let l=a.substring(1);t[n]=r[l]}else t[n]=a}),t}createSegmentGroup(e,r,t,n){let a=this.createSegments(e,r.segments,t,n),o={};return Object.entries(r.children).forEach(([l,m])=>{o[l]=this.createSegmentGroup(e,m,t,n)}),new We(a,o)}createSegments(e,r,t,n){return r.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,n):this.findOrReturn(a,t))}findPosParam(e,r,t){let n=t[r.path.substring(1)];if(!n)throw new Qe(4001,!1);return n}findOrReturn(e,r){let t=0;for(let n of r){if(n.path===e.path)return r.splice(t),n;t++}return e}},is={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P0(i,e,r,t,n){let a=us(i,e,r);return a.matched?(t=i0(e,t),S0(t,e,r,n).pipe(Me(o=>o===!0?a:he({},is)))):be(a)}function us(i,e,r){if(e.path==="**")return A0(r);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||r.length>0)?he({},is):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let n=(e.matcher||S3)(r,i,e);if(!n)return he({},is);let a={};Object.entries(n.posParams??{}).forEach(([l,m])=>{a[l]=m.path});let o=n.consumed.length>0?he(he({},a),n.consumed[n.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:n.consumed,remainingSegments:r.slice(n.consumed.length),parameters:o,positionalParamSegments:n.posParams??{}}}function A0(i){return{matched:!0,parameters:i.length>0?_c(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function yc(i,e,r,t){return r.length>0&&k0(i,r,t)?{segmentGroup:new We(e,E0(t,new We(r,i.children))),slicedSegments:[]}:r.length===0&&D0(i,r,t)?{segmentGroup:new We(i.segments,T0(i,r,t,i.children)),slicedSegments:r}:{segmentGroup:new We(i.segments,i.children),slicedSegments:r}}function T0(i,e,r,t){let n={};for(let a of r)if(fa(i,e,a)&&!t[vi(a)]){let o=new We([],{});n[vi(a)]=o}return he(he({},t),n)}function E0(i,e){let r={};r[Ce]=e;for(let t of i)if(t.path===""&&vi(t)!==Ce){let n=new We([],{});r[vi(t)]=n}return r}function k0(i,e,r){return r.some(t=>fa(i,e,t)&&vi(t)!==Ce)}function D0(i,e,r){return r.some(t=>fa(i,e,t))}function fa(i,e,r){return(i.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function O0(i,e,r,t){return vi(i)!==t&&(t===Ce||!fa(e,r,i))?!1:us(e,i,r).matched}function L0(i,e,r){return e.length===0&&!i.children[r]}var ns=class{};function F0(i,e,r,t,n,a,o="emptyOnly"){return new rs(i,e,r,t,n,o,a).recognize()}var V0=31,rs=class{constructor(e,r,t,n,a,o,l){this.injector=e,this.configLoader=r,this.rootComponentType=t,this.config=n,this.urlTree=a,this.paramsInheritanceStrategy=o,this.urlSerializer=l,this.applyRedirects=new ts(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Qe(4002,`'${e.segmentGroup}'`)}recognize(){let e=yc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Me(r=>{let t=new mr([],Object.freeze({}),Object.freeze(he({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ce,this.rootComponentType,null,{}),n=new $t(t,r),a=new ha("",n),o=j3(t,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(a._root,null),{state:a,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ce).pipe(Ii(t=>{if(t instanceof ua)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof vr?this.noMatchError(t):t}))}inheritParamsAndData(e,r){let t=e.value,n=ss(t,r,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(a=>this.inheritParamsAndData(a,t))}processSegmentGroup(e,r,t,n){return t.segments.length===0&&t.hasChildren()?this.processChildren(e,r,t):this.processSegment(e,r,t,t.segments,n,!0).pipe(Me(a=>a instanceof $t?[a]:[]))}processChildren(e,r,t){let n=[];for(let a of Object.keys(t.children))a==="primary"?n.unshift(a):n.push(a);return dt(n).pipe(Ki(a=>{let o=t.children[a],l=n0(r,a);return this.processSegmentGroup(e,l,o,a)}),m1((a,o)=>(a.push(...o),a)),eo(null),f1(),Vt(a=>{if(a===null)return Tn(t);let o=Bc(a);return I0(o),be(o)}))}processSegment(e,r,t,n,a,o){return dt(r).pipe(Ki(l=>this.processSegmentAgainstRoute(l._injector??e,r,l,t,n,a,o).pipe(Ii(m=>{if(m instanceof vr)return be(null);throw m}))),Mi(l=>!!l),Ii(l=>{if(Nc(l))return L0(t,n,a)?be(new ns):Tn(t);throw l}))}processSegmentAgainstRoute(e,r,t,n,a,o,l){return O0(t,n,a,o)?t.redirectTo===void 0?this.matchSegmentAgainstRoute(e,n,t,a,o):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,t,a,o):Tn(n):Tn(n)}expandSegmentAgainstRouteUsingRedirect(e,r,t,n,a,o){let{matched:l,consumedSegments:m,positionalParamSegments:d,remainingSegments:h}=us(r,n,a);if(!l)return Tn(r);n.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>V0&&(this.allowRedirects=!1));let s=this.applyRedirects.applyRedirectCommands(m,n.redirectTo,d);return this.applyRedirects.lineralizeSegments(n,s).pipe(Vt(c=>this.processSegment(e,t,r,c.concat(h),o,!1)))}matchSegmentAgainstRoute(e,r,t,n,a){let o=P0(r,t,n,e,this.urlSerializer);return t.path==="**"&&(r.children={}),o.pipe(St(l=>l.matched?(e=t._injector??e,this.getChildConfig(e,t,n).pipe(St(({routes:m})=>{let d=t._loadedInjector??e,{consumedSegments:h,remainingSegments:s,parameters:c}=l,f=new mr(h,c,Object.freeze(he({},this.urlTree.queryParams)),this.urlTree.fragment,H0(t),vi(t),t.component??t._loadedComponent??null,t,N0(t)),{segmentGroup:p,slicedSegments:u}=yc(r,h,s,m);if(u.length===0&&p.hasChildren())return this.processChildren(d,m,p).pipe(Me(v=>v===null?null:new $t(f,v)));if(m.length===0&&u.length===0)return be(new $t(f,[]));let y=vi(t)===a;return this.processSegment(d,m,p,u,y?Ce:a,!0).pipe(Me(v=>new $t(f,v instanceof $t?[v]:[])))}))):Tn(r)))}getChildConfig(e,r,t){return r.children?be({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?be({routes:r._loadedRoutes,injector:r._loadedInjector}):C0(e,r,t,this.urlSerializer).pipe(Vt(n=>n?this.configLoader.loadChildren(e,r).pipe(ut(a=>{r._loadedRoutes=a.routes,r._loadedInjector=a.injector})):x0(r))):be({routes:[],injector:e})}};function I0(i){i.sort((e,r)=>e.value.outlet===Ce?-1:r.value.outlet===Ce?1:e.value.outlet.localeCompare(r.value.outlet))}function R0(i){let e=i.value.routeConfig;return e&&e.path===""}function Bc(i){let e=[],r=new Set;for(let t of i){if(!R0(t)){e.push(t);continue}let n=e.find(a=>t.value.routeConfig===a.value.routeConfig);n!==void 0?(n.children.push(...t.children),r.add(n)):e.push(t)}for(let t of r){let n=Bc(t.children);e.push(new $t(t.value,n))}return e.filter(t=>!r.has(t))}function H0(i){return i.data||{}}function N0(i){return i.resolve||{}}function Y0(i,e,r,t,n,a){return Vt(o=>F0(i,e,r,t,o.extractedUrl,n,a).pipe(Me(({state:l,tree:m})=>Be(he({},o),{targetSnapshot:l,urlAfterRedirects:m}))))}function B0(i,e){return Vt(r=>{let{targetSnapshot:t,guards:{canActivateChecks:n}}=r;if(!n.length)return be(r);let a=new Set(n.map(m=>m.route)),o=new Set;for(let m of a)if(!o.has(m))for(let d of jc(m))o.add(d);let l=0;return dt(o).pipe(Ki(m=>a.has(m)?j0(m,t,i,e):(m.data=ss(m,m.parent,i).resolve,be(void 0))),ut(()=>l++),to(1),Vt(m=>l===o.size?be(r):si))})}function jc(i){let e=i.children.map(r=>jc(r)).flat();return[i,...e]}function j0(i,e,r,t){let n=i.routeConfig,a=i._resolve;return n?.title!==void 0&&!Fc(n)&&(a[yr]=n.title),U0(a,i,e,t).pipe(Me(o=>(i._resolvedData=o,i.data=ss(i,i.parent,r).resolve,null)))}function U0(i,e,r,t){let n=Lo(i);if(n.length===0)return be({});let a={};return dt(n).pipe(Vt(o=>W0(i[o],e,r,t).pipe(Mi(),ut(l=>{a[o]=l}))),to(1),li(a),Ii(o=>Nc(o)?si:jn(o)))}function W0(i,e,r,t){let n=br(e)??t,a=Vn(i,n),o=a.resolve?a.resolve(e,r):Ci(n,()=>a(e,r));return Bi(o)}function Do(i){return St(e=>{let r=i(e);return r?dt(r).pipe(Me(()=>e)):be(e)})}var Uc=(()=>{let e=class e{buildTitle(t){let n,a=t.root;for(;a!==void 0;)n=this.getResolvedTitleForRoute(a)??n,a=a.children.find(o=>o.outlet===Ce);return n}getResolvedTitleForRoute(t){return t.data[yr]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:()=>me($0),providedIn:"root"});let i=e;return i})(),$0=(()=>{let e=class e extends Uc{constructor(t){super(),this.title=t}updateTitle(t){let n=this.buildTitle(t);n!==void 0&&this.title.setTitle(n)}};e.\u0275fac=function(n){return new(n||e)(ae(pc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ps=new xe("",{providedIn:"root",factory:()=>({})}),fs=new xe(""),q0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=me(ho)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return be(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let n=Bi(t.loadComponent()).pipe(Me(Wc),ut(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),di(()=>{this.componentLoaders.delete(t)})),a=new Za(n,()=>new ve).pipe(Xa());return this.componentLoaders.set(t,a),a}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return be({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=G0(n,this.compiler,t,this.onLoadEndListener).pipe(di(()=>{this.childrenLoaders.delete(n)})),l=new Za(o,()=>new ve).pipe(Xa());return this.childrenLoaders.set(n,l),l}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function G0(i,e,r,t){return Bi(i.loadChildren()).pipe(Me(Wc),Vt(n=>n instanceof F1||Array.isArray(n)?be(n):dt(e.compileModuleAsync(n))),Me(n=>{t&&t(i);let a,o,l=!1;return Array.isArray(n)?(o=n,l=!0):(a=n.create(r).injector,o=a.get(fs,[],{optional:!0,self:!0}).flat()),{routes:o.map(ds),injector:a}}))}function K0(i){return i&&typeof i=="object"&&"default"in i}function Wc(i){return K0(i)?i.default:i}var ms=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:()=>me(X0),providedIn:"root"});let i=e;return i})(),X0=(()=>{let e=class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Z0=new xe("");var Q0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve,this.transitionAbortSubject=new ve,this.configLoader=me(q0),this.environmentInjector=me(wn),this.urlSerializer=me(os),this.rootContexts=me(pa),this.location=me(xn),this.inputBindingEnabled=me(hs,{optional:!0})!==null,this.titleStrategy=me(Uc),this.options=me(ps,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=me(ms),this.createViewTransition=me(Z0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>be(void 0),this.rootComponentType=null;let t=a=>this.events.next(new jo(a)),n=a=>this.events.next(new Uo(a));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let n=++this.navigationId;this.transitions?.next(Be(he(he({},this.transitions.value),t),{id:n}))}setupNavigations(t,n,a){return this.transitions=new it({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cr,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ne(o=>o.id!==0),Me(o=>Be(he({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),St(o=>{let l=!1,m=!1;return be(o).pipe(St(d=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",qt.SupersededByNewNavigation),si;this.currentTransition=o,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Be(he({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=d.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!h&&s!=="reload"){let c="";return this.events.next(new cn(d.id,this.urlSerializer.serialize(d.rawUrl),c,Ro.IgnoredSameUrlNavigation)),d.resolve(null),si}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return be(d).pipe(St(c=>{let f=this.transitions?.getValue();return this.events.next(new dr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),f!==this.transitions?.getValue()?si:Promise.resolve(c)}),Y0(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ut(c=>{o.targetSnapshot=c.targetSnapshot,o.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=Be(he({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let f=new sa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:c,extractedUrl:f,source:p,restoredState:u,extras:y}=d,v=new dr(c,this.urlSerializer.serialize(f),p,u);this.events.next(v);let z=Oc(this.rootComponentType).snapshot;return this.currentTransition=o=Be(he({},d),{targetSnapshot:z,urlAfterRedirects:f,extras:Be(he({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,be(o)}else{let c="";return this.events.next(new cn(d.id,this.urlSerializer.serialize(d.extractedUrl),c,Ro.IgnoredByUrlHandlingStrategy)),d.resolve(null),si}}),ut(d=>{let h=new Ho(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Me(d=>(this.currentTransition=o=Be(he({},d),{guards:a0(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),o)),m0(this.environmentInjector,d=>this.events.next(d)),ut(d=>{if(o.guardsResult=d.guardsResult,Ln(d.guardsResult))throw Ic(this.urlSerializer,d.guardsResult);let h=new No(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(h)}),Ne(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",qt.GuardRejected),!1)),Do(d=>{if(d.guards.canActivateChecks.length)return be(d).pipe(ut(h=>{let s=new Yo(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(s)}),St(h=>{let s=!1;return be(h).pipe(B0(this.paramsInheritanceStrategy,this.environmentInjector),ut({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(h,"",qt.NoDataFromResolver)}}))}),ut(h=>{let s=new Bo(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(s)}))}),Do(d=>{let h=s=>{let c=[];s.routeConfig?.loadComponent&&!s.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(s.routeConfig).pipe(ut(f=>{s.component=f}),Me(()=>{})));for(let f of s.children)c.push(...h(f));return c};return ci(h(d.targetSnapshot.root)).pipe(eo(null),Xt(1))}),Do(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:d,targetSnapshot:h}=o,s=this.createViewTransition?.(this.environmentInjector,d.root,h.root);return s?dt(s).pipe(Me(()=>o)):be(o)}),Me(d=>{let h=Z3(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o=Be(he({},d),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),ut(()=>{this.events.next(new pr)}),r0(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Xt(1),ut({next:d=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jt(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{l=!0}}),fe(this.transitionAbortSubject.pipe(ut(d=>{throw d}))),di(()=>{!l&&!m&&this.cancelNavigationTransition(o,"",qt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ii(d=>{if(m=!0,Hc(d))this.events.next(new Yi(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),e0(d)?this.events.next(new fr(d.url)):o.resolve(!1);else{this.events.next(new ur(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(d))}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return si}))}))}cancelNavigationTransition(t,n,a){let o=new Yi(t.id,this.urlSerializer.serialize(t.extractedUrl),n,a);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function J0(i){return i!==cr}var e8=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:()=>me(t8),providedIn:"root"});let i=e;return i})(),as=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},t8=(()=>{let e=class e extends as{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Xi(e)))(a||e)}})(),e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),$c=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:()=>me(i8),providedIn:"root"});let i=e;return i})(),i8=(()=>{let e=class e extends $c{constructor(){super(...arguments),this.location=me(xn),this.urlSerializer=me(os),this.options=me(ps,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=me(ms),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ni,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Oc(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{n.type==="popstate"&&t(n.url,n.state)})}handleRouterEvent(t,n){if(t instanceof dr)this.stateMemento=this.createStateMemento();else if(t instanceof cn)this.rawUrlTree=n.initialUrl;else if(t instanceof sa){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let a=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(a,n)}}else t instanceof pr?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):t instanceof Yi&&(t.code===qt.GuardRejected||t.code===qt.NoDataFromResolver)?this.restoreHistory(n):t instanceof ur?this.restoreHistory(n,!0):t instanceof Jt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,n){let a=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(a)||n.extras.replaceUrl){let o=this.browserPageId,l=he(he({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(a,"",l)}else{let o=he(he({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(a,"",o)}}restoreHistory(t,n=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,o=this.currentPageId-a;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Xi(e)))(a||e)}})(),e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),or=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(or||{});function n8(i,e){i.events.pipe(Ne(r=>r instanceof Jt||r instanceof Yi||r instanceof ur||r instanceof cn),Me(r=>r instanceof Jt||r instanceof cn?or.COMPLETE:(r instanceof Yi?r.code===qt.Redirect||r.code===qt.SupersededByNewNavigation:!1)?or.REDIRECTING:or.FAILED),Ne(r=>r!==or.REDIRECTING),Xt(1)).subscribe(()=>{e()})}function r8(i){throw i}var a8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},o8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ji=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=me(Rr),this.stateManager=me($c),this.options=me(ps,{optional:!0})||{},this.pendingTasks=me(Ir),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=me(Q0),this.urlSerializer=me(os),this.location=me(xn),this.urlHandlingStrategy=me(ms),this._events=new ve,this.errorHandler=this.options.errorHandler||r8,this.navigated=!1,this.routeReuseStrategy=me(e8),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=me(fs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!me(hs,{optional:!0}),this.eventsSubscription=new ti,this.isNgZoneEnabled=me(He)instanceof He&&He.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(n=>{try{let a=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(a!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Yi&&n.code!==qt.Redirect&&n.code!==qt.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Jt)this.navigated=!0;else if(n instanceof fr){let l=this.urlHandlingStrategy.merge(n.url,a.currentRawUrl),m={info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||J0(a.source)};this.scheduleNavigation(l,cr,null,m,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}c8(n)&&this._events.next(n)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",n)},0)})}navigateToSyncWithBrowser(t,n,a){let o={replaceUrl:!0},l=a?.navigationId?a:null;if(a){let d=he({},a);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let m=this.parseUrl(t);this.scheduleNavigation(m,n,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ds),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){let{relativeTo:a,queryParams:o,fragment:l,queryParamsHandling:m,preserveFragment:d}=n,h=d?this.currentUrlTree.fragment:l,s=null;switch(m){case"merge":s=he(he({},this.currentUrlTree.queryParams),o);break;case"preserve":s=this.currentUrlTree.queryParams;break;default:s=o||null}s!==null&&(s=this.removeEmptyProps(s));let c;try{let f=a?a.snapshot:this.routerState.snapshot.root;c=Tc(f)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),c=this.currentUrlTree.root}return Ec(c,t,s,h??null)}navigateByUrl(t,n={skipLocationChange:!1}){let a=Ln(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(o,cr,null,n)}navigate(t,n={skipLocationChange:!1}){return s8(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,n){let a;if(n===!0?a=he({},a8):n===!1?a=he({},o8):a=n,Ln(t))return fc(this.currentUrlTree,t,a);let o=this.parseUrl(t);return fc(this.currentUrlTree,o,a)}removeEmptyProps(t){return Object.entries(t).reduce((n,[a,o])=>(o!=null&&(n[a]=o),n),{})}scheduleNavigation(t,n,a,o,l){if(this.disposed)return Promise.resolve(!1);let m,d,h;l?(m=l.resolve,d=l.reject,h=l.promise):h=new Promise((c,f)=>{m=c,d=f});let s=this.pendingTasks.add();return n8(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(s))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:m,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(c=>Promise.reject(c))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function s8(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new Qe(4008,!1)}function c8(i){return!(i instanceof pr)&&!(i instanceof fr)}var ma=(()=>{let e=class e{constructor(t,n,a,o,l,m){this.router=t,this.route=n,this.tabIndexAttribute=a,this.renderer=o,this.el=l,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new ve,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let d=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=t.events.subscribe(h=>{h instanceof Jt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t!=null?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,n,a,o,l){let m=this.urlTree;if(m===null||this.isAnchorElement&&(t!==0||n||a||o||l||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(m,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let n=this.href===null?null:L1(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(t,n){let a=this.renderer,o=this.el.nativeElement;n!==null?a.setAttribute(o,t,n):a.removeAttribute(o,t)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(n){return new(n||e)(oe(ji),oe(Ti),w1("tabindex"),oe(yt),oe(Re),oe(po))},e.\u0275dir=Je({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,a){n&1&&nt("click",function(l){return a.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),n&2&&Sn("target",a.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[we.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ht],skipLocationChange:[we.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ht],replaceUrl:[we.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ht],routerLink:"routerLink"},standalone:!0,features:[Ji,Ze]});let i=e;return i})();var l8=new xe("");function qc(i,...e){return ui([{provide:fs,multi:!0,useValue:i},[],{provide:Ti,useFactory:h8,deps:[ji]},{provide:lo,multi:!0,useFactory:d8},e.map(r=>r.\u0275providers)])}function h8(i){return i.routerState.root}function d8(){let i=me(Si);return e=>{let r=i.get(zn);if(e!==r.components[0])return;let t=i.get(ji),n=i.get(u8);i.get(p8)===1&&t.initialNavigation(),i.get(f8,null,io.Optional)?.setUpPreloading(),i.get(l8,null,io.Optional)?.init(),t.resetRootComponentType(r.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var u8=new xe("",{factory:()=>new ve}),p8=new xe("",{providedIn:"root",factory:()=>1});var f8=new xe("");function Gc(i){return i!=null&&`${i}`!="false"}function gs(i){return Array.isArray(i)?i:[i]}function rt(i){return i==null?"":typeof i=="string"?i:`${i}px`}function Kc(i){return i instanceof Re?i.nativeElement:i}var Xc={isTestMode:!1};var Zc={},vs="[NG-ZORRO]:";function g8(...i){let e=i.reduce((r,t)=>r+t.toString(),"");return Zc[e]?!1:(Zc[e]=!0,!0)}function v8(i,...e){(Xc.isTestMode||Hr()&&g8(...e))&&i(...e)}var ln=(...i)=>v8((...e)=>console.warn(vs,...e),...i);function Jc(i){return typeof i<"u"&&i!==null}function bs(i){return Gc(i)}function el(i){return rt(i)}function y8(i,e){function r(t,n,a){let o=`$$__zorroPropDecorator__${n}`;return Object.prototype.hasOwnProperty.call(t,o)&&ln(`The prop "${o}" is already exist, it will be overrided by ${i} decorator.`),Object.defineProperty(t,o,{configurable:!0,writable:!0}),{get(){return a&&a.get?a.get.bind(this)():this[o]},set(l){a&&a.set&&a.set.bind(this)(e(l)),this[o]=e(l)}}}return r}function et(){return y8("InputBoolean",bs)}var b8=typeof window<"u",Yu=b8&&window.mozInnerScreenX!=null;function tl(){let i=new ve;return Promise.resolve().then(()=>i.next()),i.pipe(Xt(1))}function _s(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var _8="rc-util-key";function il({mark:i}={}){return i?i.startsWith("data-")?i:`data-${i}`:_8}function ws(i){return i.attachTo?i.attachTo:document.querySelector("head")||document.body}function Qc(i,e={}){if(!_s())return null;let r=document.createElement("style");e.cspNonce&&(r.nonce=e.cspNonce),r.innerHTML=i;let t=ws(e),{firstChild:n}=t;return e.prepend&&t.prepend?t.prepend(r):e.prepend&&n?t.insertBefore(r,n):t.appendChild(r),r}var ys=new Map;function w8(i,e={}){let r=ws(e);return Array.from(ys.get(r)?.children||[]).find(t=>t.tagName==="STYLE"&&t.getAttribute(il(e))===i)}function nl(i,e,r={}){let t=ws(r);if(!ys.has(t)){let o=Qc("",r),{parentNode:l}=o;ys.set(t,l),l.removeChild(o)}let n=w8(e,r);if(n)return r.cspNonce&&n.nonce!==r.cspNonce&&(n.nonce=r.cspNonce),n.innerHTML!==i&&(n.innerHTML=i),n;let a=Qc(i,r);return a?.setAttribute(il(r),e),a}var M8=new xe("cdk-dir-doc",{providedIn:"root",factory:C8});function C8(){return me(Le)}var S8=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function z8(i){let e=i?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?S8.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var xt=(()=>{let e=class e{constructor(t){if(this.value="ltr",this.change=new ke,t){let n=t.body?t.body.dir:null,a=t.documentElement?t.documentElement.dir:null;this.value=z8(n||a||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(n){return new(n||e)(ae(M8,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var wr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({});let i=e;return i})();var Ms;try{Ms=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ms=!1}var Pt=(()=>{let e=class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?U1(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Ms)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(n){return new(n||e)(ae(zi))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var hn;function rl(){if(hn==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return hn=!1,hn;if("scrollBehavior"in document.documentElement.style)hn=!0;else{let i=Element.prototype.scrollTo;i?hn=!/\{\s*\[native code\]\s*\}/.test(i.toString()):hn=!1}}return hn}function Cs(i){return i.composedPath?i.composedPath()[0]:i.target}function Ss(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var P8=20,ol=(()=>{let e=class e{constructor(t,n,a){this._ngZone=t,this._platform=n,this._scrolled=new ve,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=P8){return this._platform.isBrowser?new _n(n=>{this._globalSubscription||this._addGlobalListener();let a=t>0?this._scrolled.pipe(wi(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):be()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){let a=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(Ne(o=>!o||a.indexOf(o)>-1))}getAncestorScrollContainers(t){let n=[];return this.scrollContainers.forEach((a,o)=>{this._scrollableContainsElement(o,t)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let a=Kc(n),o=t.getElementRef().nativeElement;do if(a==o)return!0;while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return Xe(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(n){return new(n||e)(ae(He),ae(Pt),ae(Le,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var A8=20,zs=(()=>{let e=class e{constructor(t,n,a){this._platform=t,this._change=new ve,this._changeListener=o=>{this._change.next(o)},this._document=a,n.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:n,height:a}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+a,right:t.left+n,height:a,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,n=this._getWindow(),a=t.documentElement,o=a.getBoundingClientRect(),l=-o.top||t.body.scrollTop||n.scrollY||a.scrollTop||0,m=-o.left||t.body.scrollLeft||n.scrollX||a.scrollLeft||0;return{top:l,left:m}}change(t=A8){return t>0?this._change.pipe(wi(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(n){return new(n||e)(ae(Pt),ae(He),ae(Le,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var al=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({});let i=e;return i})(),xs=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({imports:[wr,al,wr,al]});let i=e;return i})();var Cr=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ps=class extends Cr{constructor(e,r,t,n,a){super(),this.component=e,this.viewContainerRef=r,this.injector=t,this.componentFactoryResolver=n,this.projectableNodes=a}},un=class extends Cr{constructor(e,r,t,n){super(),this.templateRef=e,this.viewContainerRef=r,this.context=t,this.injector=n}get origin(){return this.templateRef.elementRef}attach(e,r=this.context){return this.context=r,super.attach(e)}detach(){return this.context=void 0,super.detach()}},As=class extends Cr{constructor(e){super(),this.element=e instanceof Re?e.nativeElement:e}},Ts=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Ps)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof un)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof As)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var ga=class extends Ts{constructor(e,r,t,n,a){super(),this.outletElement=e,this._componentFactoryResolver=r,this._appRef=t,this._defaultInjector=n,this.attachDomPortal=o=>{this._document;let l=o.element;l.parentNode;let m=this._document.createComment("dom-portal");l.parentNode.insertBefore(m,l),this.outletElement.appendChild(l),this._attachedPortal=o,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(l,m)})},this._document=a}attachComponentPortal(e){let t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector||Si.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let r=e.viewContainerRef,t=r.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return t.rootNodes.forEach(n=>this.outletElement.appendChild(n)),t.detectChanges(),this.setDisposeFn(()=>{let n=r.indexOf(t);n!==-1&&r.remove(n)}),this._attachedPortal=e,t}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var sl=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({});let i=e;return i})();function va(i,...e){return e.length?e.some(r=>i[r]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var cl=rl(),Es=class{constructor(e,r){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=rt(-this._previousScrollPosition.left),e.style.top=rt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,r=this._document.body,t=e.style,n=r.style,a=t.scrollBehavior||"",o=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),cl&&(t.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),cl&&(t.scrollBehavior=a,n.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let r=this._document.body,t=this._viewportRuler.getViewportSize();return r.scrollHeight>t.height||r.scrollWidth>t.width}};var ks=class{constructor(e,r,t,n){this._scrollDispatcher=e,this._ngZone=r,this._viewportRuler=t,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ne(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},ya=class{enable(){}disable(){}attach(){}};function Ds(i,e){return e.some(r=>{let t=i.bottom<r.top,n=i.top>r.bottom,a=i.right<r.left,o=i.left>r.right;return t||n||a||o})}function ll(i,e){return e.some(r=>{let t=i.top<r.top,n=i.bottom>r.bottom,a=i.left<r.left,o=i.right>r.right;return t||n||a||o})}var Os=class{constructor(e,r,t,n){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=t,this._config=n,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();Ds(r,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},E8=(()=>{let e=class e{constructor(t,n,a,o){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=a,this.noop=()=>new ya,this.close=l=>new ks(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new Es(this._viewportRuler,this._document),this.reposition=l=>new Os(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}};e.\u0275fac=function(n){return new(n||e)(ae(ol),ae(zs),ae(He),ae(Le))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ba=class{constructor(e){if(this.scrollStrategy=new ya,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let r=Object.keys(e);for(let t of r)e[t]!==void 0&&(this[t]=e[t])}}},Ke=class{constructor(e,r,t,n,a){this.offsetX=t,this.offsetY=n,this.panelClass=a,this.originX=e.originX,this.originY=e.originY,this.overlayX=r.overlayX,this.overlayY=r.overlayY}};var Ls=class{constructor(e,r){this.connectionPair=e,this.scrollableViewProperties=r}};var fl=(()=>{let e=class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let n=this._attachedOverlays.indexOf(t);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(n){return new(n||e)(ae(Le))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),k8=(()=>{let e=class e extends fl{constructor(t,n){super(t),this._ngZone=n,this._keydownListener=a=>{let o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){let m=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(a)):m.next(a);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(n){return new(n||e)(ae(Le),ae(He,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),D8=(()=>{let e=class e extends fl{constructor(t,n,a){super(t),this._platform=n,this._ngZone=a,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Cs(o)},this._clickListener=o=>{let l=Cs(o),m=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;let d=this._attachedOverlays.slice();for(let h=d.length-1;h>-1;h--){let s=d[h];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(s.overlayElement.contains(l)||s.overlayElement.contains(m))break;let c=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(o)):c.next(o)}}}add(t){if(super.add(t),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(n){return new(n||e)(ae(Le),ae(Pt),ae(He,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ml=(()=>{let e=class e{constructor(t,n){this._platform=n,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Ss()){let a=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<a.length;o++)a[o].remove()}let n=this._document.createElement("div");n.classList.add(t),Ss()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}};e.\u0275fac=function(n){return new(n||e)(ae(Le),ae(Pt))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Fs=class{constructor(e,r,t,n,a,o,l,m,d,h=!1){this._portalOutlet=e,this._host=r,this._pane=t,this._config=n,this._ngZone=a,this._keyboardDispatcher=o,this._document=l,this._location=m,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new ve,this._attachments=new ve,this._detachments=new ve,this._locationChanges=ti.EMPTY,this._backdropClickHandler=s=>this._backdropClick.next(s),this._backdropTransitionendHandler=s=>{this._disposeBackdrop(s.target)},this._keydownEvents=new ve,this._outsidePointerEvents=new ve,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let r=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Xt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof r?.onDestroy=="function"&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=he(he({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Be(he({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=rt(this._config.width),e.height=rt(this._config.height),e.minWidth=rt(this._config.minWidth),e.minHeight=rt(this._config.minHeight),e.maxWidth=rt(this._config.maxWidth),e.maxHeight=rt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,r,t){let n=gs(r||[]).filter(a=>!!a);n.length&&(t?e.classList.add(...n):e.classList.remove(...n))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(fe(ii(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},hl="cdk-overlay-connected-position-bounding-box",O8=/([A-Za-z%]+)$/,Vs=class{get positions(){return this._preferredPositions}constructor(e,r,t,n,a){this._viewportRuler=r,this._document=t,this._platform=n,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ve,this._resizeSubscription=ti.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(hl),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,r=this._overlayRect,t=this._viewportRect,n=this._containerRect,a=[],o;for(let l of this._preferredPositions){let m=this._getOriginPoint(e,n,l),d=this._getOverlayPoint(m,r,l),h=this._getOverlayFit(d,r,t,l);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,m);return}if(this._canFitWithFlexibleDimensions(h,d,t)){a.push({position:l,origin:m,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(m,l)});continue}(!o||o.overlayFit.visibleArea<h.visibleArea)&&(o={overlayFit:h,overlayPoint:d,originPoint:m,position:l,overlayRect:r})}if(a.length){let l=null,m=-1;for(let d of a){let h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>m&&(m=h,l=d)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&pn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hl),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,r)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,r,t){let n;if(t.originX=="center")n=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,l=this._isRtl()?e.left:e.right;n=t.originX=="start"?o:l}r.left<0&&(n-=r.left);let a;return t.originY=="center"?a=e.top+e.height/2:a=t.originY=="top"?e.top:e.bottom,r.top<0&&(a-=r.top),{x:n,y:a}}_getOverlayPoint(e,r,t){let n;t.overlayX=="center"?n=-r.width/2:t.overlayX==="start"?n=this._isRtl()?-r.width:0:n=this._isRtl()?0:-r.width;let a;return t.overlayY=="center"?a=-r.height/2:a=t.overlayY=="top"?0:-r.height,{x:e.x+n,y:e.y+a}}_getOverlayFit(e,r,t,n){let a=ul(r),{x:o,y:l}=e,m=this._getOffset(n,"x"),d=this._getOffset(n,"y");m&&(o+=m),d&&(l+=d);let h=0-o,s=o+a.width-t.width,c=0-l,f=l+a.height-t.height,p=this._subtractOverflows(a.width,h,s),u=this._subtractOverflows(a.height,c,f),y=p*u;return{visibleArea:y,isCompletelyWithinViewport:a.width*a.height===y,fitsInViewportVertically:u===a.height,fitsInViewportHorizontally:p==a.width}}_canFitWithFlexibleDimensions(e,r,t){if(this._hasFlexibleDimensions){let n=t.bottom-r.y,a=t.right-r.x,o=dl(this._overlayRef.getConfig().minHeight),l=dl(this._overlayRef.getConfig().minWidth),m=e.fitsInViewportVertically||o!=null&&o<=n,d=e.fitsInViewportHorizontally||l!=null&&l<=a;return m&&d}return!1}_pushOverlayOnScreen(e,r,t){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let n=ul(r),a=this._viewportRect,o=Math.max(e.x+n.width-a.width,0),l=Math.max(e.y+n.height-a.height,0),m=Math.max(a.top-t.top-e.y,0),d=Math.max(a.left-t.left-e.x,0),h=0,s=0;return n.width<=a.width?h=d||-o:h=e.x<this._viewportMargin?a.left-t.left-e.x:0,n.height<=a.height?s=m||-l:s=e.y<this._viewportMargin?a.top-t.top-e.y:0,this._previousPushAmount={x:h,y:s},{x:e.x+h,y:e.y+s}}_applyPosition(e,r){if(this._setTransformOrigin(e),this._setOverlayElementStyles(r,e),this._setBoundingBoxStyles(r,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let t=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!L8(this._lastScrollVisibility,t)){let n=new Ls(e,t);this._positionChanges.next(n)}this._lastScrollVisibility=t}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let r=this._boundingBox.querySelectorAll(this._transformOriginSelector),t,n=e.overlayY;e.overlayX==="center"?t="center":this._isRtl()?t=e.overlayX==="start"?"right":"left":t=e.overlayX==="start"?"left":"right";for(let a=0;a<r.length;a++)r[a].style.transformOrigin=`${t} ${n}`}_calculateBoundingBoxRect(e,r){let t=this._viewportRect,n=this._isRtl(),a,o,l;if(r.overlayY==="top")o=e.y,a=t.height-o+this._viewportMargin;else if(r.overlayY==="bottom")l=t.height-e.y+this._viewportMargin*2,a=t.height-l+this._viewportMargin;else{let f=Math.min(t.bottom-e.y+t.top,e.y),p=this._lastBoundingBoxSize.height;a=f*2,o=e.y-f,a>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}let m=r.overlayX==="start"&&!n||r.overlayX==="end"&&n,d=r.overlayX==="end"&&!n||r.overlayX==="start"&&n,h,s,c;if(d)c=t.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(m)s=e.x,h=t.right-e.x;else{let f=Math.min(t.right-e.x+t.left,e.x),p=this._lastBoundingBoxSize.width;h=f*2,s=e.x-f,h>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.x-p/2)}return{top:o,left:s,bottom:l,right:c,width:h,height:a}}_setBoundingBoxStyles(e,r){let t=this._calculateBoundingBoxRect(e,r);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let a=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;n.height=rt(t.height),n.top=rt(t.top),n.bottom=rt(t.bottom),n.width=rt(t.width),n.left=rt(t.left),n.right=rt(t.right),r.overlayX==="center"?n.alignItems="center":n.alignItems=r.overlayX==="end"?"flex-end":"flex-start",r.overlayY==="center"?n.justifyContent="center":n.justifyContent=r.overlayY==="bottom"?"flex-end":"flex-start",a&&(n.maxHeight=rt(a)),o&&(n.maxWidth=rt(o))}this._lastBoundingBoxSize=t,pn(this._boundingBox.style,n)}_resetBoundingBoxStyles(){pn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){pn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,r){let t={},n=this._hasExactPosition(),a=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(n){let h=this._viewportRuler.getViewportScrollPosition();pn(t,this._getExactOverlayY(r,e,h)),pn(t,this._getExactOverlayX(r,e,h))}else t.position="static";let l="",m=this._getOffset(r,"x"),d=this._getOffset(r,"y");m&&(l+=`translateX(${m}px) `),d&&(l+=`translateY(${d}px)`),t.transform=l.trim(),o.maxHeight&&(n?t.maxHeight=rt(o.maxHeight):a&&(t.maxHeight="")),o.maxWidth&&(n?t.maxWidth=rt(o.maxWidth):a&&(t.maxWidth="")),pn(this._pane.style,t)}_getExactOverlayY(e,r,t){let n={top:"",bottom:""},a=this._getOverlayPoint(r,this._overlayRect,e);if(this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,t)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;n.bottom=`${o-(a.y+this._overlayRect.height)}px`}else n.top=rt(a.y);return n}_getExactOverlayX(e,r,t){let n={left:"",right:""},a=this._getOverlayPoint(r,this._overlayRect,e);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,t));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let l=this._document.documentElement.clientWidth;n.right=`${l-(a.x+this._overlayRect.width)}px`}else n.left=rt(a.x);return n}_getScrollVisibility(){let e=this._getOriginRect(),r=this._pane.getBoundingClientRect(),t=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ll(e,t),isOriginOutsideView:Ds(e,t),isOverlayClipped:ll(r,t),isOverlayOutsideView:Ds(r,t)}}_subtractOverflows(e,...r){return r.reduce((t,n)=>t-Math.max(n,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+e-this._viewportMargin,bottom:t.top+r-this._viewportMargin,width:e-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,r){return r==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&gs(e).forEach(r=>{r!==""&&this._appliedPanelClasses.indexOf(r)===-1&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Re)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let r=e.width||0,t=e.height||0;return{top:e.y,bottom:e.y+t,left:e.x,right:e.x+r,height:t,width:r}}};function pn(i,e){for(let r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);return i}function dl(i){if(typeof i!="number"&&i!=null){let[e,r]=i.split(O8);return!r||r==="px"?parseFloat(e):null}return i||null}function ul(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function L8(i,e){return i===e?!0:i.isOriginClipped===e.isOriginClipped&&i.isOriginOutsideView===e.isOriginOutsideView&&i.isOverlayClipped===e.isOverlayClipped&&i.isOverlayOutsideView===e.isOverlayOutsideView}var pl="cdk-global-overlay-wrapper",Is=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let r=e.getConfig();this._overlayRef=e,this._width&&!r.width&&e.updateSize({width:this._width}),this._height&&!r.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(pl),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:n,height:a,maxWidth:o,maxHeight:l}=t,m=(n==="100%"||n==="100vw")&&(!o||o==="100%"||o==="100vw"),d=(a==="100%"||a==="100vh")&&(!l||l==="100%"||l==="100vh"),h=this._xPosition,s=this._xOffset,c=this._overlayRef.getConfig().direction==="rtl",f="",p="",u="";m?u="flex-start":h==="center"?(u="center",c?p=s:f=s):c?h==="left"||h==="end"?(u="flex-end",f=s):(h==="right"||h==="start")&&(u="flex-start",p=s):h==="left"||h==="start"?(u="flex-start",f=s):(h==="right"||h==="end")&&(u="flex-end",p=s),e.position=this._cssPosition,e.marginLeft=m?"0":f,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=m?"0":p,r.justifyContent=u,r.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,t=r.style;r.classList.remove(pl),t.justifyContent=t.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},F8=(()=>{let e=class e{constructor(t,n,a,o){this._viewportRuler=t,this._document=n,this._platform=a,this._overlayContainer=o}global(){return new Is}flexibleConnectedTo(t){return new Vs(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(n){return new(n||e)(ae(zs),ae(Le),ae(Pt),ae(ml))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),V8=0,In=(()=>{let e=class e{constructor(t,n,a,o,l,m,d,h,s,c,f,p){this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=a,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=m,this._ngZone=d,this._document=h,this._directionality=s,this._location=c,this._outsideClickDispatcher=f,this._animationsModuleType=p}create(t){let n=this._createHostElement(),a=this._createPaneElement(n),o=this._createPortalOutlet(a),l=new ba(t);return l.direction=l.direction||this._directionality.value,new Fs(o,n,a,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(t){let n=this._document.createElement("div");return n.id=`cdk-overlay-${V8++}`,n.classList.add("cdk-overlay-pane"),t.appendChild(n),n}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(zn)),new ga(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(n){return new(n||e)(ae(E8),ae(ml),ae(oo),ae(F8),ae(k8),ae(Si),ae(He),ae(Le),ae(xt),ae(xn),ae(D8),ae(pi,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),I8=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],gl=new xe("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=me(In);return()=>i.scrollStrategies.reposition()}}),fn=(()=>{let e=class e{constructor(t){this.elementRef=t}};e.\u0275fac=function(n){return new(n||e)(oe(Re))},e.\u0275dir=Je({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let i=e;return i})(),Rn=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,n,a,o,l){this._overlay=t,this._dir=l,this._backdropSubscription=ti.EMPTY,this._attachSubscription=ti.EMPTY,this._detachSubscription=ti.EMPTY,this._positionSubscription=ti.EMPTY,this._disposeOnNavigation=!1,this._ngZone=me(He),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new ke,this.positionChange=new ke,this.attach=new ke,this.detach=new ke,this.overlayKeydown=new ke,this.overlayOutsideClick=new ke,this._templatePortal=new un(n,a),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=I8);let t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!va(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),n=new ba({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(t){let n=this.positions.map(a=>({originX:a.originX,originY:a.originY,overlayX:a.overlayX,overlayY:a.overlayY,offsetX:a.offsetX||this.offsetX,offsetY:a.offsetY||this.offsetY,panelClass:a.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof fn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(v1(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(oe(In),oe(It),oe(ri),oe(gl),oe(xt,8))},e.\u0275dir=Je({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[we.None,"cdkConnectedOverlayOrigin","origin"],positions:[we.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[we.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[we.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[we.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[we.None,"cdkConnectedOverlayWidth","width"],height:[we.None,"cdkConnectedOverlayHeight","height"],minWidth:[we.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[we.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[we.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[we.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[we.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[we.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[we.None,"cdkConnectedOverlayOpen","open"],disableClose:[we.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[we.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[we.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Ht],lockPosition:[we.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",Ht],flexibleDimensions:[we.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Ht],growAfterOpen:[we.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Ht],push:[we.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",Ht],disposeOnNavigation:[we.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Ht]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Ji,Ze]});let i=e;return i})();function R8(i){return()=>i.scrollStrategies.reposition()}var H8={provide:gl,deps:[In],useFactory:R8},_a=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({providers:[In,H8],imports:[wr,sl,xs,xs]});let i=e;return i})();var N8=(()=>{let e=class e extends Wr{constructor(t,n,a){super(t,n,a,me(Fr,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(n){return new(n||e)(ae(Le),ae(Kn),ae(Ur))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})();function Y8(){return new $1}function B8(i,e,r){return new G1(i,e,r)}var vl=[{provide:Ur,useFactory:Y8},{provide:Wr,useClass:N8},{provide:Zt,useFactory:B8,deps:[An,Wr,He]}],G5=[{provide:Kn,useFactory:()=>new q1},{provide:pi,useValue:"BrowserAnimations"},...vl],K5=[{provide:Kn,useClass:W1},{provide:pi,useValue:"NoopAnimations"},...vl];var Ei=(()=>{let e=class e{constructor(){this.animationType=me(pi,{optional:!0}),this.nzNoAnimation=!1}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Je({type:e,selectors:[["","nzNoAnimation",""]],hostVars:2,hostBindings:function(n,a){n&2&&ot("nz-animate-disabled",a.nzNoAnimation||a.animationType==="NoopAnimations")},inputs:{nzNoAnimation:[we.HasDecoratorInputTransform,"nzNoAnimation","nzNoAnimation",Ht]},exportAs:["nzNoAnimation"],standalone:!0,features:[Ji]});let i=e;return i})();var bl=new Set,mn,_l=(()=>{let e=class e{constructor(t,n){this._platform=t,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):U8}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&j8(t,this._nonce),this._matchMedia(t)}};e.\u0275fac=function(n){return new(n||e)(ae(Pt),ae(Zi,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function j8(i,e){if(!bl.has(i))try{mn||(mn=document.createElement("style"),e&&mn.setAttribute("nonce",e),mn.setAttribute("type","text/css"),document.head.appendChild(mn)),mn.sheet&&(mn.sheet.insertRule(`@media ${i} {body{ }}`,0),bl.add(i))}catch(r){console.error(r)}}function U8(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var Hs=()=>{},$8=(()=>{let e=class e{constructor(t,n){this.ngZone=t,this.rendererFactory2=n,this.resizeSource$=new ve,this.listeners=0,this.disposeHandle=Hs,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=Hs}subscribe(){return this.registerListener(),this.resizeSource$.pipe(wi(16),di(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){this.listeners===0&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,this.listeners===0&&(this.disposeHandle(),this.disposeHandle=Hs)}};e.\u0275fac=function(n){return new(n||e)(ae(He),ae(Zt))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var wl=function(i){return i.xxl="xxl",i.xl="xl",i.lg="lg",i.md="md",i.sm="sm",i.xs="xs",i}(wl||{}),q8={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Ml={xs:"(max-width: 479.98px)",sm:"(max-width: 575.98px)",md:"(max-width: 767.98px)",lg:"(max-width: 991.98px)",xl:"(max-width: 1199.98px)",xxl:"(max-width: 1599.98px)"},Cl=(()=>{let e=class e{constructor(t,n){this.resizeService=t,this.mediaMatcher=n,this.destroy$=new ve,this.resizeService.subscribe().pipe(fe(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(t,n){if(n){let a=()=>this.matchMedia(t,!0);return this.resizeService.subscribe().pipe(Me(a),ni(a()),hi((o,l)=>o[0]===l[0]),Me(o=>o[1]))}else{let a=()=>this.matchMedia(t);return this.resizeService.subscribe().pipe(Me(a),ni(a()),hi())}}matchMedia(t,n){let a=wl.md,o={};return Object.keys(t).map(l=>{let m=l,d=this.mediaMatcher.matchMedia(q8[m]).matches;o[l]=d,d&&(a=m)}),n?[a,o]:a}};e.\u0275fac=function(n){return new(n||e)(ae($8),ae(_l))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ma=(()=>{let e=class e extends ve{ngOnDestroy(){this.next(),this.complete()}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Xi(e)))(a||e)}})(),e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})();var Ee={top:new Ke({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new Ke({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new Ke({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new Ke({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new Ke({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new Ke({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new Ke({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new Ke({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new Ke({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new Ke({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new Ke({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new Ke({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new Ke({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new Ke({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},Ns=[Ee.top,Ee.right,Ee.bottom,Ee.left],b7=[Ee.bottomLeft,Ee.bottomRight,Ee.topLeft,Ee.topRight,Ee.topCenter,Ee.bottomCenter],_7=[new Ke({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new Ke({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})],w7=[Ee.bottomLeft,new Ke({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"})];function Sr(i){for(let e in Ee)if(i.connectionPair.originX===Ee[e].originX&&i.connectionPair.originY===Ee[e].originY&&i.connectionPair.overlayX===Ee[e].overlayX&&i.connectionPair.overlayY===Ee[e].overlayY)return e}var Ca={bottomLeft:new Ke({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),topLeft:new Ke({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),bottomRight:new Ke({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),topRight:new Ke({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2)},M7=[Ca.bottomLeft,Ca.topLeft,Ca.bottomRight,Ca.topRight],zl=(()=>{let e=class e{constructor(t,n){this.cdkConnectedOverlay=t,this.nzDestroyService=n,this.nzArrowPointAtCenter=!1,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe(fe(this.nzDestroyService)).subscribe(a=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(a)})}updateArrowPosition(t){let n=this.getOriginRect(),a=Sr(t),o=0,l=0;a==="topLeft"||a==="bottomLeft"?o=n.width/2-14:a==="topRight"||a==="bottomRight"?o=-(n.width/2-14):a==="leftTop"||a==="rightTop"?l=n.height/2-10:(a==="leftBottom"||a==="rightBottom")&&(l=-(n.height/2-10)),(this.cdkConnectedOverlay.offsetX!==o||this.cdkConnectedOverlay.offsetY!==l)&&(this.cdkConnectedOverlay.offsetY=l,this.cdkConnectedOverlay.offsetX=o,this.cdkConnectedOverlay.overlayRef.updatePosition())}getFlexibleConnectedPositionStrategyOrigin(){return this.cdkConnectedOverlay.origin instanceof fn?this.cdkConnectedOverlay.origin.elementRef:this.cdkConnectedOverlay.origin}getOriginRect(){let t=this.getFlexibleConnectedPositionStrategyOrigin();if(t instanceof Re)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,a=t.height||0;return{top:t.y,bottom:t.y+a,left:t.x,right:t.x+n,height:a,width:n}}};e.\u0275fac=function(n){return new(n||e)(oe(Rn),oe(Ma))},e.\u0275dir=Je({type:e,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:"nzArrowPointAtCenter"},exportAs:["nzConnectedOverlay"],features:[Wt([Ma])]});let i=e;return tt([et()],i.prototype,"nzArrowPointAtCenter",void 0),i})(),xl=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({});let i=e;return i})();var At=(()=>{let e=class e{};e.SLOW="0.3s",e.BASE="0.2s",e.FAST="0.1s";let i=e;return i})(),Ot=(()=>{let e=class e{};e.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",e.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",e.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",e.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",e.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",e.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",e.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",e.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",e.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",e.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",e.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",e.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",e.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",e.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)";let i=e;return i})(),Pl=Nt("collapseMotion",[Yt("expanded",ye({height:"*"})),Yt("collapsed",ye({height:0,overflow:"hidden"})),Yt("hidden",ye({height:0,overflow:"hidden",borderTopWidth:"0"})),qe("expanded => collapsed",Ue(`150ms ${Ot.EASE_IN_OUT}`)),qe("expanded => hidden",Ue(`150ms ${Ot.EASE_IN_OUT}`)),qe("collapsed => expanded",Ue(`150ms ${Ot.EASE_IN_OUT}`)),qe("hidden => expanded",Ue(`150ms ${Ot.EASE_IN_OUT}`))]),S7=Nt("treeCollapseMotion",[qe("* => *",[fo("nz-tree-node:leave,nz-tree-builtin-node:leave",[ye({overflow:"hidden"}),mo(0,[Ue(`150ms ${Ot.EASE_IN_OUT}`,ye({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),fo("nz-tree-node:enter,nz-tree-builtin-node:enter",[ye({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),mo(0,[Ue(`150ms ${Ot.EASE_IN_OUT}`,ye({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),z7=Nt("drawerMaskMotion",[qe(":enter",[ye({opacity:0}),Ue(`${At.SLOW}`,ye({opacity:1}))]),qe(":leave",[ye({opacity:1}),Ue(`${At.SLOW}`,ye({opacity:0}))])]),x7=Nt("fadeMotion",[qe("* => enter",[ye({opacity:0}),Ue(`${At.BASE}`,ye({opacity:1}))]),qe("* => leave, :leave",[ye({opacity:1}),Ue(`${At.BASE}`,ye({opacity:0}))])]),P7=Nt("helpMotion",[qe(":enter",[ye({opacity:0,transform:"translateY(-5px)"}),Ue(`${At.SLOW} ${Ot.EASE_IN_OUT}`,ye({opacity:1,transform:"translateY(0)"}))]),qe(":leave",[ye({opacity:1,transform:"translateY(0)"}),Ue(`${At.SLOW} ${Ot.EASE_IN_OUT}`,ye({opacity:0,transform:"translateY(-5px)"}))])]),A7=Nt("moveUpMotion",[qe("* => enter",[ye({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),Ue(`${At.BASE}`,ye({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),qe("* => leave",[ye({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),Ue(`${At.BASE}`,ye({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),T7=Nt("notificationMotion",[Yt("enterRight",ye({opacity:1,transform:"translateX(0)"})),qe("* => enterRight",[ye({opacity:0,transform:"translateX(5%)"}),Ue("100ms linear")]),Yt("enterLeft",ye({opacity:1,transform:"translateX(0)"})),qe("* => enterLeft",[ye({opacity:0,transform:"translateX(-5%)"}),Ue("100ms linear")]),Yt("enterTop",ye({opacity:1,transform:"translateY(0)"})),qe("* => enterTop",[ye({opacity:0,transform:"translateY(-5%)"}),Ue("100ms linear")]),Yt("enterBottom",ye({opacity:1,transform:"translateY(0)"})),qe("* => enterBottom",[ye({opacity:0,transform:"translateY(5%)"}),Ue("100ms linear")]),Yt("leave",ye({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),qe("* => leave",[ye({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Ue("100ms linear")])]),K8=`${At.BASE} ${Ot.EASE_OUT_QUINT}`,X8=`${At.BASE} ${Ot.EASE_IN_QUINT}`,Al=Nt("slideMotion",[Yt("void",ye({opacity:0,transform:"scaleY(0.8)"})),Yt("enter",ye({opacity:1,transform:"scaleY(1)"})),qe("void => *",[Ue(K8)]),qe("* => void",[Ue(X8)])]),E7=Nt("slideAlertMotion",[qe(":leave",[ye({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Ue(`${At.SLOW} ${Ot.EASE_IN_OUT_CIRC}`,ye({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),k7=Nt("tabSwitchMotion",[Yt("leave",ye({display:"none"})),qe("* => enter",[ye({display:"block",opacity:0}),Ue(At.SLOW)]),qe("* => leave, :leave",[ye({position:"absolute",top:0,left:0,width:"100%"}),Ue(At.SLOW,ye({opacity:0})),ye({display:"none"})])]),D7=Nt("thumbMotion",[Yt("from",ye({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),Yt("to",ye({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),qe("from => to",Ue(`300ms ${Ot.EASE_IN_OUT}`))]),Sa=Nt("zoomBigMotion",[qe("void => active",[ye({opacity:0,transform:"scale(0.8)"}),Ue(`${At.BASE} ${Ot.EASE_OUT_CIRC}`,ye({opacity:1,transform:"scale(1)"}))]),qe("active => void",[ye({opacity:1,transform:"scale(1)"}),Ue(`${At.BASE} ${Ot.EASE_IN_OUT_CIRC}`,ye({opacity:0,transform:"scale(0.8)"}))])]),O7=Nt("zoomBadgeMotion",[qe(":enter",[ye({opacity:0,transform:"scale(0) translate(50%, -50%)"}),Ue(`${At.SLOW} ${Ot.EASE_OUT_BACK}`,ye({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),qe(":leave",[ye({opacity:1,transform:"scale(1) translate(50%, -50%)"}),Ue(`${At.SLOW} ${Ot.EASE_IN_BACK}`,ye({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]);var gn=(()=>{let e=class e{static ngTemplateContextGuard(t,n){return!0}recreateView(){this.viewContainer.clear();let t=this.nzStringTemplateOutlet instanceof It,n=t?this.nzStringTemplateOutlet:this.templateRef;this.embeddedViewRef=this.viewContainer.createEmbeddedView(n,t?this.nzStringTemplateOutletContext:this.context)}updateContext(){let n=this.nzStringTemplateOutlet instanceof It?this.nzStringTemplateOutletContext:this.context,a=this.embeddedViewRef.context;if(n)for(let o of Object.keys(n))a[o]=n[o]}constructor(t,n){this.viewContainer=t,this.templateRef=n,this.embeddedViewRef=null,this.context=new Ys,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}ngOnChanges(t){let{nzStringTemplateOutletContext:n,nzStringTemplateOutlet:a}=t,o=()=>{let m=!1;if(a)if(a.firstChange)m=!0;else{let s=a.previousValue instanceof It,c=a.currentValue instanceof It;m=s||c}return n&&(s=>{let c=Object.keys(s.previousValue||{}),f=Object.keys(s.currentValue||{});if(c.length===f.length){for(let p of f)if(c.indexOf(p)===-1)return!0;return!1}else return!0})(n)||m};a&&(this.context.$implicit=a.currentValue),o()?this.recreateView():this.updateContext()}};e.\u0275fac=function(n){return new(n||e)(oe(ri),oe(It))},e.\u0275dir=Je({type:e,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],standalone:!0,features:[Ze]});let i=e;return i})(),Ys=class{},vn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({});let i=e;return i})();function pt(i,e){Z8(i)&&(i="100%");var r=Q8(i);return i=e===360?i:Math.min(e,Math.max(0,parseFloat(i))),r&&(i=parseInt(String(i*e),10)/100),Math.abs(i-e)<1e-6?1:(e===360?i=(i<0?i%e+e:i%e)/parseFloat(String(e)):i=i%e/parseFloat(String(e)),i)}function zr(i){return Math.min(1,Math.max(0,i))}function Z8(i){return typeof i=="string"&&i.indexOf(".")!==-1&&parseFloat(i)===1}function Q8(i){return typeof i=="string"&&i.indexOf("%")!==-1}function za(i){return i=parseFloat(i),(isNaN(i)||i<0||i>1)&&(i=1),i}function xr(i){return i<=1?"".concat(Number(i)*100,"%"):i}function Ui(i){return i.length===1?"0"+i:String(i)}function Tl(i,e,r){return{r:pt(i,255)*255,g:pt(e,255)*255,b:pt(r,255)*255}}function Us(i,e,r){i=pt(i,255),e=pt(e,255),r=pt(r,255);var t=Math.max(i,e,r),n=Math.min(i,e,r),a=0,o=0,l=(t+n)/2;if(t===n)o=0,a=0;else{var m=t-n;switch(o=l>.5?m/(2-t-n):m/(t+n),t){case i:a=(e-r)/m+(e<r?6:0);break;case e:a=(r-i)/m+2;break;case r:a=(i-e)/m+4;break;default:break}a/=6}return{h:a,s:o,l}}function js(i,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?i+(e-i)*(6*r):r<1/2?e:r<2/3?i+(e-i)*(2/3-r)*6:i}function El(i,e,r){var t,n,a;if(i=pt(i,360),e=pt(e,100),r=pt(r,100),e===0)n=r,a=r,t=r;else{var o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;t=js(l,o,i+1/3),n=js(l,o,i),a=js(l,o,i-1/3)}return{r:t*255,g:n*255,b:a*255}}function yn(i,e,r){i=pt(i,255),e=pt(e,255),r=pt(r,255);var t=Math.max(i,e,r),n=Math.min(i,e,r),a=0,o=t,l=t-n,m=t===0?0:l/t;if(t===n)a=0;else{switch(t){case i:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-i)/l+2;break;case r:a=(i-e)/l+4;break;default:break}a/=6}return{h:a,s:m,v:o}}function kl(i,e,r){i=pt(i,360)*6,e=pt(e,100),r=pt(r,100);var t=Math.floor(i),n=i-t,a=r*(1-e),o=r*(1-n*e),l=r*(1-(1-n)*e),m=t%6,d=[r,o,a,a,l,r][m],h=[l,r,r,o,a,a][m],s=[a,a,l,r,r,o][m];return{r:d*255,g:h*255,b:s*255}}function bn(i,e,r,t){var n=[Ui(Math.round(i).toString(16)),Ui(Math.round(e).toString(16)),Ui(Math.round(r).toString(16))];return t&&n[0].startsWith(n[0].charAt(1))&&n[1].startsWith(n[1].charAt(1))&&n[2].startsWith(n[2].charAt(1))?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function Dl(i,e,r,t,n){var a=[Ui(Math.round(i).toString(16)),Ui(Math.round(e).toString(16)),Ui(Math.round(r).toString(16)),Ui(J8(t))];return n&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function J8(i){return Math.round(parseFloat(i)*255).toString(16)}function Ws(i){return Bt(i)/255}function Bt(i){return parseInt(i,16)}function Ol(i){return{r:i>>16,g:(i&65280)>>8,b:i&255}}var Pr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function jt(i){var e={r:0,g:0,b:0},r=1,t=null,n=null,a=null,o=!1,l=!1;return typeof i=="string"&&(i=i6(i)),typeof i=="object"&&(ki(i.r)&&ki(i.g)&&ki(i.b)?(e=Tl(i.r,i.g,i.b),o=!0,l=String(i.r).substr(-1)==="%"?"prgb":"rgb"):ki(i.h)&&ki(i.s)&&ki(i.v)?(t=xr(i.s),n=xr(i.v),e=kl(i.h,t,n),o=!0,l="hsv"):ki(i.h)&&ki(i.s)&&ki(i.l)&&(t=xr(i.s),a=xr(i.l),e=El(i.h,t,a),o=!0,l="hsl"),Object.prototype.hasOwnProperty.call(i,"a")&&(r=i.a)),r=za(r),{ok:o,format:i.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var e6="[-\\+]?\\d+%?",t6="[-\\+]?\\d*\\.\\d+%?",Wi="(?:".concat(t6,")|(?:").concat(e6,")"),$s="[\\s|\\(]+(".concat(Wi,")[,|\\s]+(").concat(Wi,")[,|\\s]+(").concat(Wi,")\\s*\\)?"),qs="[\\s|\\(]+(".concat(Wi,")[,|\\s]+(").concat(Wi,")[,|\\s]+(").concat(Wi,")[,|\\s]+(").concat(Wi,")\\s*\\)?"),oi={CSS_UNIT:new RegExp(Wi),rgb:new RegExp("rgb"+$s),rgba:new RegExp("rgba"+qs),hsl:new RegExp("hsl"+$s),hsla:new RegExp("hsla"+qs),hsv:new RegExp("hsv"+$s),hsva:new RegExp("hsva"+qs),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function i6(i){if(i=i.trim().toLowerCase(),i.length===0)return!1;var e=!1;if(Pr[i])i=Pr[i],e=!0;else if(i==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=oi.rgb.exec(i);return r?{r:r[1],g:r[2],b:r[3]}:(r=oi.rgba.exec(i),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=oi.hsl.exec(i),r?{h:r[1],s:r[2],l:r[3]}:(r=oi.hsla.exec(i),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=oi.hsv.exec(i),r?{h:r[1],s:r[2],v:r[3]}:(r=oi.hsva.exec(i),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=oi.hex8.exec(i),r?{r:Bt(r[1]),g:Bt(r[2]),b:Bt(r[3]),a:Ws(r[4]),format:e?"name":"hex8"}:(r=oi.hex6.exec(i),r?{r:Bt(r[1]),g:Bt(r[2]),b:Bt(r[3]),format:e?"name":"hex"}:(r=oi.hex4.exec(i),r?{r:Bt(r[1]+r[1]),g:Bt(r[2]+r[2]),b:Bt(r[3]+r[3]),a:Ws(r[4]+r[4]),format:e?"name":"hex8"}:(r=oi.hex3.exec(i),r?{r:Bt(r[1]+r[1]),g:Bt(r[2]+r[2]),b:Bt(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function ki(i){return!!oi.CSS_UNIT.exec(String(i))}var xa=function(){function i(e,r){e===void 0&&(e=""),r===void 0&&(r={});var t;if(e instanceof i)return e;typeof e=="number"&&(e=Ol(e)),this.originalInput=e;var n=jt(e);this.originalInput=e,this.r=n.r,this.g=n.g,this.b=n.b,this.a=n.a,this.roundA=Math.round(100*this.a)/100,this.format=(t=r.format)!==null&&t!==void 0?t:n.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=n.ok}return i.prototype.isDark=function(){return this.getBrightness()<128},i.prototype.isLight=function(){return!this.isDark()},i.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},i.prototype.getLuminance=function(){var e=this.toRgb(),r,t,n,a=e.r/255,o=e.g/255,l=e.b/255;return a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),o<=.03928?t=o/12.92:t=Math.pow((o+.055)/1.055,2.4),l<=.03928?n=l/12.92:n=Math.pow((l+.055)/1.055,2.4),.2126*r+.7152*t+.0722*n},i.prototype.getAlpha=function(){return this.a},i.prototype.setAlpha=function(e){return this.a=za(e),this.roundA=Math.round(100*this.a)/100,this},i.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},i.prototype.toHsv=function(){var e=yn(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},i.prototype.toHsvString=function(){var e=yn(this.r,this.g,this.b),r=Math.round(e.h*360),t=Math.round(e.s*100),n=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(t,"%, ").concat(n,"%)"):"hsva(".concat(r,", ").concat(t,"%, ").concat(n,"%, ").concat(this.roundA,")")},i.prototype.toHsl=function(){var e=Us(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},i.prototype.toHslString=function(){var e=Us(this.r,this.g,this.b),r=Math.round(e.h*360),t=Math.round(e.s*100),n=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(t,"%, ").concat(n,"%)"):"hsla(".concat(r,", ").concat(t,"%, ").concat(n,"%, ").concat(this.roundA,")")},i.prototype.toHex=function(e){return e===void 0&&(e=!1),bn(this.r,this.g,this.b,e)},i.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},i.prototype.toHex8=function(e){return e===void 0&&(e=!1),Dl(this.r,this.g,this.b,this.a,e)},i.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},i.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},i.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},i.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),t=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(t,")"):"rgba(".concat(e,", ").concat(r,", ").concat(t,", ").concat(this.roundA,")")},i.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(pt(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},i.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(pt(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},i.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+bn(this.r,this.g,this.b,!1),r=0,t=Object.entries(Pr);r<t.length;r++){var n=t[r],a=n[0],o=n[1];if(e===o)return a}return!1},i.prototype.toString=function(e){var r=!!e;e=e??this.format;var t=!1,n=this.a<1&&this.a>=0,a=!r&&n&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(t=this.toRgbString()),e==="prgb"&&(t=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(t=this.toHexString()),e==="hex3"&&(t=this.toHexString(!0)),e==="hex4"&&(t=this.toHex8String(!0)),e==="hex8"&&(t=this.toHex8String()),e==="name"&&(t=this.toName()),e==="hsl"&&(t=this.toHslString()),e==="hsv"&&(t=this.toHsvString()),t||this.toHexString())},i.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},i.prototype.clone=function(){return new i(this.toString())},i.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=zr(r.l),new i(r)},i.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new i(r)},i.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=zr(r.l),new i(r)},i.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},i.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},i.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=zr(r.s),new i(r)},i.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=zr(r.s),new i(r)},i.prototype.greyscale=function(){return this.desaturate(100)},i.prototype.spin=function(e){var r=this.toHsl(),t=(r.h+e)%360;return r.h=t<0?360+t:t,new i(r)},i.prototype.mix=function(e,r){r===void 0&&(r=50);var t=this.toRgb(),n=new i(e).toRgb(),a=r/100,o={r:(n.r-t.r)*a+t.r,g:(n.g-t.g)*a+t.g,b:(n.b-t.b)*a+t.b,a:(n.a-t.a)*a+t.a};return new i(o)},i.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var t=this.toHsl(),n=360/r,a=[this];for(t.h=(t.h-(n*e>>1)+720)%360;--e;)t.h=(t.h+n)%360,a.push(new i(t));return a},i.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new i(e)},i.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),t=r.h,n=r.s,a=r.v,o=[],l=1/e;e--;)o.push(new i({h:t,s:n,v:a})),a=(a+l)%1;return o},i.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new i({h:(r+72)%360,s:e.s,l:e.l}),new i({h:(r+216)%360,s:e.s,l:e.l})]},i.prototype.onBackground=function(e){var r=this.toRgb(),t=new i(e).toRgb(),n=r.a+t.a*(1-r.a);return new i({r:(r.r*r.a+t.r*t.a*(1-r.a))/n,g:(r.g*r.a+t.g*t.a*(1-r.a))/n,b:(r.b*r.a+t.b*t.a*(1-r.a))/n,a:n})},i.prototype.triad=function(){return this.polyad(3)},i.prototype.tetrad=function(){return this.polyad(4)},i.prototype.polyad=function(e){for(var r=this.toHsl(),t=r.h,n=[this],a=360/e,o=1;o<e;o++)n.push(new i({h:(t+o*a)%360,s:r.s,l:r.l}));return n},i.prototype.equals=function(e){return this.toRgbString()===new i(e).toRgbString()},i}();var Pa=2,Ll=.16,n6=.05,r6=.05,a6=.15,Hl=5,Nl=4,o6=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Fl(i){var e=i.r,r=i.g,t=i.b,n=yn(e,r,t);return{h:n.h*360,s:n.s,v:n.v}}function Aa(i){var e=i.r,r=i.g,t=i.b;return"#".concat(bn(e,r,t,!1))}function s6(i,e,r){var t=r/100,n={r:(e.r-i.r)*t+i.r,g:(e.g-i.g)*t+i.g,b:(e.b-i.b)*t+i.b};return n}function Vl(i,e,r){var t;return Math.round(i.h)>=60&&Math.round(i.h)<=240?t=r?Math.round(i.h)-Pa*e:Math.round(i.h)+Pa*e:t=r?Math.round(i.h)+Pa*e:Math.round(i.h)-Pa*e,t<0?t+=360:t>=360&&(t-=360),t}function Il(i,e,r){if(i.h===0&&i.s===0)return i.s;var t;return r?t=i.s-Ll*e:e===Nl?t=i.s+Ll:t=i.s+n6*e,t>1&&(t=1),r&&e===Hl&&t>.1&&(t=.1),t<.06&&(t=.06),Number(t.toFixed(2))}function Rl(i,e,r){var t;return r?t=i.v+r6*e:t=i.v-a6*e,t>1&&(t=1),Number(t.toFixed(2))}function Hn(i){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],t=jt(i),n=Hl;n>0;n-=1){var a=Fl(t),o=Aa(jt({h:Vl(a,n,!0),s:Il(a,n,!0),v:Rl(a,n,!0)}));r.push(o)}r.push(Aa(t));for(var l=1;l<=Nl;l+=1){var m=Fl(t),d=Aa(jt({h:Vl(m,l),s:Il(m,l),v:Rl(m,l)}));r.push(d)}return e.theme==="dark"?o6.map(function(h){var s=h.index,c=h.opacity,f=Aa(s6(jt(e.backgroundColor||"#141414"),jt(r[s]),c*100));return f}):r}var Gs={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Tt={},Ks={};Object.keys(Gs).forEach(function(i){Tt[i]=Hn(Gs[i]),Tt[i].primary=Tt[i][5],Ks[i]=Hn(Gs[i],{theme:"dark",backgroundColor:"#141414"}),Ks[i].primary=Ks[i][5]});var tp=Tt.red,ip=Tt.volcano,np=Tt.gold,rp=Tt.orange,ap=Tt.yellow,op=Tt.lime,sp=Tt.green,cp=Tt.cyan,lp=Tt.blue,hp=Tt.geekblue,dp=Tt.purple,up=Tt.magenta,pp=Tt.grey,fp=Tt.grey;var Di="[@ant-design/icons-angular]:";function c6(i){console.error(`${Di} ${i}.`)}function jl(i){Hr()&&console.warn(`${Di} ${i}.`)}function Yl(i){return Hn(i)[0]}function Ta(i,e){switch(e){case"fill":return`${i}-fill`;case"outline":return`${i}-o`;case"twotone":return`${i}-twotone`;case void 0:return i;default:throw new Error(`${Di}Theme "${e}" is not a recognized theme!`)}}function l6(i,e,r,t){return`${Ta(i,e)}-${r}-${t}`}function h6(i){return i==="o"?"outline":i}function d6(i){return i.endsWith("-fill")||i.endsWith("-o")||i.endsWith("-twotone")}function Ul(i){return typeof i=="object"&&typeof i.name=="string"&&(typeof i.theme=="string"||i.theme===void 0)&&typeof i.icon=="string"}function u6(i){let e=i.split("-"),r=h6(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:r,icon:""}}function p6(i){return i.cloneNode(!0)}function f6(i){return i.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}function Ea(i){let e=i.split(":");switch(e.length){case 1:return[i,""];case 2:return[e[1],e[0]];default:throw new Error(`${Di}The icon type ${i} is not valid!`)}}function m6(i){return Ea(i)[1]!==""}function g6(){return new Error(`${Di}Type should have a namespace. Try "namespace:${name}".`)}function Bl(i){return new Error(`${Di}the icon ${i} does not exist or is not registered.`)}function v6(){return c6('you need to import "HttpClientModule" to use dynamic importing.'),null}function y6(i){return new Error(`${Di}The url "${i}" is unsafe.`)}function b6(){return new Error(`${Di}<svg> tag not found.`)}function _6(){return new Error(`${Di}Importing timeout error.`)}var w6="__ant_icon_load",M6=new xe("ant_icons"),Xs=(()=>{let e=class e{set twoToneColor({primaryColor:t,secondaryColor:n}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=n||Yl(t)}get twoToneColor(){return he({},this._twoToneColorPalette)}get _disableDynamicLoading(){return!1}constructor(t,n,a,o,l){this._rendererFactory=t,this._handler=n,this._document=a,this.sanitizer=o,this._antIcons=l,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new ve,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Jn(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}useJsonpLoading(){this._enableJsonpLoading?jl("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window[w6]=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(n=>{this._svgDefinitions.set(Ta(n.name,n.theme),n)})}addIconLiteral(t,n){let[a,o]=Ea(t);if(!o)throw g6();this.addIcon({name:t,icon:n})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,n){let a=Ul(t)?t:this._svgDefinitions.get(t)||null;if(!a&&this._disableDynamicLoading)throw Bl(t);return(a?be(a):this._loadIconDynamically(t)).pipe(Me(l=>{if(!l)throw Bl(t);return this._loadSVGFromCacheOrCreateNew(l,n)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return be(v6());let n=this._inProgressFetches.get(t);if(!n){let[a,o]=Ea(t),l=o?{name:t,icon:""}:u6(a),m=this._enableJsonpLoading?".js":".svg",d=(o?`${this._assetsUrlRoot}assets/${o}/${a}`:`${this._assetsUrlRoot}assets/${l.theme}/${l.name}`)+m,h=this.sanitizer.sanitize(xi.URL,d);if(!h)throw y6(d);n=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(l,h):this._http.get(h,{responseType:"text"}).pipe(Me(c=>Be(he({},l),{icon:c})))).pipe(ut(c=>this.addIcon(c)),di(()=>this._inProgressFetches.delete(t)),Ii(()=>be(null)),g1()),this._inProgressFetches.set(t,n)}return n}_loadIconDynamicallyWithJsonp(t,n){return new _n(a=>{let o=this._document.createElement("script"),l=setTimeout(()=>{m(),a.error(_6())},6e3);o.src=n;function m(){o.parentNode.removeChild(o),clearTimeout(l)}this._document.body.appendChild(o),this._jsonpIconLoad$.pipe(Ne(d=>d.name===t.name&&d.theme===t.theme),Xt(1)).subscribe(d=>{a.next(d),m()})})}_loadSVGFromCacheOrCreateNew(t,n){let a,o=n||this._twoToneColorPalette.primaryColor,l=Yl(o)||this._twoToneColorPalette.secondaryColor,m=t.theme==="twotone"?l6(t.name,t.theme,o,l):t.theme===void 0?t.name:Ta(t.name,t.theme),d=this._svgRenderedDefinitions.get(m);return d?a=d.icon:(a=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(m6(t.name)?t.icon:f6(t.icon)),t.theme==="twotone",o,l)),this._svgRenderedDefinitions.set(m,Be(he({},t),{icon:a}))),p6(a)}_createSVGElementFromString(t){let n=this._document.createElement("div");n.innerHTML=t;let a=n.querySelector("svg");if(!a)throw b6;return a}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,n,a,o){if(n){let l=t.childNodes,m=l.length;for(let d=0;d<m;d++){let h=l[d];h.getAttribute("fill")==="secondaryColor"?this._renderer.setAttribute(h,"fill",o):this._renderer.setAttribute(h,"fill",a)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}};e.\u0275fac=function(n){return new(n||e)(ae(Zt),ae(Hi,8),ae(Le,8),ae(nr),ae(M6,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})();function C6(i,e){return i.type===e.type&&i.theme===e.theme&&i.twoToneColor===e.twoToneColor}var Wl=(()=>{let e=class e{constructor(t,n,a){this._iconService=t,this._elementRef=n,this._renderer=a}ngOnChanges(t){(t.type||t.theme||t.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(t=>{if(!this.type){this._clearSVGElement(),t(null);return}let n=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(a=>{let o=this._getSelfRenderMeta();C6(n,o)?(this._setSVGElement(a),t(a)):t(null)})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(t,n){if(Ul(t))return t;{let[a,o]=Ea(t);return o?t:d6(a)?(n&&jl(`'type' ${a} already gets a theme inside so 'theme' ${n} would be ignored`),a):Ta(a,n||this._iconService.defaultTheme)}}_setSVGElement(t){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)}_clearSVGElement(){let t=this._elementRef.nativeElement,n=t.childNodes,a=n.length;for(let o=a-1;o>=0;o--){let l=n[o];l.tagName?.toLowerCase()==="svg"&&this._renderer.removeChild(t,l)}}};e.\u0275fac=function(n){return new(n||e)(oe(Xs),oe(Re),oe(yt))},e.\u0275dir=Je({type:e,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[Ze]});let i=e;return i})();var $l={name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var ql={name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},Gl={name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'};var Kl={name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'};var Xl={name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},Zl={name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'};var Ql={name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'};var Jl={name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'};var e4={name:"close-circle",theme:"fill",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z" /></svg>'};var t4={name:"close-circle",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z" /></svg>'},i4={name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'};var n4={name:"close",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z" /></svg>'};var r4={name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'};var a4={name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'};var o4={name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'};var s4={name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'};var c4={name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'};var l4={name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'};var h4={name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},d4={name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var u4={name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'};var p4={name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var f4={name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'};var m4={name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'};var g4={name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'};var v4={name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var y4={name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'};var b4={name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'};var _4={name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'};var w4={name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'};var M4={name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'};var C4={name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'};var S4={name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'};var z4={name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'};var x4={name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'};var P4={name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'};var Zs={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var A4={name:"swap",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z" /></svg>'};var T4={name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'};var E4={name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},k4={name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'};var D4={name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'};var O4={name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'};var L4={name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'};var S6=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"];function N4(i){return S6.indexOf(i)!==-1}var ka=2,F4=.16,z6=.05,x6=.05,P6=.15,Y4=5,B4=4,A6=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function V4({r:i,g:e,b:r}){let t=yn(i,e,r);return{h:t.h*360,s:t.s,v:t.v}}function Da({r:i,g:e,b:r}){return`#${bn(i,e,r,!1)}`}function T6(i,e,r){let t=r/100;return{r:(e.r-i.r)*t+i.r,g:(e.g-i.g)*t+i.g,b:(e.b-i.b)*t+i.b}}function I4(i,e,r){let t;return Math.round(i.h)>=60&&Math.round(i.h)<=240?t=r?Math.round(i.h)-ka*e:Math.round(i.h)+ka*e:t=r?Math.round(i.h)+ka*e:Math.round(i.h)-ka*e,t<0?t+=360:t>=360&&(t-=360),t}function R4(i,e,r){if(i.h===0&&i.s===0)return i.s;let t;return r?t=i.s-F4*e:e===B4?t=i.s+F4:t=i.s+z6*e,t>1&&(t=1),r&&e===Y4&&t>.1&&(t=.1),t<.06&&(t=.06),Number(t.toFixed(2))}function H4(i,e,r){let t;return r?t=i.v+x6*e:t=i.v-P6*e,t>1&&(t=1),Number(t.toFixed(2))}function Qs(i,e={}){let r=[],t=jt(i);for(let n=Y4;n>0;n-=1){let a=V4(t),o=Da(jt({h:I4(a,n,!0),s:R4(a,n,!0),v:H4(a,n,!0)}));r.push(o)}r.push(Da(t));for(let n=1;n<=B4;n+=1){let a=V4(t),o=Da(jt({h:I4(a,n),s:R4(a,n),v:H4(a,n)}));r.push(o)}return e.theme==="dark"?A6.map(({index:n,opacity:a})=>Da(T6(jt(e.backgroundColor||"#141414"),jt(r[n]),a*100))):r}var E6=new xe("nz-config");var k6=`-ant-${Date.now()}-${Math.random()}`;function D6(i,e){let r={},t=(o,l)=>{let m=o.clone();return m=l?.(m)||m,m.toRgbString()},n=(o,l)=>{let m=new xa(o),d=Qs(m.toRgbString());r[`${l}-color`]=t(m),r[`${l}-color-disabled`]=d[1],r[`${l}-color-hover`]=d[4],r[`${l}-color-active`]=d[7],r[`${l}-color-outline`]=m.clone().setAlpha(.2).toRgbString(),r[`${l}-color-deprecated-bg`]=d[1],r[`${l}-color-deprecated-border`]=d[3]};if(e.primaryColor){n(e.primaryColor,"primary");let o=new xa(e.primaryColor),l=Qs(o.toRgbString());l.forEach((d,h)=>{r[`primary-${h+1}`]=d}),r["primary-color-deprecated-l-35"]=t(o,d=>d.lighten(35)),r["primary-color-deprecated-l-20"]=t(o,d=>d.lighten(20)),r["primary-color-deprecated-t-20"]=t(o,d=>d.tint(20)),r["primary-color-deprecated-t-50"]=t(o,d=>d.tint(50)),r["primary-color-deprecated-f-12"]=t(o,d=>d.setAlpha(d.getAlpha()*.12));let m=new xa(l[0]);r["primary-color-active-deprecated-f-30"]=t(m,d=>d.setAlpha(d.getAlpha()*.3)),r["primary-color-active-deprecated-d-02"]=t(m,d=>d.darken(2))}return e.successColor&&n(e.successColor,"success"),e.warningColor&&n(e.warningColor,"warning"),e.errorColor&&n(e.errorColor,"error"),e.infoColor&&n(e.infoColor,"info"),`
  :root {
    ${Object.keys(r).map(o=>`--${i}-${o}: ${r[o]};`).join(`
`)}
  }
  `.trim()}function j4(i,e,r){let t=D6(i,e);_s()?nl(t,`${k6}-dynamic-theme`,{cspNonce:r}):ln("NzConfigService: SSR do not support dynamic theme with css variables.")}var U4=function(i){return i!==void 0},W4="ant",Oa=(()=>{let e=class e{constructor(t,n){this.configUpdated$=new ve,this.config=t||{},this.cspNonce=n,this.config.theme&&j4(this.getConfig().prefixCls?.prefixCls||W4,this.config.theme,n)}getConfig(){return this.config}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe(Ne(n=>n===t),li(void 0))}set(t,n){this.config[t]=he(he({},this.config[t]),n),t==="theme"&&this.config.theme&&j4(this.getConfig().prefixCls?.prefixCls||W4,this.config.theme,this.cspNonce),this.configUpdated$.next(t)}};e.\u0275fac=function(n){return new(n||e)(ae(E6,8),ae(Zi,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function $4(){return function(e,r,t){let n=`$$__zorroConfigDecorator__${r}`;return Object.defineProperty(e,n,{configurable:!0,writable:!0,enumerable:!1}),{get(){let a=t?.get?t.get.bind(this)():this[n],o=(this.propertyAssignCounter?.[r]||0)>1,l=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[r];return o&&U4(a)?a:U4(l)?l:a},set(a){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[r]=(this.propertyAssignCounter[r]||0)+1,t?.set?t.set.bind(this)(a):this[n]=a},configurable:!0,enumerable:!0}}}var O6=[$l,ql,Kl,r4,Gl,Jl,Xl,Zl,Ql,i4,t4,e4,n4,a4,o4,s4,c4,l4,h4,d4,p4,u4,w4,f4,y4,m4,v4,g4,b4,_4,M4,C4,S4,x4,z4,Zs,P4,Zs,E4,D4,k4,A4,T4,O4,L4],K4=new xe("nz_icons"),sf=new xe("nz_icon_default_twotone_color"),G4="#1890ff",X4=(()=>{let e=class e extends Xs{get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),(!t.getAttribute("width")||!t.getAttribute("height"))&&(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){let{scriptUrl:n}=t;if(this._document&&!this.iconfontCache.has(n)){let a=this._renderer.createElement("script");this._renderer.setAttribute(a,"src",n),this._renderer.setAttribute(a,"data-namespace",n.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,a),this.iconfontCache.add(n)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}constructor(t,n,a,o,l,m,d){super(t,l,m,n,[...O6,...d||[]]),this.nzConfigService=a,this.platform=o,this.configUpdated$=new ve,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){let t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){let n=this.getConfig().nzTwotoneColor||G4,a=G4;n&&(n.startsWith("#")?a=n:ln("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:a}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}};e.\u0275fac=function(n){return new(n||e)(ae(Zt),ae(nr),ae(Oa),ae(Pt),ae(Hi,8),ae(Le,8),ae(K4,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Z4=new xe("nz_icons_patch"),Q4=(()=>{let e=class e{constructor(t,n){this.extraIcons=t,this.rootIconService=n,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}};e.\u0275fac=function(n){return new(n||e)(ae(Z4,2),ae(X4))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})(),$i=(()=>{let e=class e extends Wl{set nzSpin(t){this.spin=t}set nzType(t){this.type=t}set nzTheme(t){this.theme=t}set nzTwotoneColor(t){this.twoToneColor=t}set nzIconfont(t){this.iconfont=t}constructor(t,n,a,o,l,m){super(o,a,l),this.ngZone=t,this.changeDetectorRef=n,this.iconService=o,this.renderer=l,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new ve,m&&m.doPatch(),this.el=a.nativeElement}ngOnChanges(t){let{nzType:n,nzTwotoneColor:a,nzSpin:o,nzTheme:l,nzRotate:m}=t;n||a||o||l?this.changeIcon2():m?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){let t=this.el.children,n=t.length;if(!this.type&&t.length)for(;n--;){let a=t[n];a.tagName.toLowerCase()==="svg"&&this.iconService.normalizeSvgElement(a)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{dt(this._changeIcon()).pipe(fe(this.destroy$)).subscribe({next:t=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),t&&(this.setSVGData(t),this.handleSpin(t),this.handleRotate(t))})},error:ln})})}handleSpin(t){this.spin||this.type==="loading"?this.renderer.addClass(t,"anticon-spin"):this.renderer.removeClass(t,"anticon-spin")}handleRotate(t){this.nzRotate?this.renderer.setAttribute(t,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(t,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(t){this.renderer.setAttribute(t,"data-icon",this.type),this.renderer.setAttribute(t,"aria-hidden","true")}};e.\u0275fac=function(n){return new(n||e)(oe(He),oe(lt),oe(Re),oe(X4),oe(yt),oe(Q4,8))},e.\u0275dir=Je({type:e,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(n,a){n&2&&ot("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],standalone:!0,features:[Qi,Ze]});let i=e;return tt([et()],i.prototype,"nzSpin",null),i})(),qi=(()=>{let e=class e{static forRoot(t){return{ngModule:e,providers:[{provide:K4,useValue:t}]}}static forChild(t){return{ngModule:e,providers:[Q4,{provide:Z4,useValue:t}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({});let i=e;return i})();var L6=["nz-menu-item",""],e2=["*"],F6=["nz-submenu-inline-child",""];function V6(i,e){}var I6=["nz-submenu-none-inline-child",""];function R6(i,e){}var H6=["nz-submenu-title",""];function N6(i,e){if(i&1&&$e(0,"span",0),i&2){let r=ze();De("nzType",r.nzIcon)}}function Y6(i,e){if(i&1&&(tn(0),Se(1,"span",3),Rt(2),Oe(),nn()),i&2){let r=ze();Te(2),ai(r.nzTitle)}}function B6(i,e){i&1&&$e(0,"span",4)}function j6(i,e){i&1&&$e(0,"span",5)}function U6(i,e){if(i&1&&(Se(0,"span",2),je(1,B6,1,0)(2,j6,1,0),Oe()),i&2){let r,t=ze();Te(),ct(1,(r=t.dir)==="rtl"?1:2)}}function W6(i,e){i&1&&$e(0,"span",6)}var $6=["nz-submenu",""],q6=[[["","title",""]],"*"],G6=["[title]","*"];function K6(i,e){i&1&&bt(0)}function X6(i,e){if(i&1&&$e(0,"div",3),i&2){let r=ze(),t=mi(6);De("mode",r.mode)("nzOpen",r.nzOpen)("@.disabled",!!(r.noAnimation!=null&&r.noAnimation.nzNoAnimation))("nzNoAnimation",r.noAnimation==null?null:r.noAnimation.nzNoAnimation)("menuClass",r.nzMenuClassName)("templateOutlet",t)}}function Z6(i,e){if(i&1){let r=Ft();Se(0,"div",5),nt("subMenuMouseState",function(n){gt(r);let a=ze(2);return vt(a.setMouseEnterState(n))}),Oe()}if(i&2){let r=ze(2),t=mi(6);De("theme",r.theme)("mode",r.mode)("nzOpen",r.nzOpen)("position",r.position)("nzDisabled",r.nzDisabled)("isMenuInsideDropDown",r.isMenuInsideDropDown)("templateOutlet",t)("menuClass",r.nzMenuClassName)("@.disabled",!!(r.noAnimation!=null&&r.noAnimation.nzNoAnimation))("nzNoAnimation",r.noAnimation==null?null:r.noAnimation.nzNoAnimation)}}function Q6(i,e){if(i&1){let r=Ft();je(0,Z6,1,10,"ng-template",4),nt("positionChange",function(n){gt(r);let a=ze();return vt(a.onPositionChange(n))})}if(i&2){let r=ze(),t=mi(1);De("cdkConnectedOverlayPositions",r.overlayPositions)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayWidth",r.triggerWidth)("cdkConnectedOverlayOpen",r.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function J6(i,e){i&1&&bt(0,1)}var eh=["titleElement"],th=["nz-menu-group",""],ih=["*",[["","title",""]]],nh=["*","[title]"];function rh(i,e){if(i&1&&(tn(0),Rt(1),nn()),i&2){let r=ze();Te(),ai(r.nzTitle)}}function ah(i,e){i&1&&bt(0,1)}var yi=new xe("NzIsInDropDownMenuToken"),t2=new xe("NzMenuServiceLocalToken"),Gi=(()=>{let e=class e{constructor(){this.descendantMenuItemClick$=new ve,this.childMenuItemClick$=new ve,this.theme$=new it("light"),this.mode$=new it("vertical"),this.inlineIndent$=new it(24),this.isChildSubMenuOpen$=new it(!1)}onDescendantMenuItemClick(t){this.descendantMenuItemClick$.next(t)}onChildMenuItemClick(t){this.childMenuItemClick$.next(t)}setMode(t){this.mode$.next(t)}setTheme(t){this.theme$.next(t)}setInlineIndent(t){this.inlineIndent$.next(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})(),Js=(()=>{let e=class e{onChildMenuItemClick(t){this.childMenuItemClick$.next(t)}setOpenStateWithoutDebounce(t){this.isCurrentSubMenuOpen$.next(t)}setMouseEnterTitleOrOverlayState(t){this.isMouseEnterTitleOrOverlay$.next(t)}constructor(t,n,a){this.nzHostSubmenuService=t,this.nzMenuService=n,this.isMenuInsideDropDown=a,this.mode$=this.nzMenuService.mode$.pipe(Me(d=>d==="inline"?"inline":d==="vertical"||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isCurrentSubMenuOpen$=new it(!1),this.isChildSubMenuOpen$=new it(!1),this.isMouseEnterTitleOrOverlay$=new ve,this.childMenuItemClick$=new ve,this.destroy$=new ve,this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);let o=this.childMenuItemClick$.pipe(Vt(()=>this.mode$),Ne(d=>d!=="inline"||this.isMenuInsideDropDown),li(!1)),l=ii(this.isMouseEnterTitleOrOverlay$,o);ci([this.isChildSubMenuOpen$,l]).pipe(Me(([d,h])=>d||h),wi(150),hi(),fe(this.destroy$)).pipe(hi()).subscribe(d=>{this.setOpenStateWithoutDebounce(d),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(d):this.nzMenuService.isChildSubMenuOpen$.next(d)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(n){return new(n||e)(ae(e,12),ae(Gi),ae(yi))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})(),Fa=(()=>{let e=class e{clickMenuItem(t){this.nzDisabled?(t.preventDefault(),t.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(t){this.nzSelected=t,this.selected$.next(t)}updateRouterActive(){!this.listOfRouterLink||!this.router||!this.router.navigated||!this.nzMatchRouter||Promise.resolve().then(()=>{let t=this.hasActiveLinks();this.nzSelected!==t&&(this.nzSelected=t,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.routerLink&&t(this.routerLink)||this.listOfRouterLink.some(t)}isLinkActive(t){return n=>t.isActive(n.urlTree||"",{paths:this.nzMatchRouterExact?"exact":"subset",queryParams:this.nzMatchRouterExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}constructor(t,n,a,o,l,m,d){this.nzMenuService=t,this.cdr=n,this.nzSubmenuService=a,this.isMenuInsideDropDown=o,this.directionality=l,this.routerLink=m,this.router=d,this.destroy$=new ve,this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new ve,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,d&&this.router.events.pipe(fe(this.destroy$),Ne(h=>h instanceof Jt)).subscribe(()=>{this.updateRouterActive()})}ngOnInit(){ci([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(fe(this.destroy$)).subscribe(([t,n])=>{this.inlinePaddingLeft=t==="inline"?this.level*n:null}),this.dir=this.directionality.value,this.directionality.change?.pipe(fe(this.destroy$)).subscribe(t=>{this.dir=t})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe(fe(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(t){t.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};e.\u0275fac=function(n){return new(n||e)(oe(Gi),oe(lt),oe(Js,8),oe(yi),oe(xt,8),oe(ma,8),oe(ji,8))},e.\u0275cmp=Ie({type:e,selectors:[["","nz-menu-item",""]],contentQueries:function(n,a,o){if(n&1&&fi(o,ma,5),n&2){let l;_t(l=wt())&&(a.listOfRouterLink=l)}},hostVars:20,hostBindings:function(n,a){n&1&&nt("click",function(l){return a.clickMenuItem(l)}),n&2&&(en("padding-left",a.dir==="rtl"?null:a.nzPaddingLeft||a.inlinePaddingLeft,"px")("padding-right",a.dir==="rtl"?a.nzPaddingLeft||a.inlinePaddingLeft:null,"px"),ot("ant-dropdown-menu-item",a.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",a.isMenuInsideDropDown&&a.nzSelected)("ant-dropdown-menu-item-danger",a.isMenuInsideDropDown&&a.nzDanger)("ant-dropdown-menu-item-disabled",a.isMenuInsideDropDown&&a.nzDisabled)("ant-menu-item",!a.isMenuInsideDropDown)("ant-menu-item-selected",!a.isMenuInsideDropDown&&a.nzSelected)("ant-menu-item-danger",!a.isMenuInsideDropDown&&a.nzDanger)("ant-menu-item-disabled",!a.isMenuInsideDropDown&&a.nzDisabled))},inputs:{nzPaddingLeft:"nzPaddingLeft",nzDisabled:"nzDisabled",nzSelected:"nzSelected",nzDanger:"nzDanger",nzMatchRouterExact:"nzMatchRouterExact",nzMatchRouter:"nzMatchRouter"},exportAs:["nzMenuItem"],standalone:!0,features:[Ze,Ye],attrs:L6,ngContentSelectors:e2,decls:2,vars:0,consts:[[1,"ant-menu-title-content"]],template:function(n,a){n&1&&(Dt(),Se(0,"span",0),bt(1),Oe())},encapsulation:2,changeDetection:0});let i=e;return tt([et()],i.prototype,"nzDisabled",void 0),tt([et()],i.prototype,"nzSelected",void 0),tt([et()],i.prototype,"nzDanger",void 0),tt([et()],i.prototype,"nzMatchRouterExact",void 0),tt([et()],i.prototype,"nzMatchRouter",void 0),i})(),oh=(()=>{let e=class e{constructor(t,n,a){this.elementRef=t,this.renderer=n,this.directionality=a,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new ve}calcMotionState(){this.nzOpen?this.expandState="expanded":this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe(fe(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){let{mode:n,nzOpen:a,menuClass:o}=t;(n||a)&&this.calcMotionState(),o&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(l=>!!l).forEach(l=>{this.renderer.removeClass(this.elementRef.nativeElement,l)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(l=>!!l).forEach(l=>{this.renderer.addClass(this.elementRef.nativeElement,l)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(n){return new(n||e)(oe(Re),oe(yt),oe(xt,8))},e.\u0275cmp=Ie({type:e,selectors:[["","nz-submenu-inline-child",""]],hostAttrs:[1,"ant-menu","ant-menu-inline","ant-menu-sub"],hostVars:3,hostBindings:function(n,a){n&2&&(so("@collapseMotion",a.expandState),ot("ant-menu-rtl",a.dir==="rtl"))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],standalone:!0,features:[Ze,Ye],attrs:F6,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(n,a){n&1&&je(0,V6,0,0,"ng-template",0),n&2&&De("ngTemplateOutlet",a.templateOutlet)},dependencies:[rn],encapsulation:2,data:{animation:[Pl]},changeDetection:0});let i=e;return i})(),sh=(()=>{let e=class e{constructor(t){this.directionality=t,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new ke,this.expandState="collapsed",this.dir="ltr",this.destroy$=new ve}setMouseState(t){this.nzDisabled||this.subMenuMouseState.next(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?this.mode==="horizontal"?this.expandState="bottom":this.mode==="vertical"&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe(fe(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){let{mode:n,nzOpen:a}=t;(n||a)&&this.calcMotionState()}};e.\u0275fac=function(n){return new(n||e)(oe(xt,8))},e.\u0275cmp=Ie({type:e,selectors:[["","nz-submenu-none-inline-child",""]],hostAttrs:[1,"ant-menu-submenu","ant-menu-submenu-popup"],hostVars:14,hostBindings:function(n,a){n&1&&nt("mouseenter",function(){return a.setMouseState(!0)})("mouseleave",function(){return a.setMouseState(!1)}),n&2&&(so("@slideMotion",a.expandState)("@zoomBigMotion",a.expandState),ot("ant-menu-light",a.theme==="light")("ant-menu-dark",a.theme==="dark")("ant-menu-submenu-placement-bottom",a.mode==="horizontal")("ant-menu-submenu-placement-right",a.mode==="vertical"&&a.position==="right")("ant-menu-submenu-placement-left",a.mode==="vertical"&&a.position==="left")("ant-menu-submenu-rtl",a.dir==="rtl"))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],standalone:!0,features:[Ze,Ye],attrs:I6,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(n,a){n&1&&(Se(0,"div",0),je(1,R6,0,0,"ng-template",1),Oe()),n&2&&(ot("ant-dropdown-menu",a.isMenuInsideDropDown)("ant-menu",!a.isMenuInsideDropDown)("ant-dropdown-menu-vertical",a.isMenuInsideDropDown)("ant-menu-vertical",!a.isMenuInsideDropDown)("ant-dropdown-menu-sub",a.isMenuInsideDropDown)("ant-menu-sub",!a.isMenuInsideDropDown)("ant-menu-rtl",a.dir==="rtl"),De("ngClass",a.menuClass),Te(),De("ngTemplateOutlet",a.templateOutlet))},dependencies:[Yr,rn],encapsulation:2,data:{animation:[Sa,Al]},changeDetection:0});let i=e;return i})(),i2=(()=>{let e=class e{constructor(t,n){this.cdr=t,this.directionality=n,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new ke,this.subMenuMouseState=new ke,this.dir="ltr",this.destroy$=new ve}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(fe(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(t){this.nzDisabled||this.subMenuMouseState.next(t)}clickTitle(){this.mode==="inline"&&!this.nzDisabled&&this.toggleSubMenu.emit()}};e.\u0275fac=function(n){return new(n||e)(oe(lt),oe(xt,8))},e.\u0275cmp=Ie({type:e,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(n,a){n&1&&nt("click",function(){return a.clickTitle()})("mouseenter",function(){return a.setMouseState(!0)})("mouseleave",function(){return a.setMouseState(!1)}),n&2&&(en("padding-left",a.dir==="rtl"?null:a.paddingLeft,"px")("padding-right",a.dir==="rtl"?a.paddingLeft:null,"px"),ot("ant-dropdown-menu-submenu-title",a.isMenuInsideDropDown)("ant-menu-submenu-title",!a.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],standalone:!0,features:[Ye],attrs:H6,ngContentSelectors:e2,decls:5,vars:3,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"],[1,"ant-dropdown-menu-submenu-expand-icon"],[1,"ant-menu-title-content"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"],[1,"ant-menu-submenu-arrow"]],template:function(n,a){n&1&&(Dt(),je(0,N6,1,1,"span",0)(1,Y6,3,1,"ng-container",1),bt(2),je(3,U6,3,1,"span",2)(4,W6,1,0)),n&2&&(ct(0,a.nzIcon?0:-1),Te(),De("nzStringTemplateOutlet",a.nzTitle),Te(2),ct(3,a.isMenuInsideDropDown?3:4))},dependencies:[qi,$i,vn,gn],encapsulation:2,changeDetection:0});let i=e;return i})(),J4=[Ee.rightTop,Ee.right,Ee.rightBottom,Ee.leftTop,Ee.left,Ee.leftBottom],ch=[Ee.bottomLeft,Ee.bottomRight,Ee.topRight,Ee.topLeft],Va=(()=>{let e=class e{setOpenStateWithoutDebounce(t){this.nzSubmenuService.setOpenStateWithoutDebounce(t)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(t){this.isActive=t,this.mode!=="inline"&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(t)}setTriggerWidth(){this.mode==="horizontal"&&this.platform.isBrowser&&this.cdkOverlayOrigin&&this.nzPlacement==="bottomLeft"&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(t){let n=Sr(t);n==="rightTop"||n==="rightBottom"||n==="right"?this.position="right":(n==="leftTop"||n==="leftBottom"||n==="left")&&(this.position="left")}constructor(t,n,a,o,l,m,d){this.nzMenuService=t,this.cdr=n,this.nzSubmenuService=a,this.platform=o,this.isMenuInsideDropDown=l,this.directionality=m,this.noAnimation=d,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzPlacement="bottomLeft",this.nzOpenChange=new ke,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new ve,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=J4,this.isSelected=!1,this.isActive=!1,this.dir="ltr"}ngOnInit(){this.nzMenuService.theme$.pipe(fe(this.destroy$)).subscribe(t=>{this.theme=t,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe(fe(this.destroy$)).subscribe(t=>{this.mode=t,t==="horizontal"?this.overlayPositions=[Ee[this.nzPlacement],...ch]:t==="vertical"&&(this.overlayPositions=J4),this.cdr.markForCheck()}),ci([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(fe(this.destroy$)).subscribe(([t,n])=>{this.inlinePaddingLeft=t==="inline"?this.level*n:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe(fe(this.destroy$)).subscribe(t=>{this.isActive=t,t!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=t,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,this.directionality.change?.pipe(fe(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();let t=this.listOfNzMenuItemDirective,n=t.changes,a=ii(n,...t.map(o=>o.selected$));n.pipe(ni(t),St(()=>a),ni(!0),Me(()=>t.some(o=>o.nzSelected)),fe(this.destroy$)).subscribe(o=>{this.isSelected=o,this.cdr.markForCheck()})}ngOnChanges(t){let{nzOpen:n}=t;n&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(n){return new(n||e)(oe(Gi),oe(lt),oe(Js),oe(Pt),oe(yi),oe(xt,8),oe(Ei,9))},e.\u0275cmp=Ie({type:e,selectors:[["","nz-submenu",""]],contentQueries:function(n,a,o){if(n&1&&(fi(o,e,5),fi(o,Fa,5)),n&2){let l;_t(l=wt())&&(a.listOfNzSubMenuComponent=l),_t(l=wt())&&(a.listOfNzMenuItemDirective=l)}},viewQuery:function(n,a){if(n&1&&Pi(fn,7,Re),n&2){let o;_t(o=wt())&&(a.cdkOverlayOrigin=o.first)}},hostVars:34,hostBindings:function(n,a){n&2&&ot("ant-dropdown-menu-submenu",a.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",a.isMenuInsideDropDown&&a.nzDisabled)("ant-dropdown-menu-submenu-open",a.isMenuInsideDropDown&&a.nzOpen)("ant-dropdown-menu-submenu-selected",a.isMenuInsideDropDown&&a.isSelected)("ant-dropdown-menu-submenu-vertical",a.isMenuInsideDropDown&&a.mode==="vertical")("ant-dropdown-menu-submenu-horizontal",a.isMenuInsideDropDown&&a.mode==="horizontal")("ant-dropdown-menu-submenu-inline",a.isMenuInsideDropDown&&a.mode==="inline")("ant-dropdown-menu-submenu-active",a.isMenuInsideDropDown&&a.isActive)("ant-menu-submenu",!a.isMenuInsideDropDown)("ant-menu-submenu-disabled",!a.isMenuInsideDropDown&&a.nzDisabled)("ant-menu-submenu-open",!a.isMenuInsideDropDown&&a.nzOpen)("ant-menu-submenu-selected",!a.isMenuInsideDropDown&&a.isSelected)("ant-menu-submenu-vertical",!a.isMenuInsideDropDown&&a.mode==="vertical")("ant-menu-submenu-horizontal",!a.isMenuInsideDropDown&&a.mode==="horizontal")("ant-menu-submenu-inline",!a.isMenuInsideDropDown&&a.mode==="inline")("ant-menu-submenu-active",!a.isMenuInsideDropDown&&a.isActive)("ant-menu-submenu-rtl",a.dir==="rtl")},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:"nzOpen",nzDisabled:"nzDisabled",nzPlacement:"nzPlacement"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],standalone:!0,features:[Wt([Js]),Ze,Ye],attrs:$6,ngContentSelectors:G6,decls:7,vars:8,consts:[["origin","cdkOverlayOrigin"],["subMenuTemplate",""],["nz-submenu-title","","cdkOverlayOrigin","",3,"subMenuMouseState","toggleSubMenu","nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"positionChange","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-submenu-none-inline-child","",3,"subMenuMouseState","theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation"]],template:function(n,a){if(n&1){let o=Ft();Dt(q6),Se(0,"div",2,0),nt("subMenuMouseState",function(m){return gt(o),vt(a.setMouseEnterState(m))})("toggleSubMenu",function(){return gt(o),vt(a.toggleSubMenu())}),je(2,K6,1,0),Oe(),je(3,X6,1,6,"div",3)(4,Q6,1,5)(5,J6,1,0,"ng-template",null,1,Ai)}n&2&&(De("nzIcon",a.nzIcon)("nzTitle",a.nzTitle)("mode",a.mode)("nzDisabled",a.nzDisabled)("isMenuInsideDropDown",a.isMenuInsideDropDown)("paddingLeft",a.nzPaddingLeft||a.inlinePaddingLeft),Te(2),ct(2,a.nzTitle?-1:2),Te(),ct(3,a.mode==="inline"?3:4))},dependencies:[i2,oh,Ei,sh,_a,Rn,fn],encapsulation:2,changeDetection:0});let i=e;return tt([et()],i.prototype,"nzOpen",void 0),tt([et()],i.prototype,"nzDisabled",void 0),i})();function lh(){let i=me(Gi,{skipSelf:!0,optional:!0}),e=me(t2);return i??e}function hh(){return me(yi,{skipSelf:!0,optional:!0})??!1}var Ia=(()=>{let e=class e{setInlineCollapsed(t){this.nzInlineCollapsed=t,this.inlineCollapsed$.next(t)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(t=>t.nzOpen),this.listOfNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}constructor(t,n,a,o){this.nzMenuService=t,this.isMenuInsideDropDown=n,this.cdr=a,this.directionality=o,this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new ke,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new it(this.nzInlineCollapsed),this.mode$=new it(this.nzMode),this.destroy$=new ve,this.listOfOpenedNzSubMenuComponent=[]}ngOnInit(){ci([this.inlineCollapsed$,this.mode$]).pipe(fe(this.destroy$)).subscribe(([t,n])=>{this.actualMode=t?"vertical":n,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe(fe(this.destroy$)).subscribe(t=>{this.nzClick.emit(t),this.nzSelectable&&!t.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(n=>n.setSelectedState(n===t))}),this.dir=this.directionality.value,this.directionality.change?.pipe(fe(this.destroy$)).subscribe(t=>{this.dir=t,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe(fe(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(t){let{nzInlineCollapsed:n,nzInlineIndent:a,nzTheme:o,nzMode:l}=t;n&&this.inlineCollapsed$.next(this.nzInlineCollapsed),a&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),o&&this.nzMenuService.setTheme(this.nzTheme),l&&(this.mode$.next(this.nzMode),!t.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(m=>m.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};e.\u0275fac=function(n){return new(n||e)(oe(Gi),oe(yi),oe(lt),oe(xt,8))},e.\u0275dir=Je({type:e,selectors:[["","nz-menu",""]],contentQueries:function(n,a,o){if(n&1&&(fi(o,Fa,5),fi(o,Va,5)),n&2){let l;_t(l=wt())&&(a.listOfNzMenuItemDirective=l),_t(l=wt())&&(a.listOfNzSubMenuComponent=l)}},hostVars:34,hostBindings:function(n,a){n&2&&ot("ant-dropdown-menu",a.isMenuInsideDropDown)("ant-dropdown-menu-root",a.isMenuInsideDropDown)("ant-dropdown-menu-light",a.isMenuInsideDropDown&&a.nzTheme==="light")("ant-dropdown-menu-dark",a.isMenuInsideDropDown&&a.nzTheme==="dark")("ant-dropdown-menu-vertical",a.isMenuInsideDropDown&&a.actualMode==="vertical")("ant-dropdown-menu-horizontal",a.isMenuInsideDropDown&&a.actualMode==="horizontal")("ant-dropdown-menu-inline",a.isMenuInsideDropDown&&a.actualMode==="inline")("ant-dropdown-menu-inline-collapsed",a.isMenuInsideDropDown&&a.nzInlineCollapsed)("ant-menu",!a.isMenuInsideDropDown)("ant-menu-root",!a.isMenuInsideDropDown)("ant-menu-light",!a.isMenuInsideDropDown&&a.nzTheme==="light")("ant-menu-dark",!a.isMenuInsideDropDown&&a.nzTheme==="dark")("ant-menu-vertical",!a.isMenuInsideDropDown&&a.actualMode==="vertical")("ant-menu-horizontal",!a.isMenuInsideDropDown&&a.actualMode==="horizontal")("ant-menu-inline",!a.isMenuInsideDropDown&&a.actualMode==="inline")("ant-menu-inline-collapsed",!a.isMenuInsideDropDown&&a.nzInlineCollapsed)("ant-menu-rtl",a.dir==="rtl")},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:"nzInlineCollapsed",nzSelectable:"nzSelectable"},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],standalone:!0,features:[Wt([{provide:t2,useClass:Gi},{provide:Gi,useFactory:lh},{provide:yi,useFactory:hh}]),Ze]});let i=e;return tt([et()],i.prototype,"nzInlineCollapsed",void 0),tt([et()],i.prototype,"nzSelectable",void 0),i})();function dh(){return me(yi,{optional:!0,skipSelf:!0})??!1}var uh=(()=>{let e=class e{constructor(t,n,a){this.elementRef=t,this.renderer=n,this.isMenuInsideDropDown=a;let o=this.isMenuInsideDropDown?"ant-dropdown-menu-item-group":"ant-menu-item-group";this.renderer.addClass(t.nativeElement,o)}ngAfterViewInit(){let t=this.titleElement.nativeElement.nextElementSibling;if(t){let n=this.isMenuInsideDropDown?"ant-dropdown-menu-item-group-list":"ant-menu-item-group-list";this.renderer.addClass(t,n)}}};e.\u0275fac=function(n){return new(n||e)(oe(Re),oe(yt),oe(yi))},e.\u0275cmp=Ie({type:e,selectors:[["","nz-menu-group",""]],viewQuery:function(n,a){if(n&1&&Pi(eh,5),n&2){let o;_t(o=wt())&&(a.titleElement=o.first)}},inputs:{nzTitle:"nzTitle"},exportAs:["nzMenuGroup"],standalone:!0,features:[Wt([{provide:yi,useFactory:dh}]),Ye],attrs:th,ngContentSelectors:nh,decls:5,vars:6,consts:[["titleElement",""],[4,"nzStringTemplateOutlet"]],template:function(n,a){n&1&&(Dt(ih),Se(0,"div",null,0),je(2,rh,2,1,"ng-container",1)(3,ah,1,0),Oe(),bt(4)),n&2&&(ot("ant-menu-item-group-title",!a.isMenuInsideDropDown)("ant-dropdown-menu-item-group-title",a.isMenuInsideDropDown),Te(2),De("nzStringTemplateOutlet",a.nzTitle),Te(),ct(3,a.nzTitle?-1:3))},dependencies:[vn,gn],encapsulation:2,changeDetection:0});let i=e;return i})();var Ra=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({imports:[Va,uh,i2]});let i=e;return i})();var fh=["overlay"];function mh(i,e){if(i&1&&(tn(0),Rt(1),nn()),i&2){let r=ze(2);Te(),ai(r.nzTitle)}}function gh(i,e){if(i&1&&(Se(0,"div",2)(1,"div",3)(2,"div",4),$e(3,"span",5),Oe(),Se(4,"div",6),je(5,mh,2,1,"ng-container",7),Oe()()()),i&2){let r=ze();ot("ant-tooltip-rtl",r.dir==="rtl"),De("ngClass",r._classMap)("ngStyle",r.nzOverlayStyle)("@.disabled",!!(r.noAnimation!=null&&r.noAnimation.nzNoAnimation))("nzNoAnimation",r.noAnimation==null?null:r.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),Te(3),De("ngStyle",r._contentStyleMap),Te(),De("ngStyle",r._contentStyleMap),Te(),De("nzStringTemplateOutlet",r.nzTitle)("nzStringTemplateOutletContext",r.nzTitleContext)}}var vh=(()=>{let e=class e{set nzVisible(t){let n=bs(t);this._visible!==n&&(this._visible=n,this.nzVisibleChange.next(n))}get nzVisible(){return this._visible}set nzTrigger(t){this._trigger=t}get nzTrigger(){return this._trigger}set nzPlacement(t){let n=t.map(a=>Ee[a]);this._positions=[...n,...Ns]}constructor(t,n,a){this.cdr=t,this.directionality=n,this.noAnimation=a,this.nzTitle=null,this.nzContent=null,this.nzArrowPointAtCenter=!1,this.nzOverlayStyle={},this.nzBackdrop=!1,this.cdkConnectedOverlayPush=!0,this.nzVisibleChange=new ve,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._prefix="ant-tooltip",this._positions=[...Ns],this.destroy$=new ve}ngOnInit(){this.directionality.change?.pipe(fe(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.getDirection()==="rtl"&&this.overlay.overlayRef.setDirection("ltr"))}hide(){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(t){this.preferredPlacement=Sr(t),this.updateStyles(),this.cdr.detectChanges()}setOverlayOrigin(t){this.origin=t,this.cdr.markForCheck()}onClickOutside(t){!this.origin.nativeElement.contains(t.target)&&this.nzTrigger!==null&&this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}};e.\u0275fac=function(n){return new(n||e)(oe(lt),oe(xt,8),oe(Ei))},e.\u0275dir=Je({type:e,viewQuery:function(n,a){if(n&1&&Pi(fh,5),n&2){let o;_t(o=wt())&&(a.overlay=o.first)}}});let i=e;return i})();function yh(i){return i instanceof It?!1:i===""||!Jc(i)}var bh=(()=>{let e=class e extends vh{constructor(t,n,a){super(t,n,a),this.nzTitle=null,this.nzTitleContext=null,this._contentStyleMap={}}isEmpty(){return yh(this.nzTitle)}updateStyles(){let t=this.nzColor&&N4(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:t},this._contentStyleMap={backgroundColor:this.nzColor&&!t?this.nzColor:null,"--color":this.nzColor}}};e.\u0275fac=function(n){return new(n||e)(oe(lt),oe(xt,8),oe(Ei,9))},e.\u0275cmp=Ie({type:e,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],standalone:!0,features:[Qi,Ye],decls:2,vars:5,consts:[["overlay","cdkConnectedOverlay"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","nzArrowPointAtCenter"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(n,a){if(n&1){let o=Ft();je(0,gh,6,11,"ng-template",1,0,Ai),nt("overlayOutsideClick",function(m){return gt(o),vt(a.onClickOutside(m))})("detach",function(){return gt(o),vt(a.hide())})("positionChange",function(m){return gt(o),vt(a.onPositionChange(m))})}n&2&&De("cdkConnectedOverlayOrigin",a.origin)("cdkConnectedOverlayOpen",a._visible)("cdkConnectedOverlayPositions",a._positions)("cdkConnectedOverlayPush",a.cdkConnectedOverlayPush)("nzArrowPointAtCenter",a.nzArrowPointAtCenter)},dependencies:[_a,Rn,Yr,B1,Ei,vn,gn,xl,zl],encapsulation:2,data:{animation:[Sa]},changeDetection:0});let i=e;return i})(),n2=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({imports:[bh]});let i=e;return i})();var Ar="default-path",Ha=[{path:"\u041C\u0430\u0442 \u0430\u043D\u0430\u043B\u0438\u0437",type:"tree",url:"https://api.github.com/repos/Math-Mech-UrFU/math-analysation/git/trees/main"},{path:"\u0410\u043B\u0433\u0435\u0431\u0440\u0430 \u0438 \u0433\u0435\u043E\u043C\u0435\u0442\u0440\u0438\u044F",type:"tree",url:"https://api.github.com/repos/Math-Mech-UrFU/algebra-and-geometry/git/trees/main"}];var a2=(()=>{let e=class e{constructor(t){this.httpClient=t}getTreeStructure(){return ce(this,arguments,function*(t=Ha,n=1){let a={};for(let o=0;o<t.length;o++){let l=t[o],m=yield Qa(this.httpClient.get(l.url));if(n===1||!m.tree){a[l.path]={path:l.path,type:l.type,url:l.url,tree:[...m.tree||[]]};continue}for(let d=0;d<n;d++)for(let h=0;h<m.tree.length;h++){let s=m.tree[h],c=yield this.getTreeStructure([{path:Ar,type:s.type,url:s.url}]);s.tree=c[Ar].tree}a[l.path]={path:l.path,type:l.type,url:l.url,tree:[...m.tree]}}return a})}getFile(t){return ce(this,null,function*(){return yield Qa(this.httpClient.get(t))})}};e.\u0275fac=function(n){return new(n||e)(ae(Jn))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var wh=(i,e)=>e.path,Mh=(i,e)=>e.sha;function Ch(i,e){if(i&1){let r=Ft();Se(0,"li",1),nt("click",function(){gt(r);let n=ze().$implicit,a=ze();return vt(a.selectFile(n))}),$e(1,"span",2),Se(2,"span"),Rt(3),Oe()()}if(i&2){let r=ze().$implicit;Te(3),ai(r.path)}}function Sh(i,e){if(i&1){let r=Ft();Se(0,"li",1),nt("click",function(){gt(r);let n=ze().$implicit,a=ze(4);return vt(a.selectFile(n))}),$e(1,"span",2),Se(2,"span"),Rt(3),Oe()()}if(i&2){let r=ze().$implicit;Te(3),ai(r.path)}}function zh(i,e){if(i&1){let r=Ft();Se(0,"li",1),nt("click",function(){gt(r);let n=ze().$implicit,a=ze(4);return vt(a.updateTreeStructure(n))}),$e(1,"span",4),Se(2,"span"),Rt(3),Oe()()}if(i&2){let r=ze().$implicit;Te(3),ai(r.path)}}function xh(i,e){if(i&1&&je(0,Sh,4,1)(1,zh,4,1),i&2){let r,t=e.$implicit;ct(0,(r=t.type)==="blob"?0:r==="tree"?1:-1)}}function Ph(i,e){if(i&1&&(Se(0,"ul"),qn(1,xh,2,1,null,null,Mh),Oe()),i&2){let r=ze(2).$implicit;Te(),Gn(r.tree)}}function Ah(i,e){if(i&1&&(Se(0,"li",3),je(1,Ph,3,0,"ul"),Oe()),i&2){let r=ze().$implicit;De("nzTitle",r.path),Te(),ct(1,r!=null&&r.tree?1:-1)}}function Th(i,e){if(i&1&&je(0,Ch,4,1)(1,Ah,2,2),i&2){let r,t=e.$implicit;ct(0,(r=t.type)==="blob"?0:r==="tree"?1:-1)}}var o2=(()=>{let e=class e{constructor(t){this.mathHandbookHttpClient=t,this.isCollapsed=C1(!1),this.selectFileChange=M1(),this.treeStructure=$n([])}ngOnInit(){this.updateTreeStructure()}selectFile(t){return ce(this,null,function*(){let n=yield this.mathHandbookHttpClient.getFile(t.url);this.selectFileChange.emit(n)})}updateTreeStructure(t){return ce(this,null,function*(){if(!t){let a=yield this.mathHandbookHttpClient.getTreeStructure(Ha,2);this.treeStructure.set(Object.values(a));return}let n=yield this.mathHandbookHttpClient.getTreeStructure([{path:Ar,type:t.type,url:t.url}],2);this.treeStructure.set(Object.values(n))})}};e.\u0275fac=function(n){return new(n||e)(oe(a2))},e.\u0275cmp=Ie({type:e,selectors:[["math-handbook-menu"]],inputs:{isCollapsed:[we.SignalBased,"isCollapsed"]},outputs:{selectFileChange:"selectFileChange"},standalone:!0,features:[Ye],decls:3,vars:1,consts:[["nz-menu","","nzMode","inline","nzTheme","dark",3,"nzInlineCollapsed"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","file","nzTheme","outline",1,"menu-item-icon"],["nz-submenu","","nzIcon","folder",3,"nzTitle"],["nz-icon","","nzType","folder","nzTheme","outline",1,"menu-item-icon"]],template:function(n,a){n&1&&(Se(0,"ul",0),qn(1,Th,2,1,null,null,wh),Oe()),n&2&&(De("nzInlineCollapsed",a.isCollapsed()),Te(),Gn(a.treeStructure()))},dependencies:[n2,qi,$i,Ra,Ia,Fa,Va],styles:[".submenu-item-icon[_ngcontent-%COMP%]{margin-right:.2rem}"],changeDetection:0});let i=e;return i})();var Na=["*"],Eh=["nz-sider-trigger",""];function kh(i,e){}function Dh(i,e){if(i&1&&je(0,kh,0,0,"ng-template",2),i&2){let r=ze(),t=mi(5);De("ngTemplateOutlet",r.nzZeroTrigger||t)}}function Oh(i,e){}function Lh(i,e){if(i&1&&je(0,Oh,0,0,"ng-template",2),i&2){let r=ze(),t=mi(3);De("ngTemplateOutlet",r.nzTrigger||t)}}function Fh(i,e){if(i&1&&$e(0,"span",3),i&2){let r=ze(2);De("nzType",r.nzCollapsed?"left":"right")}}function Vh(i,e){if(i&1&&$e(0,"span",3),i&2){let r=ze(2);De("nzType",r.nzCollapsed?"right":"left")}}function Ih(i,e){if(i&1&&je(0,Fh,1,1,"span",3)(1,Vh,1,1),i&2){let r=ze();ct(0,r.nzReverseArrow?0:1)}}function Rh(i,e){i&1&&$e(0,"span",4)}function Hh(i,e){if(i&1){let r=Ft();Se(0,"div",2),nt("click",function(){gt(r);let n=ze();return vt(n.setCollapsed(!n.nzCollapsed))}),Oe()}if(i&2){let r=ze();De("matchBreakPoint",r.matchBreakPoint)("nzCollapsedWidth",r.nzCollapsedWidth)("nzCollapsed",r.nzCollapsed)("nzBreakpoint",r.nzBreakpoint)("nzReverseArrow",r.nzReverseArrow)("nzTrigger",r.nzTrigger)("nzZeroTrigger",r.nzZeroTrigger)("siderWidth",r.widthSetting)}}var s2=(()=>{let e=class e{constructor(t,n){this.elementRef=t,this.renderer=n,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-content")}};e.\u0275fac=function(n){return new(n||e)(oe(Re),oe(yt))},e.\u0275cmp=Ie({type:e,selectors:[["nz-content"]],exportAs:["nzContent"],standalone:!0,features:[Ye],ngContentSelectors:Na,decls:1,vars:0,template:function(n,a){n&1&&(Dt(),bt(0))},encapsulation:2,changeDetection:0});let i=e;return i})();var c2=(()=>{let e=class e{constructor(t,n){this.elementRef=t,this.renderer=n,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-header")}};e.\u0275fac=function(n){return new(n||e)(oe(Re),oe(yt))},e.\u0275cmp=Ie({type:e,selectors:[["nz-header"]],exportAs:["nzHeader"],standalone:!0,features:[Ye],ngContentSelectors:Na,decls:1,vars:0,template:function(n,a){n&1&&(Dt(),bt(0))},encapsulation:2,changeDetection:0});let i=e;return i})(),l2=(()=>{let e=class e{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=this.nzCollapsedWidth===0&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=this.nzCollapsedWidth!==0}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ie({type:e,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(n,a){n&2&&(en("width",a.isNormalTrigger?a.siderWidth:null),ot("ant-layout-sider-trigger",a.isNormalTrigger)("ant-layout-sider-zero-width-trigger",a.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",a.isZeroTrigger&&a.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",a.isZeroTrigger&&!a.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],standalone:!0,features:[Ze,Ye],attrs:Eh,decls:6,vars:2,consts:[["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(n,a){n&1&&je(0,Dh,1,1,null,2)(1,Lh,1,1,null,2)(2,Ih,2,1,"ng-template",null,0,Ai)(4,Rh,1,0,"ng-template",null,1,Ai),n&2&&(ct(0,a.isZeroTrigger?0:-1),Te(),ct(1,a.isNormalTrigger?1:-1))},dependencies:[rn,qi,$i],encapsulation:2,changeDetection:0});let i=e;return i})(),Ya=(()=>{let e=class e{updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:el(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&this.nzMenuDirective.nzMode==="inline"&&this.nzCollapsedWidth!==0&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(t){t!==this.nzCollapsed&&(this.nzCollapsed=t,this.nzCollapsedChange.emit(t),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}constructor(t,n,a){this.platform=t,this.cdr=n,this.breakpointService=a,this.destroy$=new ve,this.nzMenuDirective=null,this.nzCollapsedChange=new ke,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(Ml,!0).pipe(fe(this.destroy$)).subscribe(t=>{let n=this.nzBreakpoint;n&&tl().subscribe(()=>{this.matchBreakPoint=!t[n],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(t){let{nzCollapsed:n,nzCollapsedWidth:a,nzWidth:o}=t;(n||a||o)&&this.updateStyleMap(),n&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};e.\u0275fac=function(n){return new(n||e)(oe(Pt),oe(lt),oe(Cl))},e.\u0275cmp=Ie({type:e,selectors:[["nz-sider"]],contentQueries:function(n,a,o){if(n&1&&fi(o,Ia,5),n&2){let l;_t(l=wt())&&(a.nzMenuDirective=l.first)}},hostAttrs:[1,"ant-layout-sider"],hostVars:18,hostBindings:function(n,a){n&2&&(en("flex",a.flexSetting)("max-width",a.widthSetting)("min-width",a.widthSetting)("width",a.widthSetting),ot("ant-layout-sider-zero-width",a.nzCollapsed&&a.nzCollapsedWidth===0)("ant-layout-sider-light",a.nzTheme==="light")("ant-layout-sider-dark",a.nzTheme==="dark")("ant-layout-sider-collapsed",a.nzCollapsed)("ant-layout-sider-has-trigger",a.nzCollapsible&&a.nzTrigger!==null))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:"nzReverseArrow",nzCollapsible:"nzCollapsible",nzCollapsed:"nzCollapsed"},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],standalone:!0,features:[Ze,Ye],ngContentSelectors:Na,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"],["nz-sider-trigger","",3,"click","matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"]],template:function(n,a){n&1&&(Dt(),Se(0,"div",0),bt(1),Oe(),je(2,Hh,1,8,"div",1)),n&2&&(Te(2),ct(2,a.nzCollapsible&&a.nzTrigger!==null?2:-1))},dependencies:[l2],encapsulation:2,changeDetection:0});let i=e;return tt([et()],i.prototype,"nzReverseArrow",void 0),tt([et()],i.prototype,"nzCollapsible",void 0),tt([et()],i.prototype,"nzCollapsed",void 0),i})(),h2=(()=>{let e=class e{constructor(t){this.directionality=t,this.dir="ltr",this.destroy$=new ve}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(fe(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(n){return new(n||e)(oe(xt,8))},e.\u0275cmp=Ie({type:e,selectors:[["nz-layout"]],contentQueries:function(n,a,o){if(n&1&&fi(o,Ya,4),n&2){let l;_t(l=wt())&&(a.listOfNzSiderComponent=l)}},hostAttrs:[1,"ant-layout"],hostVars:4,hostBindings:function(n,a){n&2&&ot("ant-layout-rtl",a.dir==="rtl")("ant-layout-has-sider",a.listOfNzSiderComponent.length>0)},exportAs:["nzLayout"],standalone:!0,features:[Ye],ngContentSelectors:Na,decls:1,vars:0,template:function(n,a){n&1&&(Dt(),bt(0))},encapsulation:2,changeDetection:0});let i=e;return i})(),d2=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({imports:[Ya,l2]});let i=e;return i})();var Yh="dropDown",Bh=[Ee.bottomLeft,Ee.bottomRight,Ee.topRight,Ee.topLeft],u2=(()=>{let e=class e{setDropdownMenuValue(t,n){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(t,n)}constructor(t,n,a,o,l,m){this.nzConfigService=t,this.elementRef=n,this.overlay=a,this.renderer=o,this.viewContainerRef=l,this.platform=m,this._nzModuleName=Yh,this.overlayRef=null,this.destroy$=new ve,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new it(!1),this.nzTrigger$=new it("hover"),this.overlayClose$=new ve,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new ke}ngAfterViewInit(){if(this.nzDropdownMenu){let t=this.elementRef.nativeElement,n=ii(Xe(t,"mouseenter").pipe(li(!0)),Xe(t,"mouseleave").pipe(li(!1))),a=this.nzDropdownMenu.mouseState$,o=ii(a,n),l=Xe(t,"click").pipe(Me(()=>!this.nzVisible)),m=this.nzTrigger$.pipe(St(c=>c==="hover"?o:c==="click"?l:si)),d=this.nzDropdownMenu.descendantMenuItemClick$.pipe(Ne(()=>this.nzClickHide),li(!1)),h=ii(m,d,this.overlayClose$).pipe(Ne(()=>!this.nzDisabled)),s=ii(this.inputVisible$,h);ci([s,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(Me(([c,f])=>c||f),wi(150),hi(),Ne(()=>this.platform.isBrowser),fe(this.destroy$)).subscribe(c=>{let p=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:t).getBoundingClientRect().width;if(this.nzVisible!==c&&this.nzVisibleChange.emit(c),this.nzVisible=c,c){if(!this.overlayRef)this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:p,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&this.nzTrigger==="click",scrollStrategy:this.overlay.scrollStrategies.reposition()}),ii(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(Ne(u=>!this.elementRef.nativeElement.contains(u.target))),this.overlayRef.keydownEvents().pipe(Ne(u=>u.keyCode===27&&!va(u)))).pipe(fe(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)});else{let u=this.overlayRef.getConfig();u.minWidth=p}this.positionStrategy.withPositions([Ee[this.nzPlacement],...Bh]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new un(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)}else this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(fe(this.destroy$)).subscribe(c=>{c.toState==="void"&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(t){let{nzVisible:n,nzDisabled:a,nzOverlayClassName:o,nzOverlayStyle:l,nzTrigger:m}=t;if(m&&this.nzTrigger$.next(this.nzTrigger),n&&this.inputVisible$.next(this.nzVisible),a){let d=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(d,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(d,"disabled")}o&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),l&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}};e.\u0275fac=function(n){return new(n||e)(oe(Oa),oe(Re),oe(In),oe(yt),oe(ri),oe(Pt))},e.\u0275dir=Je({type:e,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:"nzBackdrop",nzClickHide:"nzClickHide",nzDisabled:"nzDisabled",nzVisible:"nzVisible",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],standalone:!0,features:[Ze]});let i=e;return tt([$4(),et()],i.prototype,"nzBackdrop",void 0),tt([et()],i.prototype,"nzClickHide",void 0),tt([et()],i.prototype,"nzDisabled",void 0),tt([et()],i.prototype,"nzVisible",void 0),i})(),jh=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({});let i=e;return i})();var p2=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({imports:[jh,Ra]});let i=e;return i})(),am=[new Ke({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new Ke({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new Ke({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new Ke({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})];var e1=["*"];function Wh(i,e){}function $h(i,e){if(i&1&&(Se(0,"span",1),je(1,Wh,0,0,"ng-template",2),$e(2,"span",3),Oe()),i&2){let r=ze(),t=mi(4);De("nzDropdownMenu",r.nzOverlay),Te(),De("ngTemplateOutlet",t)}}function qh(i,e){}function Gh(i,e){if(i&1&&je(0,qh,0,0,"ng-template",2),i&2){ze();let r=mi(4);De("ngTemplateOutlet",r)}}function Kh(i,e){if(i&1&&(tn(0),Rt(1),nn()),i&2){let r=ze(2);Te(),I1(" ",r.nzBreadCrumbComponent.nzSeparator," ")}}function Xh(i,e){if(i&1&&(Se(0,"nz-breadcrumb-separator"),je(1,Kh,2,1,"ng-container",4),Oe()),i&2){let r=ze();Te(),De("nzStringTemplateOutlet",r.nzBreadCrumbComponent.nzSeparator)}}function Zh(i,e){i&1&&(Se(0,"span",5),bt(1),Oe())}var Qh=(i,e)=>e.url;function Jh(i,e){if(i&1){let r=Ft();Se(0,"nz-breadcrumb-item")(1,"a",0),nt("click",function(n){let a=gt(r).$implicit,o=ze(2);return vt(o.navigate(a.url,n))}),Rt(2),Oe()()}if(i&2){let r=e.$implicit;Te(),Sn("href",r.url,O1),Te(),ai(r.label)}}function ed(i,e){if(i&1&&qn(0,Jh,3,2,"nz-breadcrumb-item",null,Qh),i&2){let r=ze();Gn(r.breadcrumbs)}}var td=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ie({type:e,selectors:[["nz-breadcrumb-separator"]],hostAttrs:[1,"ant-breadcrumb-separator"],exportAs:["nzBreadcrumbSeparator"],standalone:!0,features:[Ye],ngContentSelectors:e1,decls:1,vars:0,template:function(n,a){n&1&&(Dt(),bt(0))},encapsulation:2});let i=e;return i})(),Ba=class{},ja=(()=>{let e=class e{constructor(t){this.nzBreadCrumbComponent=t}};e.\u0275fac=function(n){return new(n||e)(oe(Ba))},e.\u0275cmp=Ie({type:e,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],standalone:!0,features:[Ye],ngContentSelectors:e1,decls:5,vars:2,consts:[["noMenuTpl",""],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nz-icon","","nzType","down"],[4,"nzStringTemplateOutlet"],[1,"ant-breadcrumb-link"]],template:function(n,a){n&1&&(Dt(),je(0,$h,3,2,"span",1)(1,Gh,1,1)(2,Xh,2,1,"nz-breadcrumb-separator")(3,Zh,2,0,"ng-template",null,0,Ai)),n&2&&(ct(0,a.nzOverlay?0:1),Te(2),ct(2,a.nzBreadCrumbComponent.nzSeparator?2:-1))},dependencies:[rn,td,p2,u2,qi,$i,vn,gn],encapsulation:2,changeDetection:0});let i=e;return i})(),t1=(()=>{let e=class e{constructor(t,n,a,o,l){this.injector=t,this.cdr=n,this.elementRef=a,this.renderer=o,this.directionality=l,this.nzAutoGenerate=!1,this.nzSeparator="/",this.nzRouteLabel="breadcrumb",this.nzRouteLabelFn=m=>m,this.breadcrumbs=[],this.dir="ltr",this.destroy$=new ve}ngOnInit(){this.nzAutoGenerate&&this.registerRouterChange(),this.directionality.change?.pipe(fe(this.destroy$)).subscribe(t=>{this.dir=t,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigate(t,n){n.preventDefault(),this.injector.get(ji).navigateByUrl(t)}registerRouterChange(){try{let t=this.injector.get(ji),n=this.injector.get(Ti);t.events.pipe(Ne(a=>a instanceof Jt),fe(this.destroy$),ni(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(n.root),this.cdr.markForCheck()})}catch{throw new Error(`${vs} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(t,n="",a=[]){let o=t.children;if(o.length===0)return a;for(let l of o)if(l.outlet===Ce){let m=l.snapshot.url.map(s=>s.path).filter(s=>s).join("/"),d=m?`${n}/${m}`:n,h=this.nzRouteLabelFn(l.snapshot.data[this.nzRouteLabel]);if(m&&h){let s={label:h,params:l.snapshot.params,url:d};a.push(s)}return this.getBreadcrumbs(l,d,a)}return a}prepareComponentForRtl(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}};e.\u0275fac=function(n){return new(n||e)(oe(Si),oe(lt),oe(Re),oe(yt),oe(xt,8))},e.\u0275cmp=Ie({type:e,selectors:[["nz-breadcrumb"]],hostAttrs:[1,"ant-breadcrumb"],inputs:{nzAutoGenerate:"nzAutoGenerate",nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn"},exportAs:["nzBreadcrumb"],standalone:!0,features:[Wt([{provide:Ba,useExisting:e}]),Ye],ngContentSelectors:e1,decls:2,vars:1,consts:[[3,"click"]],template:function(n,a){n&1&&(Dt(),bt(0),je(1,ed,2,0)),n&2&&(Te(),ct(1,a.nzAutoGenerate&&a.breadcrumbs.length?1:-1))},dependencies:[ja],encapsulation:2,changeDetection:0});let i=e;return tt([et()],i.prototype,"nzAutoGenerate",void 0),i})(),f2=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({imports:[t1,ja]});let i=e;return i})();var m2=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ie({type:e,selectors:[["math-handbook-breadcrumb"]],standalone:!0,features:[Ye],decls:3,vars:0,template:function(n,a){n&1&&(Se(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),Rt(2,"Home"),Oe()())},dependencies:[f2,t1,ja],encapsulation:2,changeDetection:0});let i=e;return i})();var Lt=l1(M2(),1),Et=l1(C2(),1);var md=["pdfViewerContainer"];function gd(i,e){let r=new i.EventBus;return vd(r,e),r}function vd(i,e){Xe(i,"documentload").pipe(fe(e)).subscribe(()=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(r)}),Xe(i,"pagerendered").pipe(fe(e)).subscribe(({pageNumber:r,cssTransform:t,source:n})=>{let a=document.createEvent("CustomEvent");a.initCustomEvent("pagerendered",!0,!0,{pageNumber:r,cssTransform:t}),n.div.dispatchEvent(a)}),Xe(i,"textlayerrendered").pipe(fe(e)).subscribe(({pageNumber:r,source:t})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:r}),t.textLayerDiv?.dispatchEvent(n)}),Xe(i,"pagechanging").pipe(fe(e)).subscribe(({pageNumber:r,source:t})=>{let n=document.createEvent("UIEvents");n.initEvent("pagechanging",!0,!0),n.pageNumber=r,t.container.dispatchEvent(n)}),Xe(i,"pagesinit").pipe(fe(e)).subscribe(({source:r})=>{let t=document.createEvent("CustomEvent");t.initCustomEvent("pagesinit",!0,!0,null),r.container.dispatchEvent(t)}),Xe(i,"pagesloaded").pipe(fe(e)).subscribe(({pagesCount:r,source:t})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("pagesloaded",!0,!0,{pagesCount:r}),t.container.dispatchEvent(n)}),Xe(i,"scalechange").pipe(fe(e)).subscribe(({scale:r,presetValue:t,source:n})=>{let a=document.createEvent("UIEvents");a.initEvent("scalechange",!0,!0),a.scale=r,a.presetValue=t,n.container.dispatchEvent(a)}),Xe(i,"updateviewarea").pipe(fe(e)).subscribe(({location:r,source:t})=>{let n=document.createEvent("UIEvents");n.initEvent("updateviewarea",!0,!0),n.location=r,t.container.dispatchEvent(n)}),Xe(i,"find").pipe(fe(e)).subscribe(({source:r,type:t,query:n,phraseSearch:a,caseSensitive:o,highlightAll:l,findPrevious:m})=>{if(r===window)return;let d=document.createEvent("CustomEvent");d.initCustomEvent("find"+t,!0,!0,{query:n,phraseSearch:a,caseSensitive:o,highlightAll:l,findPrevious:m}),window.dispatchEvent(d)}),Xe(i,"attachmentsloaded").pipe(fe(e)).subscribe(({attachmentsCount:r,source:t})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:r}),t.container.dispatchEvent(n)}),Xe(i,"sidebarviewchanged").pipe(fe(e)).subscribe(({view:r,source:t})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("sidebarviewchanged",!0,!0,{view:r}),t.outerContainer.dispatchEvent(n)}),Xe(i,"pagemode").pipe(fe(e)).subscribe(({mode:r,source:t})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("pagemode",!0,!0,{mode:r}),t.pdfViewer.container.dispatchEvent(n)}),Xe(i,"namedaction").pipe(fe(e)).subscribe(({action:r,source:t})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("namedaction",!0,!0,{action:r}),t.pdfViewer.container.dispatchEvent(n)}),Xe(i,"presentationmodechanged").pipe(fe(e)).subscribe(({active:r,switchInProgress:t})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("presentationmodechanged",!0,!0,{active:r,switchInProgress:t}),window.dispatchEvent(n)}),Xe(i,"outlineloaded").pipe(fe(e)).subscribe(({outlineCount:r,source:t})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("outlineloaded",!0,!0,{outlineCount:r}),t.container.dispatchEvent(n)})}function o1(i,e,r){i[e]=r}function Er(){return typeof window>"u"}Er()||o1(Lt,"verbosity",Lt.VerbosityLevel.INFOS);var s1=function(i){return i[i.DISABLED=0]="DISABLED",i[i.ENABLED=1]="ENABLED",i[i.ENHANCED=2]="ENHANCED",i}(s1||{}),S2=(()=>{class i{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof Lt<"u"?`https://unpkg.com/pdfjs-dist@${Lt.version}/cmaps/`:null;_imageResourcesPath=typeof Lt<"u"?`https://unpkg.com/pdfjs-dist@${Lt.version}/web/images/`:void 0;_renderText=!0;_renderTextMode=s1.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new ve;afterLoadComplete=new ke;pageRendered=new ke;pageInitialized=new ke;textLayerRendered=new ke;onError=new ke;onProgress=new ke;pageChange=new ke(!0);src;set cMapsUrl(r){this._cMapsUrl=r}set page(r){r=parseInt(r,10)||1;let t=r;this._pdf&&(r=this.getValidPageNumber(r)),this._page=r,t!==r&&this.pageChange.emit(r)}set renderText(r){this._renderText=r}set renderTextMode(r){this._renderTextMode=r}set originalSize(r){this._originalSize=r}set showAll(r){this._showAll=r}set stickToPage(r){this._stickToPage=r}set zoom(r){r<=0||(this._zoom=r)}get zoom(){return this._zoom}set zoomScale(r){this._zoomScale=r}get zoomScale(){return this._zoomScale}set rotation(r){if(!(typeof r=="number"&&r%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=r}set externalLinkTarget(r){this._externalLinkTarget=r}set autoresize(r){this._canAutoResize=!!r}set fitToPage(r){this._fitToPage=!!r}set showBorders(r){this._showBorders=!!r}static getLinkTarget(r){switch(r){case"blank":return Et.LinkTarget.BLANK;case"none":return Et.LinkTarget.NONE;case"self":return Et.LinkTarget.SELF;case"parent":return Et.LinkTarget.PARENT;case"top":return Et.LinkTarget.TOP}return null}constructor(r,t){if(this.element=r,this.ngZone=t,Er())return;let n,a=Lt.version,o=window[`pdfWorkerSrc${a}`];o?n=o:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?n=window.pdfWorkerSrc:n=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${a}/legacy/build/pdf.worker.min.js`,o1(Lt.GlobalWorkerOptions,"workerSrc",n)}ngAfterViewChecked(){if(this.isInitialized)return;let r=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&r==null){this.isVisible=!1;return}this.isVisible===!1&&r!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(r){if(!(Er()||!this.isVisible)){if("src"in r)this.loadPDF();else if(this._pdf){if(("renderText"in r||"showAll"in r)&&(this.setupViewer(),this.resetPdfDocument()),"page"in r){let{page:t}=r;if(t.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){dt(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(fe(this.destroy$)).subscribe({next:r=>{let t=this._rotation+r.rotate,n=r.getViewport({scale:this._zoom,rotation:t}).width*i.CSS_UNITS,a=this._zoom,o=!0;if(!this._originalSize||this._fitToPage&&n>this.pdfViewerContainer.nativeElement.clientWidth){let l=r.getViewport({scale:1,rotation:t});a=this.getScale(l.width,l.height),o=!this._stickToPage}this.pdfViewer.pagesPromise?.then(()=>{this.pdfViewer.currentScale=a,o&&this.pdfViewer.scrollPageIntoView({pageNumber:r.pageNumber,ignoreDestinationZoom:!0})})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let r=i.getLinkTarget(this._externalLinkTarget);return r?{externalLinkTarget:r}:{}}initEventBus(){this.eventBus=gd(Et,this.destroy$),Xe(this.eventBus,"pagerendered").pipe(fe(this.destroy$)).subscribe(r=>{this.pageRendered.emit(r)}),Xe(this.eventBus,"pagesinit").pipe(fe(this.destroy$)).subscribe(r=>{this.pageInitialized.emit(r)}),Xe(this.eventBus,"pagechanging").pipe(fe(this.destroy$)).subscribe(({pageNumber:r})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=r,this.pageChange.emit(r)},100)}),Xe(this.eventBus,"textlayerrendered").pipe(fe(this.destroy$)).subscribe(r=>{this.textLayerRendered.emit(r)})}initPDFServices(){this.pdfLinkService=new Et.PDFLinkService(he({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new Et.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:s1.DISABLED,findController:this.pdfFindController,l10n:new Et.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:Lt.AnnotationEditorType.DISABLE}}setupViewer(){o1(Lt,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new Et.PDFViewer(this.getPDFOptions()):this.pdfViewer=new Et.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(r){return r<1?1:r>this._pdf.numPages?this._pdf.numPages:r}getDocumentParams(){let r=typeof this.src;if(!this._cMapsUrl)return this.src;let t={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return t.isEvalSupported=!1,r==="string"?t.url=this.src:r==="object"&&(this.src.byteLength!==void 0?t.data=this.src:Object.assign(t,this.src)),t}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=Lt.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=t=>{this.onProgress.emit(t)};let r=this.src;dt(this.loadingTask.promise).pipe(fe(this.destroy$)).subscribe({next:t=>{this._pdf=t,this.lastLoaded=r,this.afterLoadComplete.emit(t),this.resetPdfDocument(),this.update()},error:t=>{this.lastLoaded=null,this.onError.emit(t)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(r,t){let n=this._showBorders?2*i.BORDER_WIDTH:0,a=this.pdfViewerContainer.nativeElement.clientWidth-n,o=this.pdfViewerContainer.nativeElement.clientHeight-n;if(o===0||t===0||a===0||r===0)return 1;let l=1;switch(this._zoomScale){case"page-fit":l=Math.min(o/t,a/r);break;case"page-height":l=o/t;break;case"page-width":default:l=a/r;break}return this._zoom*l/i.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){Er()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){Er()||this.ngZone.runOutsideAngular(()=>{Xe(window,"resize").pipe(p1(100),Ne(()=>this._canAutoResize&&!!this._pdf),fe(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(t){return new(t||i)(oe(Re),oe(He))};static \u0275cmp=Ie({type:i,selectors:[["pdf-viewer"]],viewQuery:function(t,n){if(t&1&&Pi(md,5),t&2){let a;_t(a=wt())&&(n.pdfViewerContainer=a.first)}},inputs:{src:"src",cMapsUrl:[we.None,"c-maps-url","cMapsUrl"],page:"page",renderText:[we.None,"render-text","renderText"],renderTextMode:[we.None,"render-text-mode","renderTextMode"],originalSize:[we.None,"original-size","originalSize"],showAll:[we.None,"show-all","showAll"],stickToPage:[we.None,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[we.None,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[we.None,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[we.None,"fit-to-page","fitToPage"],showBorders:[we.None,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[Ze],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(t,n){t&1&&(Se(0,"div",1,0),$e(2,"div",2),Oe())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return i})(),z2=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Ae({type:i});static \u0275inj=Pe({})}return i})();var x2=(()=>{let e=class e{constructor(){this.isMenuCollapsed=$n(!1),this.file=$n("")}showFile(t){this.file.set(`data:application/pdf;${t.encoding},${t.content}`)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ie({type:e,selectors:[["math-handbook-main-page"]],standalone:!0,features:[Ye],decls:9,vars:6,consts:[["nzCollapsible","",3,"nzCollapsedChange"],[3,"selectFileChange","isCollapsed"],[1,"content-layout"],[1,"breadcrumb"],[1,"content"],[1,"pdf-viewer",3,"show-borders","render-text","original-size","fit-to-page","src"]],template:function(n,a){n&1&&(Se(0,"nz-layout"),$e(1,"nz-header"),Se(2,"nz-layout")(3,"nz-sider",0),nt("nzCollapsedChange",function(l){return a.isMenuCollapsed.set(l)}),Se(4,"math-handbook-menu",1),nt("selectFileChange",function(l){return a.showFile(l)}),Oe()(),Se(5,"nz-layout",2),$e(6,"math-handbook-breadcrumb",3),Se(7,"nz-content",4),$e(8,"pdf-viewer",5),Oe()()()()),n&2&&(Te(4),De("isCollapsed",a.isMenuCollapsed()),Te(4),De("show-borders",!1)("render-text",!0)("original-size",!0)("fit-to-page",!0)("src",a.file()))},dependencies:[z2,S2,m2,d2,h2,c2,s2,Ya,o2],styles:["[_nghost-%COMP%]{height:100%;display:flex}.content-layout[_ngcontent-%COMP%]{padding:0 2rem}.breadcrumb[_ngcontent-%COMP%]{margin:1rem 0}.content[_ngcontent-%COMP%]{padding:1.5rem;background-color:#fff}.pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0});let i=e;return i})();var P2=[{path:"",component:x2}];var A2={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week"},QRCode:{expired:"QR code expired",refresh:"Refresh"}};var bd=new xe("nz-i18n");function T2(i){return ui([{provide:bd,useValue:i}])}var ng=new xe("nz-date-locale");var rg=new xe("date-config");function _d(i){let e=i,r=Math.floor(Math.abs(i)),t=i.toString().replace(/^[^.]*\.?/,"").length;return r===1&&t===0?1:5}var E2=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",_d];var wd={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},wg=Be(he({},wd),{"[class.ng-submitted]":"isSubmitted"});var Md=new xe("CallSetDisabledState",{providedIn:"root",factory:()=>k2}),k2="always";var Cd=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({});let i=e;return i})();var D2=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Md,useValue:t.callSetDisabledState??k2}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Pe({imports:[Cd]});let i=e;return i})();var Sd="@",zd=(()=>{let e=class e{constructor(t,n,a,o,l){this.doc=t,this.delegate=n,this.zone=a,this.animationType=o,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=me(Fr,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-SS4CUAJ5.js")).catch(n=>{throw new Qe(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:a})=>{this._engine=n(this.animationType,this.doc,this.scheduler);let o=new a(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(t,n){let a=this.delegate.createRenderer(t,n);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let o=new c1(a);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let m=l.createRenderer(t,n);o.use(m)}).catch(l=>{o.use(a)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(n){ao()},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})(),c1=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let r of this.replay)r(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,r){this.delegate.appendChild(e,r)}insertBefore(e,r,t,n){this.delegate.insertBefore(e,r,t,n)}removeChild(e,r,t){this.delegate.removeChild(e,r,t)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,t,n){this.delegate.setAttribute(e,r,t,n)}removeAttribute(e,r,t){this.delegate.removeAttribute(e,r,t)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,t,n){this.delegate.setStyle(e,r,t,n)}removeStyle(e,r,t){this.delegate.removeStyle(e,r,t)}setProperty(e,r,t){this.shouldReplay(r)&&this.replay.push(n=>n.setProperty(e,r,t)),this.delegate.setProperty(e,r,t)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,t){return this.shouldReplay(r)&&this.replay.push(n=>n.listen(e,r,t)),this.delegate.listen(e,r,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(Sd)}};function O2(i="animations"){return Vr("NgAsyncAnimations"),ui([{provide:Zt,useFactory:(e,r,t)=>new zd(e,r,t,i),deps:[Le,An,He]},{provide:pi,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}Y1(E2);var L2={providers:[qc(P2),T2(A2),b1(D2),O2(),rc()]};var F2=(()=>{let e=class e{constructor(){this.title="Math Handbook"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ie({type:e,selectors:[["math-handbook-root"]],standalone:!0,features:[Ye],decls:1,vars:0,template:function(n,a){n&1&&$e(0,"router-outlet")},dependencies:[ls],styles:["[_nghost-%COMP%]{height:100%;display:block}"],changeDetection:0});let i=e;return i})();uc(F2,L2).catch(i=>console.error(i));
